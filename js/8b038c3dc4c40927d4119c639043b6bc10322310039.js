Date.prototype.getMonthName=function(){var month=['January','February','March','April','May','June','July','August','September','October','November','December'];return month[this.getMonth()];};var winScrollAuto=false;var defaultDate=new Date($('#currentServerTime').val());if(defaultDate.getHours()<=8){defaultDate.setHours(11);defaultDate.setMinutes(0);}else if(defaultDate.getHours()>=21){defaultDate.setDate(defaultDate.getDate()+1);defaultDate.setHours(11);defaultDate.setMinutes(0);}else if(defaultDate.getHours()>=17){defaultDate.setDate(defaultDate.getDate()+1);defaultDate.setHours(8);defaultDate.setMinutes(0);}else{if(typeof(priceset)!='undefined'){defaultDate.setMinutes(defaultDate.getMinutes()+Number(priceset.minimum_time_to_session));}else{defaultDate.setHours(defaultDate.getHours()+4);}
defaultDate.setMinutes(defaultDate.getMinutes()+15);}
var overlay;var bookingErrorTimer=false;var PhotosessionOrder=new(function(){var pricepacket=typeof(priceset)!=='undefined'?priceset:false;var SessionStorageKey='PhotosessionOrder';var LSEnabled='localStorage'in window&&window['localStorage']!==null;var modelType='Photosession';var total=147;var travelCost=0;var rushDelivery=false;var photosSizePay=false;var commercialUse=false;var allRawFiles=false;var hourSelectorValue=2;var photographersNum=1;var pricePlan=1;var hourPrice=pricepacket?pricepacket.additional_hour_price:49;var startDate=false;var postCode='';var address='';var description='';var eventType=false;var extraPhotographer=false;var paymentMethod='card';var photosession_mode=1;var extraPhotographerPrice=function(){if(pricePlan==1){if(pricepacket){if(pricepacket.base_price){if(hourSelectorValue<pricepacket.base_hours+1){return pricepacket.base_price;}else{console.log('Price: '+(pricepacket.base_price+(hourSelectorValue-pricepacket.base_hours)*pricepacket.additional_hour_price));return(pricepacket.base_price+(hourSelectorValue-pricepacket.base_hours)*pricepacket.additional_hour_price);}}else{return pricepacket.additional_hour_price*hourSelectorValue;}}else{if(hourSelectorValue<3){return 147;}else{return(147+(hourSelectorValue-2)*hourPrice);}}}else{return 299;}}
var changeEventType=function(type){ga('send','event','HOF','Change event type');eventType=type;storageUpdate();};var changeDate=function(date){startDate=date;storageUpdate();};var changeTravelCost=function(cost){travelCost=cost;orderRecalculate();}
var changeRawFiles=function(raw){if(!raw){allRawFiles=false;ga('send','event','HOF','All raw files unuse');}else{allRawFiles=true;ga('send','event','HOF','All raw files use');}
orderRecalculate();};var changeCommercialLicense=function(use){if(!use){commercialUse=false;ga('send','event','HOF','Commercial license unuse');}else{commercialUse=true;ga('send','event','HOF','Commercial license use');}
orderRecalculate();};var changePhotographersNum=function(num){ga('send','event','HOF','Change photographers num');photographersNum=num;orderRecalculate();};var changeHours=function(hours){hourSelectorValue=parseInt(hours);$('.extraPhotographerPrice').text(extraPhotographerPrice());ga('send','event','HOF','Change hour selector');orderRecalculate();};var changePhotoSize=function(photosize){ga('send','event','HOF','Change Photos size selector');photosSizePay=photosize;orderRecalculate();};var changeRushDelivery=function(rush){ga('send','event','HOF','Change Rush delivery selector');rushDelivery=rush;orderRecalculate();};var postCodeChange=function(code){postCode=code;storageUpdate();};var setupStandartPlan=function(){pricePlan=2;photosSizePay=commercialUse=allRawFiles=true;rushDelivery=false;hourSelectorValue=5;orderRecalculate(true);};var setupLitePlan=function(){pricePlan=1;photosSizePay=commercialUse=allRawFiles=rushDelivery=false;hourSelectorValue=2;orderRecalculate(true);};var changeDescription=function(text){description=$.trim(text);storageUpdate();};var changeAddress=function(addr){address=$.trim(addr);storageUpdate();};var changeExtraPhotographer=function(extra){extraPhotographer=extra;orderRecalculate();};var changePayLater=function(payLater){if(payLater)
$('.pay-w-later').click();else
$('.pay-w-credit-card').click();}
var changePaymentMethod=function(paymentMet){paymentMethod=paymentMet;orderRecalculate();}
var storageUpdate=function(){if(!LSEnabled)
return false;var storageObj={rushDelivery:rushDelivery,photosSizePay:photosSizePay,commercialUse:commercialUse,allRawFiles:allRawFiles,photographersNum:photographersNum,hourSelectorValue:hourSelectorValue,travelCost:travelCost,total:total,postCode:postCode,startDate:startDate,description:description,address:address,eventType:eventType,extraPhotographer:extraPhotographer,type:'Photosession',pricePlan:pricePlan,photosession_mode:photosession_mode};localStorage[SessionStorageKey]=JSON.stringify(storageObj);};var returnStorageContent=function(){if(!LSEnabled||!localStorage[SessionStorageKey])
return false;return localStorage[SessionStorageKey];};var clearStorage=function(){if(!LSEnabled||!localStorage[SessionStorageKey])
return false;localStorage.removeItem(SessionStorageKey);};var orderRecalculate=function(noUpd){if(pricePlan==1){if(pricepacket){if(pricepacket.base_price){if(hourSelectorValue<pricepacket.base_hours+1){total=pricepacket.base_price*photographersNum;}else{total=(pricepacket.base_price+(hourSelectorValue-pricepacket.base_hours)*pricepacket.additional_hour_price)*photographersNum;}}else{total=pricepacket.additional_hour_price*hourSelectorValue*photographersNum;}
if(photosSizePay)
total+=pricepacket.print_size_price;if(commercialUse)
total+=pricepacket.commercial_use_price;if(allRawFiles)
total+=pricepacket.all_raw_files_price;}else{if(hourSelectorValue<3){total=147*photographersNum;}else{total=(147+(hourSelectorValue-2)*hourPrice)*photographersNum;}
if(photosSizePay)
total+=49;if(commercialUse)
total+=49;if(allRawFiles)
total+=49;}}else{total=299;}
if(rushDelivery)
total+=pricepacket?pricepacket.rush_delivery_price:49;if(extraPhotographer){if(pricePlan==1){if(pricepacket){if(pricepacket.base_price){total+=(hourSelectorValue<pricepacket.base_hours?pricepacket.base_price:(pricepacket.base_price+(hourSelectorValue-pricepacket.base_hours)*pricepacket.additional_hour_price));}else{total+=pricepacket.additional_hour_price*hourSelectorValue;}}else{total+=(hourSelectorValue<3?147:(147+(hourSelectorValue-2)*hourPrice))}}else{total+=299;}}
if(travelCost>0)
total+=travelCost*(extraPhotographer?2:1);$('.website_payment_page_order_steps_step_subitem_pay_method_item_price').text('£'+total);$('.paylater_price').text('£'+(total+49));if(paymentMethod=='paylater')
total+=49;storageUpdate();$('#order_session_sum').text(total);if(noUpd!==true)
Order.recalculateTotal();};var loadToPaymentUI=function(text){Obj=JSON.parse(text);total=parseInt(Obj.total);rushDelivery=Obj.rushDelivery;photosSizePay=Obj.photosSizePay;commercialUse=Obj.commercialUse;allRawFiles=Obj.allRawFiles;hourSelectorValue=parseInt(Obj.hourSelectorValue);photographersNum=parseInt(Obj.photographersNum);pricePlan=parseInt(Obj.pricePlan);startDate=Obj.startDate;postCode=$.trim(Obj.postCode);address=$.trim(Obj.address);description=Obj.description;eventType=Obj.eventType;extraPhotographer=Obj.extraPhotographer;var selectedType=$('#order_session_type option:selected');if(!selectedType.length){selectedType=$('#order_session_type option:first');$(selectedType).prop('selected',true);}
changeEventType(selectedType.val());if(startDate===false||!startDate.length){var initDate=mobiscroll.util.datetime.formatDate('d M yy, H:ii',defaultDate);$('#order_session_date').val(initDate);changeDate(initDate);}
travelCost=$('.website_payment_page_order_steps_step_travel_cost').hasClass('hide')?0:parseInt($('.website_payment_page_order_steps_step_travel_cost_data').text());orderRecalculate(true);$('#order_session_commercial').attr('checked',commercialUse);$('#order_session_raw').attr('checked',allRawFiles);$('#order_session_print').attr('checked',photosSizePay);$('#order_session_rush').attr('checked',rushDelivery);$('#order_session_photographer').attr('checked',extraPhotographer);$('.extraPhotographerPrice').text(extraPhotographerPrice());};var getTotal=function(){return total;};var getModelType=function(){return modelType;};var setPricePlan=function(plan){if(parseInt(plan)==2)
setupStandartPlan();else
setupLitePlan();};var validateObject=function(){var result=false;$('label.session-error').addClass('hide');$('.session-validate').removeClass('invalid');if($('.website-welcome-page-location-hint').length>0){$('.session-validate[name="session_address"]').addClass('invalid');$('html,body').scrollTop($('.invalid:first').offset().top-($('.navbar').outerHeight()*1.5));return false;}
$.ajax({type:'POST',url:$('#sessionValidate').attr('action'),async:false,headers:{'X-CSRF-TOKEN':$('meta[name="csrf-token"]').attr('content')},data:{id_price:typeof(priceset)!=='undefined'?priceset.id_price:false,session_address:address,session_date:startDate,session_type:eventType,priceValidation:{sum:total,params:{rushDelivery:rushDelivery?1:0,photosSizePay:photosSizePay?1:0,commercialUse:commercialUse?1:0,allRawFiles:allRawFiles?1:0,hourSelectorValue:hourSelectorValue,extraPhotographer:extraPhotographer?1:0,pricePlan:pricePlan,travelCost:travelCost,paymentMethod:paymentMethod}}},success:function(data){if(data.success!=undefined){result=true;}else if(data.errors!=undefined){$.each(data.errors,function(key,item){if(key!='payment_error'){$('.session-validate[name="'+key+'"]').addClass('invalid');$('#'+key+'-error').text(item).removeClass('hide');}});$('html,body').scrollTop($('.invalid:first').offset().top-($('.navbar').outerHeight()*1.5));}}});return result;};var getPlan=function(){return pricePlan;};var getDate=function(){return startDate;}
return{storageUpdate:storageUpdate,returnStorageContent:returnStorageContent,loadToPaymentUI:loadToPaymentUI,changeRushDelivery:changeRushDelivery,changeEventType:changeEventType,changePhotoSize:changePhotoSize,changeHours:changeHours,changeRawFiles:changeRawFiles,changePhotographersNum:changePhotographersNum,changeCommercialLicense:changeCommercialLicense,changeDate:changeDate,changeTravelCost:changeTravelCost,postCodeChange:postCodeChange,setupLitePlan:setupLitePlan,setupStandartPlan:setupStandartPlan,setPricePlan:setPricePlan,changeDescription:changeDescription,changeAddress:changeAddress,changeExtraPhotographer:changeExtraPhotographer,changePayLater:changePayLater,getTotal:getTotal,getModelType:getModelType,extraPhotographerPrice:extraPhotographerPrice,clearStorage:clearStorage,validateObject:validateObject,getPlan:getPlan,getDate:getDate,changePaymentMethod:changePaymentMethod}});function showBookingError(text){$('.headerOrderBlockErrorPlace').remove();$('body').prepend('<div class="headerOrderBlockErrorPlace">'+text+'</div>');$('.headerOrderBlockErrorPlace').animate({top:0},400);if(bookingErrorTimer)
clearTimeout(bookingErrorTimer);bookingErrorTimer=setTimeout(function(){$('.headerOrderBlockErrorPlace').remove();},7000);}
$(function(){$('.website_payment_page_order_steps_step_subitem_inputs_wrap_input_date').mobiscroll().datetime({theme:'mobiscroll',display:'center',headerText:false,maxWidth:(mobilecheck()?[99,65,72,60,20,20]:[100,80,120,80,80,80]),dateOrder:'ddMyy',timeWheels:'HHii',defaultDate:defaultDate,min:defaultDate,circular:true,steps:{minute:15,zeroBased:true},dateFormat:'D, d M yy,',dateWheels:'D M d yy',timeFormat:'H:ii',invalid:[{start:'00:00',end:'07:59'},{start:'21:15',end:'23:59'},{start:'21:45',end:'21:45'},'1/1','12/24','12/25','12/26'],onSet:saveSessionOrder});$(".booking_btn_static").click(function(e){e.preventDefault();var offset=20;var orderBox=$('#booking').length>0?'#booking':'#pricing';$('html, body').animate({scrollTop:$(orderBox).offset().top+offset},2000);});$(window).on('scroll',function(){if(!winScrollAuto){var winScroll=parseInt($(this).scrollTop());$('.page_section:visible').each(function(){if(parseInt($(this).position().top)<=winScroll){$('.page_section_selector_item.actived').removeClass('actived');$('.page_section_selector_item[data-id="'+$(this).attr('data-id')+'"]').addClass('actived');}});}});$(document).on('click','.page_section_selector_item',function(){winScrollAuto=true;$('.page_section_selector_item.actived').removeClass('actived');$(this).addClass('actived');$('html, body').stop().animate({scrollTop:(parseInt($('.page_section:visible:eq('+(parseInt($(this).attr('data-id'))-1)+')').offset().top))},900,function(){setTimeout(function(){winScrollAuto=false;},100);});return false;});$('.page_section_selector_item:eq(0)').addClass('actived');var $page=$('body').find('.website_payment_page');if(!$page.length)
return;$('#add-extras-btn').click(function(){$(this).find('.caret').toggleClass('collapsed');$(this).next().slideToggle('300');});var $modalExtrasDescription=$('#website_payment_page_modal_extras_description');function changeTextOrHide(selector,text){if(text)
$modalExtrasDescription.find(selector).html(text).show();else
$modalExtrasDescription.find(selector).hide();}
function changePriceOrHide(selector,text){if(text)
$modalExtrasDescription.find(selector).html(text).show();else
$modalExtrasDescription.find(selector).hide();}
var $width=$(window).width();if($width<=767){var cPosition=false;$('.modal').on('show.bs.modal',function(){cPosition=$(window).scrollTop();}).on('shown.bs.modal',function(){$('body').css({position:'fixed'});}).on('hide.bs.modal',function(){$('body').css({position:'relative'});window.scrollTo(0,cPosition);});}
$('.website_payment_page_order_steps_step_subitem_extras_items_item_arrow.arrow_desktop, '+'.website_payment_page_order_steps_step_subitem_extras_items_item_arrow_desktop_info').on('click',function(e){e.preventDefault();});$('.website_payment_page_order_steps_step_subitem_extras_items_item_arrow.arrow_desktop').hover(function(){$(this).addClass("hover");},function(){$(this).removeClass("hover");});$('.website_payment_page_order_steps_step_subitem_extras_items_item_arrow_desktop_info_close').on('click',function(){$(this).parents('.website_payment_page_order_steps_step_subitem_extras_items_item_arrow.arrow_desktop').removeClass('hover');});$('.btn-number').click(function(e){e.preventDefault();fieldName=$(this).attr('data-field');type=$(this).attr('data-type');var input=$("input[name='"+fieldName+"']");var currentVal=parseInt(input.val());if(!isNaN(currentVal)){if(type=='minus'){if(currentVal>input.attr('min')){input.val(currentVal-1).change();}
if(parseInt(input.val())==input.attr('min')){$(this).attr('disabled',true);}}else if(type=='plus'){if(currentVal<input.attr('max')){input.val(currentVal+1).change();}
if(parseInt(input.val())==input.attr('max')){$(this).attr('disabled',true);}}}else{input.val(0);}});$('.input-number').focusin(function(){$(this).data('oldValue',$(this).val());});$('.input-number').change(function(){minValue=parseInt($(this).attr('min'));maxValue=parseInt($(this).attr('max'));valueCurrent=parseInt($(this).val());name=$(this).attr('name');if(valueCurrent>=minValue){$(".btn-number[data-type='minus'][data-field='"+name+"']").removeAttr('disabled')}else{alert('Sorry, the minimum value was reached');$(this).val($(this).data('oldValue'));}
if(valueCurrent<=maxValue){$(".btn-number[data-type='plus'][data-field='"+name+"']").removeAttr('disabled')}else{alert('Sorry, the maximum value was reached');$(this).val($(this).data('oldValue'));}});$(".input-number").keydown(function(e){if($.inArray(e.keyCode,[46,8,9,27,13,190])!==-1||(e.keyCode==65&&e.ctrlKey===true)||(e.keyCode>=35&&e.keyCode<=39)){return;}
if((e.shiftKey||(e.keyCode<48||e.keyCode>57))&&(e.keyCode<96||e.keyCode>105)){e.preventDefault();}});$('#order_session_rush, #order_session_print, #order_session_raw, #order_session_commercial, #order_session_photographer, #order_pay_later').on('click',function(e){switch($(this).attr('id')){case'order_session_rush':PhotosessionOrder.changeRushDelivery($(this).is(':checked'));break;case'order_session_print':PhotosessionOrder.changePhotoSize($(this).is(':checked'));break;case'order_session_raw':PhotosessionOrder.changeRawFiles($(this).is(':checked'));break;case'order_session_commercial':PhotosessionOrder.changeCommercialLicense($(this).is(':checked'));break;case'order_session_photographer':PhotosessionOrder.changeExtraPhotographer($(this).is(':checked'));break;case'order_pay_later':PhotosessionOrder.changePayLater($(this).is(':checked'));break;}});$('#order_session_hours, #order_session_hours_mobile').change(function(e){val=$(this).attr('id')=='order_session_hours'?$(this).find('option:selected').val():$(this).val();PhotosessionOrder.changeHours(val);});$('.website_payment_page_order_steps_step_subitem_extras_items_item_arrow.arrow_mobile').on('click',function(e){var elIndex=$(this).data('count');$('.website_payment_page_modal_extras_description_buttons_button_add').data('id',elIndex);$('.website_payment_page_modal_extras_description_buttons_button_cancel').data('id',elIndex);e.preventDefault();if(PhotosessionOrder.getPlan()==2&&elIndex<=3){$('.website_payment_page_modal_extras_description_buttons_button_cancel').text('Close');$('.website_payment_page_modal_extras_description_buttons_button_add').hide();}else{$('.website_payment_page_modal_extras_description_buttons_button_cancel').text('No thanks');$('.website_payment_page_modal_extras_description_buttons_button_add').show();}
changeTextOrHide('#modal-extras-title',$(this).parents('.website_payment_page_order_steps_step_subitem_extras_items_item').data('title'));changePriceOrHide('#modal-extras-price',$(this).parents('.website_payment_page_order_steps_step_subitem_extras_items_item').find('.website_payment_page_order_steps_step_subitem_extras_items_item_price').text());changeTextOrHide('#modal-extras-text',$(this).parents('.website_payment_page_order_steps_step_subitem_extras_items_item').data('text'));$modalExtrasDescription.modal('show');});$('.website_payment_page_modal_extras_description_buttons_button_add').on('click',function(){if($('input[data-mobile-count="'+$(this).data('id')+'"]').is(':checked')==false&&(PhotosessionOrder.getPlan()==1||+$(this).data('id')>3)){$('input[data-mobile-count="'+$(this).data('id')+'"]').trigger('click');}
$modalExtrasDescription.modal('hide');});$('.website_payment_page_modal_extras_description_buttons_button_cancel').on('click',function(){if($('input[data-mobile-count="'+$(this).data('id')+'"]').is(':checked')==true&&(PhotosessionOrder.getPlan()==1||+$(this).data('id')>3)){$('input[data-mobile-count="'+$(this).data('id')+'"]').trigger('click');}
$modalExtrasDescription.modal('hide');});var $saveOkInfoBlock=$(".website_payment_page_order_steps_save_status_info_box .ok_box.session-ok");var $loadingInfoBlock=$(".website_payment_page_order_steps_save_status_info_box .loading_box.session-loading");$('#sessionValidate input, #sessionValidate textarea').keyup(saveSessionOrder);$('.website_payment_page_order_steps_step_subitem_inputs_wrap_input_desktop_select').change(saveSessionOrder);function saveSessionOrder(){delay(function(){PhotosessionOrder.changeAddress($('#order_session_address').val());PhotosessionOrder.changeDescription($('#order_session_description').val());PhotosessionOrder.changeEventType($('#order_session_type option:selected').val());PhotosessionOrder.changeDate($('#order_session_date').val());if(PhotosessionOrder.validateObject()==true){$saveOkInfoBlock.hide();$loadingInfoBlock.show();Order.updateOrder(function(){$saveOkInfoBlock.show();$loadingInfoBlock.hide();});}else{$saveOkInfoBlock.hide();}},1000);}});(function(na,x){"function"===typeof define&&define.amd?define(["jquery"],x):"object"===typeof exports?module.exports=x(require("jquery")):na.mobiscroll=x(na.jQuery)})(this,function(na){var x=x||{};(function(q,l,n){function f(ia){for(var a in ia)if(i[ia[a]]!==n)return!0;return!1}function j(a,e,d){var f=a;if("object"===typeof e)return a.each(function(){s[this.id]&&s[this.id].destroy();new x.classes[e.component||"Scroller"](this,e)});"string"===typeof e&&a.each(function(){var a;if((a=s[this.id])&&a[e])if(a=a[e].apply(this,Array.prototype.slice.call(d,1)),a!==n)return f=a,!1});return f}function d(e){if(a.tapped&&!e.tap&&!("TEXTAREA"==e.target.nodeName&&"mousedown"==e.type))return e.stopPropagation(),e.preventDefault(),!1}var a,e="undefined"==typeof na?x.$:na,z=+new Date,s={},U=e.extend,i=l.createElement("modernizr").style,q=f(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),C=f(["flex","msFlex","WebkitBoxDirection"]),u=function(){var a=["Webkit","Moz","O","ms"],e;for(e in a)if(f([a[e]+"Transform"]))return"-"+a[e].toLowerCase()+"-";return""}(),V=u.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz");a=x={$:e,version:"3.0.0-beta4beta4",util:{prefix:u,jsPrefix:V,has3d:q,hasFlex:C,isOldAndroid:/android [1-3]/i.test(navigator.userAgent),preventClick:function(){a.tapped++;setTimeout(function(){a.tapped--},500)},testTouch:function(a,d){if("touchstart"==a.type)e(d).attr("data-touch","1");else if(e(d).attr("data-touch"))return e(d).removeAttr("data-touch"),!1;return!0},objectToArray:function(a){var e=[],d;for(d in a)e.push(a[d]);return e},arrayToObject:function(a){var e={},d;if(a)for(d=0;d<a.length;d++)e[a[d]]=a[d];return e},isNumeric:function(a){return 0<=a-parseFloat(a)},isString:function(a){return"string"===typeof a},getCoord:function(a,e,d){var f=a.originalEvent||a,e=(d?"page":"client")+e;return f.targetTouches&&f.targetTouches[0]?f.targetTouches[0][e]:f.changedTouches&&f.changedTouches[0]?f.changedTouches[0][e]:a[e]},getPosition:function(a,d){var f=getComputedStyle(a[0]),i;e.each(["t","webkitT","MozT","OT","msT"],function(a,e){if(f[e+"ransform"]!==n)return i=f[e+"ransform"],!1});i=i.split(")")[0].split(", ");return d?i[13]||i[5]:i[12]||i[4]},constrain:function(a,e,d){return Math.max(e,Math.min(a,d))},vibrate:function(a){"vibrate"in navigator&&navigator.vibrate(a||50)}},tapped:0,autoTheme:"mobiscroll",presets:{scroller:{},numpad:{},listview:{},menustrip:{}},themes:{form:{},frame:{},listview:{},menustrip:{},progress:{}},i18n:{},instances:s,classes:{},components:{},settings:{},setDefaults:function(a){U(this.settings,a)},presetShort:function(d,f,i){a[d]=function(j,z){var u,l,o={},V=z||{};e.extend(V,{preset:!1===i?n:d});e(j).each(function(){s[this.id]&&s[this.id].destroy();u=new a.classes[f||"Scroller"](this,V);o[this.id]=u});l=Object.keys(o);return 1==l.length?o[l[0]]:o};this.components[d]=function(a){return j(this,U(a,{component:f,preset:!1===i?n:d}),arguments)}}};e.mobiscroll=x;e.fn.mobiscroll=function(a){U(this,x.components);return j(this,a,arguments)};x.classes.Base=function(a,d){var f,i,n,j,u,o,l=x,V=l.util,q=V.getCoord,g=this;g.settings={};g._presetLoad=function(){};g._init=function(e){for(var s in g.settings)delete g.settings[s];n=g.settings;U(d,e);g._hasDef&&(o=l.settings);U(n,g._defaults,o,d);if(g._hasTheme){u=n.theme;if("auto"==u||!u)u=l.autoTheme;"default"==u&&(u="mobiscroll");d.theme=u;j=l.themes[g._class]?l.themes[g._class][u]:{}}g._hasLang&&(f=l.i18n[n.lang]);g._hasTheme&&g.trigger("onThemeLoad",{lang:f,settings:d});U(n,j,f,o,d);if(g._hasPreset&&(g._presetLoad(n),i=l.presets[g._class][n.preset]))i=i.call(a,g),U(n,i,d)};g._destroy=function(){g&&(g.trigger("onDestroy",[]),delete s[a.id],g=null)};g.tap=function(a,e,d){function f(a){l||(d&&a.preventDefault(),l=this,u=q(a,"X"),j=q(a,"Y"),m=!1)}function i(a){if(l&&!m&&9<Math.abs(q(a,"X")-u)||9<Math.abs(q(a,"Y")-j))m=!0}function o(a){l&&(m||(a.preventDefault(),e.call(l,a,g)),l=!1,V.preventClick())}function k(){l=!1}var u,j,l,m;if(n.tap)a.on("touchstart.mbsc",f).on("touchcancel.mbsc",k).on("touchmove.mbsc",i).on("touchend.mbsc",o);a.on("click.mbsc",function(a){a.preventDefault();e.call(this,a,g)})};g.trigger=function(f,n){var u;e.each([o,j,i,d],function(e,d){d&&d[f]&&(u=d[f].call(a,n||{},g))});return u};g.option=function(a,e){var d={};"object"===typeof a?d=a:d[a]=e;g.init(d)};g.getInst=function(){return g};d=d||{};e(a).addClass("mbsc-comp");a.id||(a.id="mobiscroll"+ ++z);s[a.id]=g};l.addEventListener&&e.each(["mouseover","mousedown","mouseup","click"],function(a,e){l.addEventListener(e,d,!0)})})(window,document);(function(q,l,n){var f,j,d=x,a=d.$,e=d.util,z=e.constrain,s=e.isString,U=e.isOldAndroid,e=/(iphone|ipod|ipad).* os 8_/i.test(navigator.userAgent),i=function(){},C=function(a){a.preventDefault()};d.classes.Frame=function(e,V,x){function ja(b){m&&m.removeClass("mbsc-fr-btn-a");m=a(this);!m.hasClass("mbsc-fr-btn-d")&&!m.hasClass("mbsc-fr-btn-nhl")&&m.addClass("mbsc-fr-btn-a");if("mousedown"===b.type)a(l).on("mouseup",ba);else if("pointerdown"===b.type)a(l).on("pointerup",ba)}
function ba(b){m&&(m.removeClass("mbsc-fr-btn-a"),m=null);"mouseup"===b.type?a(l).off("mouseup",ba):"pointerup"===b.type&&a(l).off("pointerup",ba)}function aa(c){13==c.keyCode?b.select():27==c.keyCode&&b.cancel()}function ea(c){var e,d,v,w=f,p=h.focusOnClose;b._markupRemove();t.remove();c||(w||(w=N),setTimeout(function(){if(!b._isVisible)if(p===n||!0===p){j=!0;e=w[0];v=e.type;d=e.value;try{e.type="button"}catch(c){}w[0].focus();e.type=v;e.value=d}else p&&a(p)[0].focus()},200));f=null;T=b._isVisible=!1;E("onHide")}function K(c){clearTimeout(w[c.type]);w[c.type]=setTimeout(function(){var a="scroll"==c.type;(!a||Q)&&b.position(!a)},200)}function W(b){b.target.nodeType&&!k[0].contains(b.target)&&k[0].focus()}function o(){a(this).off("blur",o);setTimeout(function(){b.position()},100)}function Y(c,a){c&&c();!1!==b.show()&&(f=a,setTimeout(function(){j=!1},300))}function X(){b._fillValue();E("onSet",{valueText:b._value})}function L(){E("onCancel",{valueText:b._value})}function g(){b.setVal(null,!0)}
var J,D,ka,t,I,Z,k,H,S,O,m,M,E,F,T,ca,A,r,fa,h,Q,da,$,P,b=this,N=a(e),c=[],w={};d.classes.Base.call(this,e,V,!0);b.position=function(c){var e,d,v,w,p,y,R,ga,g,f,i,qa=0,m=0;f={};var j=Math.min(H[0].innerWidth||H.innerWidth(),Z?Z.width():0),u=H[0].innerHeight||H.innerHeight();p=a(l.activeElement);if(F&&p.is("input,textarea")&&!/(button|submit|checkbox|radio)/.test(p.attr("type")))p.on("blur",o);else if(!($===j&&P===u&&c||fa||!T))if((b._isFullScreen||/top|bottom/.test(h.display))&&k.width(j),!1!==E("onPosition",{target:t[0],windowWidth:j,windowHeight:u})&&F){d=H.scrollLeft();c=H.scrollTop();w=h.anchor===n?N:a(h.anchor);b._isLiquid&&"liquid"!==h.layout&&(400>j?t.addClass("mbsc-fr-liq"):t.removeClass("mbsc-fr-liq"));!b._isFullScreen&&/center|bubble/.test(h.display)&&(S.width(""),a(".mbsc-w-p",t).each(function(){e=this.offsetWidth;qa+=e;m=e>m?e:m}),e=qa>j?m:qa,S.width(e+1).css("white-space",qa>j?"":"nowrap"));ca=k[0].offsetWidth;A=k[0].offsetHeight;Q=A<=u&&ca<=j;(b.scrollLock=Q)?D.addClass("mbsc-fr-lock"):D.removeClass("mbsc-fr-lock");"center"==h.display?(d=Math.max(0,d+(j-ca)/2),v=c+(u-A)/2):"bubble"==h.display?(i=$!==j,v=a(".mbsc-fr-arr-i",t),p=w.offset(),y=Math.abs(D.offset().top-p.top),R=Math.abs(D.offset().left-p.left),p=w[0].offsetWidth,w=w[0].offsetHeight,ga=v[0].offsetWidth,g=v[0].offsetHeight,d=z(R-(ca-p)/2,d+3,d+j-ca-3),v=y-A-g/2,v<c||y>c+u?(k.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),v=y+w+g/2):k.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),p=z(R+p/2-(d+(ca-ga)/2),0,ga),a(".mbsc-fr-arr",t).css({left:p})):"top"==h.display?v=c:"bottom"==h.display&&(v=c+u-A);v=0>v?0:v;f.top=v;f.left=d;k.css(f);Z.height(0);f=Math.max(v+A,"body"==h.context?a(l).height():D[0].scrollHeight);Z.css({height:f});if(i&&(v+A>c+u||y>c+u))fa=!0,setTimeout(function(){fa=false},300),H.scrollTop(Math.min(y,v+A-u,f-u));$=j;P=u;a(".mbsc-comp",t).each(function(){var c=a(this).mobiscroll("getInst");c!==b&&c.position&&c.position()})}};b.attachShow=function(e,d){var w=a(e);c.push({readOnly:w.prop("readonly"),el:w});if("inline"!==h.display){if(da&&w.is("input"))w.prop("readonly",!0).on("mousedown.mbsc",function(c){c.preventDefault()});if(h.showOnFocus)w.on("focus.mbsc",function(){j||Y(d,w)});h.showOnTap&&(w.on("keydown.mbsc",function(c){if(32==c.keyCode||13==c.keyCode)c.preventDefault(),c.stopPropagation(),Y(d,w)}),b.tap(w,function(){Y(d,w)}))}};b.select=function(){F?b.hide(!1,"set",!1,X):X()};b.cancel=function(){F?b.hide(!1,"cancel",!1,L):L()};b.clear=function(){b._clearValue();E("onClear");F&&b._isVisible&&!b.live?b.hide(!1,"clear",!1,g):g()};b.enable=function(){h.disabled=!1;b._isInput&&N.prop("disabled",!1)};b.disable=function(){h.disabled=!0;b._isInput&&N.prop("disabled",!0)};b.show=function(c,e){var w,v;if(!h.disabled&&!b._isVisible){b._readValue();if(!1===E("onBeforeShow"))return!1;a(l.activeElement).is("input,textarea")&&l.activeElement.blur();M=U?!1:h.animate;if(!1!==M)if("top"==h.display)M="slidedown";else if("bottom"==h.display)M="slideup";else if("center"==h.display||"bubble"==h.display)M=h.animate||"pop";w=0<O.length;v='<div lang="'+h.lang+'" class="mbsc-'+h.theme+(h.baseTheme?" mbsc-"+h.baseTheme:"")+" mbsc-fr-"+h.display+" "+(h.cssClass||"")+" "+(h.compClass||"")+(b._isLiquid?" mbsc-fr-liq":"")+(U?" mbsc-old":"")+(w?"":" mbsc-fr-nobtn")+'"><div class="mbsc-fr-persp">'+(F?'<div class="mbsc-fr-overlay"></div>':"")+"<div"+(F?' role="dialog" tabindex="-1"':"")+' class="mbsc-fr-popup'+(h.rtl?" mbsc-rtl":" mbsc-ltr")+'">'+("bubble"===h.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+'<div class="mbsc-fr-w"><div aria-live="assertive" class="mbsc-fr-aria mbsc-fr-hdn"></div>'+(h.headerText?'<div class="mbsc-fr-hdr">'+(s(h.headerText)?h.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">';v+=b._generateContent();v+="</div>";w&&(v+='<div class="mbsc-fr-btn-cont">',a.each(O,function(c,a){a=s(a)?b.buttons[a]:a;"set"===a.handler&&(a.parentClass="mbsc-fr-btn-s");"cancel"===a.handler&&(a.parentClass="mbsc-fr-btn-c");v+="<div"+(h.btnWidth?' style="width:'+100/O.length+'%"':"")+' class="mbsc-fr-btn-w '+
(a.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+c+" mbsc-fr-btn-e "+(a.cssClass===n?h.btnClass:a.cssClass)+(a.icon?" mbsc-ic mbsc-ic-"+a.icon:"")+'">'+(a.text||"")+"</div></div>"}),v+="</div>");v+="</div></div></div></div>";t=a(v);Z=a(".mbsc-fr-persp",t);I=a(".mbsc-fr-overlay",t);S=a(".mbsc-fr-w",t);ka=a(".mbsc-fr-hdr",t);k=a(".mbsc-fr-popup",t);J=a(".mbsc-fr-aria",t);b._markup=t;b._header=ka;b._isVisible=!0;r="orientationchange resize";b._markupReady(t);E("onMarkupReady",{target:t[0]});if(F){a(q).on("keydown",aa);if(h.scrollLock)t.on("touchmove mousewheel wheel",function(c){Q&&c.preventDefault()});U&&a("input,select,button",D).each(function(){this.disabled||a(this).addClass("mbsc-fr-td").prop("disabled",true)});d.activeInstance&&d.activeInstance.hide();r+=" scroll";d.activeInstance=b;t.appendTo(D);if(h.focusTrap)H.on("focusin",W);M&&!c&&t.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+M).on("webkitAnimationEnd.mbsc animationend.mbsc",function(){t.off("webkitAnimationEnd.mbsc animationend.mbsc").removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+
M).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+M);e||k[0].focus();b.ariaMessage(h.ariaMessage)}).find(".mbsc-fr-popup").addClass("mbsc-anim-"+M)}else N.is("div")&&!b._hasContent?N.empty().append(t):t.insertAfter(N);T=!0;b._markupInserted(t);E("onMarkupInserted",{target:t[0]});b.position();H.on(r,K);t.on("selectstart mousedown",C).on("click",".mbsc-fr-btn-e",C).on("keydown",".mbsc-fr-btn-e",function(c){if(c.keyCode==32){c.preventDefault();c.stopPropagation();a(this).click()}}).on("keydown",function(c){if(c.keyCode==32)c.preventDefault();else if(c.keyCode==9&&F&&h.focusTrap){var b=t.find('[tabindex="0"]').filter(function(){return this.offsetWidth>0||this.offsetHeight>0}),y=b.index(a(":focus",t)),e=b.length-1,d=0;if(c.shiftKey){e=0;d=-1}if(y===e){b.eq(d)[0].focus();c.preventDefault()}}});a("input,select,textarea",t).on("selectstart mousedown",function(c){c.stopPropagation()}).on("keydown",function(c){c.keyCode==32&&c.stopPropagation()});a.each(O,function(c,e){b.tap(a(".mbsc-fr-btn"+c,t),function(c){e=s(e)?b.buttons[e]:e;(s(e.handler)?b.handlers[e.handler]:e.handler).call(this,c,b)},true)});h.closeOnOverlayTap&&b.tap(I,function(){b.cancel()});F&&!M&&(e||k[0].focus(),b.ariaMessage(h.ariaMessage));t.on("touchstart mousedown pointerdown",".mbsc-fr-btn-e",ja).on("touchend",".mbsc-fr-btn-e",ba);b._attachEvents(t);E("onShow",{target:t[0],valueText:b._tempValue})}};b.hide=function(c,e,w,h){if(!b._isVisible||!w&&!b._isValid&&"set"==e||!w&&!1===E("onBeforeClose",{valueText:b._tempValue,button:e}))return!1;t&&(U&&a(".mbsc-fr-td",D).each(function(){a(this).prop("disabled",!1).removeClass("mbsc-fr-td")}),F&&M&&!c&&!t.hasClass("mbsc-anim-trans")?t.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+M).on("webkitAnimationEnd.mbsc animationend.mbsc",function(){t.off("webkitAnimationEnd.mbsc animationend.mbsc");ea(c)}).find(".mbsc-fr-popup").addClass("mbsc-anim-"+M):ea(c),b._detachEvents(t),H.off(r,K).off("focusin",W));F&&(D.removeClass("mbsc-fr-lock"),a(q).off("keydown",aa),delete d.activeInstance);h&&h();E("onClose",{valueText:b._value})};b.ariaMessage=function(c){J.html("");setTimeout(function(){J.html(c)},100)};b.isVisible=function(){return b._isVisible};b.setVal=i;b.getVal=i;b._generateContent=i;b._attachEvents=i;b._detachEvents=i;b._readValue=i;b._clearValue=i;b._fillValue=i;b._markupReady=i;b._markupInserted=i;b._markupRemove=i;b._processSettings=i;b._presetLoad=function(c){c.buttons=c.buttons||("inline"!==c.display?["set","cancel"]:[]);c.headerText=c.headerText===n?"inline"!==c.display?"{value}":!1:c.headerText};b.destroy=function(){b.hide(!0,!1,!0);a.each(c,function(c,b){b.el.off(".mbsc").prop("readonly",b.readOnly)});b._destroy()};b.init=function(c){b._init(c);b._isLiquid="liquid"===(h.layout||(/top|bottom/.test(h.display)?"liquid":""));b._processSettings();N.off(".mbsc");O=h.buttons||[];F="inline"!==h.display;da=h.showOnFocus||h.showOnTap;b._window=H=a("body"==h.context?q:h.context);b._context=D=a(h.context);b.live=!0;a.each(O,function(c,a){if("ok"==a||"set"==a||"set"==a.handler)return b.live=!1});b.buttons.set={text:h.setText,handler:"set"};b.buttons.cancel={text:b.live?h.closeText:h.cancelText,handler:"cancel"};b.buttons.clear={text:h.clearText,handler:"clear"};b._isInput=N.is("input");b._isVisible&&b.hide(!0,!1,!0);E("onInit");F?(b._readValue(),b._hasContent||b.attachShow(N)):b.show();N.on("change.mbsc",function(){b._preventChange||b.setVal(N.val(),true,false);b._preventChange=false})};b.buttons={};b.handlers={set:b.select,cancel:b.cancel,clear:b.clear};b._value=null;b._isValid=!0;b._isVisible=!1;h=b.settings;E=b.trigger;x||b.init(V)};d.classes.Frame.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",disabled:!1,closeOnOverlayTap:!0,showOnFocus:!1,showOnTap:!0,display:"center",scrollLock:!0,tap:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!e};d.themes.frame.mobiscroll={rows:5,showLabel:!1,headerText:!1,btnWidth:!1,selectedLineHeight:!0,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"};a(q).on("focus",function(){f&&(j=!0)})})(window,document);x.themes.frame.ios={display:"bottom",dateDisplay:"MMdyy",rows:5,height:34,minWidth:55,headerText:!1,showLabel:!1,btnWidth:!1,selectedLineHeight:!0,selectedLineBorder:1,useShortLabels:!0,deleteIcon:"backspace3",checkIcon:"ion-ios7-checkmark-empty",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5"};(function(q,l,n){function f(a,e){return(a._array?a._map[e]:a.getIndex(e))||0}function j(a,d,f){var i=a.data;return d<a.min||d>a.max?f:a._array?a.circular?e(i).get(d%a._length):i[d]:e.isFunction(i)?i(d):""}function d(a){return e.isPlainObject(a)?a.value!==n?a.value:a.display:a}var a=x,e=a.$,z=e.extend,s=a.classes,U=a.util,i=U.getCoord,C=U.testTouch;a.presetShort("scroller","Scroller",!1);s.Scroller=function(u,q,x){function ja(c){var b=e(this).attr("data-index");c.stopPropagation();"mousedown"===c.type&&c.preventDefault();if(C(c,this)&&!(e.isArray(h.readonly)?h.readonly[b]:h.readonly))if(H=e(this).addClass("mbsc-sc-btn-a"),T=i(c,"X"),ca=i(c,"Y"),E=!0,F=!1,setTimeout(function(){o(b,"inc"==H.attr("data-dir")?1:-1)},100),"mousedown"===c.type)e(l).on("mousemove",ba).on("mouseup",aa)}function ba(c){(7<Math.abs(T-i(c,"X"))||7<Math.abs(ca-i(c,"Y")))&&Y(!0)}function aa(c){Y();c.preventDefault();"mouseup"===c.type&&e(l).off("mousemove",ba).off("mouseup",aa)}function ea(c){var b=e(this).attr("data-index"),a,d;38==c.keyCode?(a=!0,d=-1):40==c.keyCode?(a=!0,d=1):32==c.keyCode&&(a=!0,W(b));a&&(c.stopPropagation(),c.preventDefault(),d&&!E&&(E=!0,F=!1,o(b,d)))}function K(){Y()}function W(c,a){var e=$[c],h=a||e._$markup.find('.mbsc-sc-itm[data-val="'+A[c]+'"]'),f=+h.attr("data-index"),f=d(j(e,f,void 0)),v=b._tempSelected[c],g=U.isNumeric(e.multiple)?e.multiple:Infinity;if(e.multiple&&!e._disabled[f])return v[f]!==n?(h.removeClass(O).removeAttr("aria-selected"),delete v[f]):U.objectToArray(v).length<g&&(h.addClass(O).attr("aria-selected","true"),v[f]=f),!0}function o(c,b){F||X(c,b);E&&(clearInterval(M),M=setInterval(function(){X(c,b)},h.delay))}function Y(c){clearInterval(M);F=c;E=!1;H&&H.removeClass("mbsc-sc-btn-a")}function X(c,b){var a=$[c];I(a,c,a._current+b,200,1==b?1:2)}function L(c,b,a){var g=c._index-c._batch;c.data=c.data||[];c.key=c.key!==n?c.key:b;c.label=c.label!==n?c.label:b;c._map={};c._array=e.isArray(c.data);c._array&&(c._length=c.data.length,e.each(c.data,function(b,a){c._map[d(a)]=b}));c.circular=h.circular===n?c.circular===n?c._array&&c._length>h.rows:c.circular:e.isArray(h.circular)?h.circular[b]:h.circular;c.min=c._array?c.circular?-Infinity:0:c.min===n?-Infinity:c.min;c.max=c._array?c.circular?Infinity:c._length-1:c.max===n?Infinity:c.max;c._nr=b;c._index=f(c,A[b]);c._disabled={};c._batch=0;c._current=c._index;c._first=c._index-S;c._last=c._index+S;c._offset=c._first;a?(c._offset-=c._margin/r+(c._index-g),c._margin+=(c._index-g)*r):c._margin=0;c._refresh=function(b){z(c._scroller.settings,{minScroll:-((c.multiple?Math.max(0,c.max-h.rows+1):c.max)-c._offset)*r,maxScroll:-(c.min-c._offset)*r});c._scroller.refresh(b)};return P[c.key]=c}function g(c,a,d,h){for(var f,g,k,i,y,R="",ga=b._tempSelected[a],m=c._disabled||{};d<=h;d++)g=j(c,d),i=e.isPlainObject(g)?g.display:g,k=g&&g.value!==n?g.value:i,f=g&&g.cssClass!==n?g.cssClass:"",g=g&&g.label!==n?g.label:"",y=k!==n&&k==A[a]&&!c.multiple,R+='<div role="option" aria-selected="'+
(ga[k]?!0:!1)+'" class="mbsc-sc-itm '+f+" "+(y?"mbsc-sc-itm-sel ":"")+(ga[k]?O:"")+(k===n?" mbsc-sc-itm-ph":" mbsc-btn-e")+(m[k]?" mbsc-sc-itm-inv mbsc-btn-d":"")+'" data-index="'+d+'" data-val="'+k+'"'+(g?' aria-label="'+g+'"':"")+(y?' aria-selected="true"':"")+' style="height:'+r+"px;line-height:"+r+'px;">'+(1<da?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(r/da)+"px;font-size:"+Math.round(0.8*(r/da))+'px;">':"")+(i===n?"":i)+(1<da?"</div>":"")+"</div>";return R}function J(c){var b=h.headerText;return b?"function"===typeof b?b.call(u,c):b.replace(/\{value\}/i,c):""}function D(c,b,a){var a=Math.round(-a/r)+c._offset,d=a-c._current,h=c._first,f=c._last;d&&(c._first+=d,c._last+=d,c._current=a,setTimeout(function(){0<d?(c._$markup.append(g(c,b,Math.max(f+1,h+d),f+d)),e(".mbsc-sc-itm",c._$markup).slice(0,Math.min(d,f-h+1)).remove()):0>d&&(c._$markup.prepend(g(c,b,h+d,Math.min(h-1,f+d))),e(".mbsc-sc-itm",c._$markup).slice(Math.max(d,h-f-1)).remove());c._margin+=d*r;c._$markup.css("margin-top",c._margin+"px")},10))}function ka(c,b,a,e){var c=$[c],e=e||c._disabled,h=f(c,b),g=b,k=b,i=0,y=0;b===n&&(b=d(j(c,h,void 0)));if(e[b]){for(b=0;h-i>=c.min&&e[g]&&100>b;)b++,i++,g=d(j(c,h-i,void 0));for(b=0;h+y<c.max&&e[k]&&100>b;)b++,y++,k=d(j(c,h+y,void 0));b=(y<i&&y&&2!==a||!i||0>h-i||1==a)&&!e[k]?k:g}return b}function t(c,a,d,g){var k,i,j,m,y=b._isVisible;fa=!0;m=h.validate.call(u,{values:A.slice(0),index:a,direction:d},b)||{};fa=!1;m.valid&&(b._tempWheelArray=A=m.valid.slice(0));Q("onValidated");e.each($,function(h,g){y&&g._$markup.find(".mbsc-sc-itm").removeClass("mbsc-sc-itm-inv mbsc-btn-d");g._disabled={};m.disabled&&m.disabled[h]&&e.each(m.disabled[h],function(c,b){g._disabled[b]=true;y&&g._$markup.find('.mbsc-sc-itm[data-val="'+b+'"]').addClass("mbsc-sc-itm-inv mbsc-btn-d")});A[h]=g.multiple?A[h]:ka(h,A[h],d);if(y){(!g.multiple||a===n)&&g._$markup.find(".mbsc-sc-itm-sel").removeClass(O).removeAttr("aria-selected");if(g.multiple){if(a===n)for(var o in b._tempSelected[h])g._$markup.find('.mbsc-sc-itm[data-val="'+
o+'"]').addClass(O).attr("aria-selected","true")}else g._$markup.find('.mbsc-sc-itm[data-val="'+A[h]+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");i=f(g,A[h]);k=i-g._index+g._batch;if(Math.abs(k)>2*S+1){j=k+(2*S+1)*(k>0?-1:1);g._offset=g._offset+j;g._margin=g._margin-j*r;g._refresh()}g._index=i+g._batch;g._scroller.scroll(-(i-g._offset+g._batch)*r,a===h||a===n?c:200)}});b._tempValue=h.formatValue(A,b);y&&b._header.html(J(b._tempValue));b.live&&(b._hasValue=g||b._hasValue,Z(g,g,0,!0),g&&Q("onSet",{valueText:b._value}));g&&Q("onChange",{valueText:b._tempValue})}function I(b,a,e,g,h){var f=d(j(b,e,void 0));f!==n&&(A[a]=f,b._batch=b._array?Math.floor(e/b._length)*b._length:0,setTimeout(function(){t(g,a,h,!0)},10))}function Z(c,a,e,d,g){d||t(e);g||(b._wheelArray=A.slice(0),b._value=b._hasValue?b._tempValue:null,b._selected=z(!0,{},b._tempSelected));c&&(b._isInput&&N.val(b._hasValue?b._tempValue:""),Q("onFill",{valueText:b._hasValue?b._tempValue:"",change:a}),a&&(b._preventChange=!0,N.trigger("change")))}var k,H,S=20,O,m,M,E,F,T,ca,A,r,fa,h,Q,da,$,P,b=this,N=e(u);s.Frame.call(this,u,q,!0);b.setVal=b._setVal=function(c,a,d,g,f){b._hasValue=null!==c&&c!==n;b._tempWheelArray=A=e.isArray(c)?c.slice(0):h.parseValue.call(u,c,b)||[];Z(a,d===n?a:d,f,!1,g)};b.getVal=b._getVal=function(c){c=b._hasValue||c?b[c?"_tempValue":"_value"]:null;return U.isNumeric(c)?+c:c};b.setArrayVal=b.setVal;b.getArrayVal=function(c){return c?b._tempWheelArray:b._wheelArray};b.changeWheel=function(c,a,d){var h,f;e.each(c,function(c,a){f=P[c];h=f._nr;f&&(z(f,a),L(f,h,!0),b._isVisible&&(f._$markup.html(g(f,h,f._first,f._last)).css("margin-top",f._margin+"px"),f._refresh(fa)))});b._isVisible&&b.position();fa||t(a,n,n,d)};b.getValidValue=ka;b._generateContent=function(){var c,a="",d=0;e.each(h.wheels,function(f,k){a+='<div class="mbsc-w-p mbsc-sc-whl-gr-c"><div class="mbsc-sc-whl-gr'+(m?" mbsc-sc-cp":"")+(h.showLabel?" mbsc-sc-lbl-v":"")+'">';e.each(k,function(e,f){b._tempSelected[d]=z({},b._selected[d]);$[d]=L(f,d);c=f.label!==n?f.label:e;a+='<div class="mbsc-sc-whl-w '+(f.cssClass||"")+(f.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(h.width?"width:"+(h.width[d]||h.width)+"px;":(h.minWidth?"min-width:"+(h.minWidth[d]||h.minWidth)+"px;":"")+(h.maxWidth?"max-width:"+(h.maxWidth[d]||h.maxWidth)+"px;":""))+'"><div class="mbsc-sc-whl-o"></div><div class="mbsc-sc-whl-l" style="height:'+r+"px;margin-top:-"+(r/2+(h.selectedLineBorder||0))+'px;"></div><div tabindex="0" aria-live="off" aria-label="'+c+'" role="listbox" data-index="'+
d+'" class="mbsc-sc-whl" style="height:'+h.rows*r+'px;">'+(m?'<div data-index="'+d+'" data-dir="inc" class="mbsc-sc-btn mbsc-sc-btn-plus '+(h.btnPlusClass||"")+'" style="height:'+r+"px;line-height:"+r+'px;"></div><div data-index="'+d+'" data-dir="dec" class="mbsc-sc-btn mbsc-sc-btn-minus '+(h.btnMinusClass||"")+'" style="height:'+r+"px;line-height:"+r+'px;"></div>':"")+'<div class="mbsc-sc-lbl">'+c+'</div><div class="mbsc-sc-whl-c"'+(f.multiple?' aria-multiselectable="true"':' style="height:'+r+"px;margin-top:-"+
(r/2+1)+'px;"')+'><div class="mbsc-sc-whl-sc">';a+=g(f,d,f._first,f._last)+"</div></div></div>";a+="</div>";d++});a+="</div></div>"});return a};b._attachEvents=function(b){e(".mbsc-sc-btn",b).on("touchstart mousedown",ja).on("touchmove",ba).on("touchend touchcancel",aa);e(".mbsc-sc-whl",b).on("keydown",ea).on("keyup",K)};b._detachEvents=function(b){e(".mbsc-sc-whl",b).mobiscroll("destroy")};b._markupReady=function(c){k=c;e(".mbsc-sc-whl",k).each(function(c){var d,g=e(this),f=$[c];f._$markup=e(".mbsc-sc-whl-sc",this);f._scroller=new a.classes.ScrollView(this,{mousewheel:h.mousewheel,moveElement:f._$markup,initialPos:-(f._index-f._offset)*r,contSize:0,snap:r,minScroll:-((f.multiple?Math.max(0,f.max-h.rows+1):f.max)-f._offset)*r,maxScroll:-(f.min-f._offset)*r,maxSnapScroll:S,prevDef:!0,stopProp:!0,onStart:function(b,a){a.settings.readonly=e.isArray(h.readonly)?h.readonly[c]:h.readonly},onGestureStart:function(){g.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim");Q("onWheelGestureStart",{index:c})},onGestureEnd:function(b){var a=90==b.direction?1:2,e=b.duration;d=Math.round(-b.destinationY/r)+f._offset;I(f,c,d,e,a)},onAnimationStart:function(){g.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){g.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim");Q("onWheelAnimationEnd",{index:c})},onMove:function(b){D(f,c,b.posY)},onBtnTap:function(a){var a=e(a.target),d=+a.attr("data-index");W(c,a)&&(d=f._current);!1!==Q("onItemTap",{target:a[0],selected:a.hasClass("mbsc-itm-sel")})&&(I(f,c,d,200),b.live&&!f.multiple&&(!0===h.setOnTap||h.setOnTap[c])&&setTimeout(function(){b.select()},200))}})});t()};b._fillValue=function(){b._hasValue=!0;Z(!0,!0,0,!0)};b._clearValue=function(){e(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",k).removeClass(O).removeAttr("aria-selected")};b._readValue=function(){var c=N.val()||"",a=0;""!==c&&(b._hasValue=!0);b._tempWheelArray=A=b._hasValue&&b._wheelArray?b._wheelArray.slice(0):h.parseValue.call(u,c,b)||[];b._tempSelected=z(!0,{},b._selected);e.each(h.wheels,function(b,c){e.each(c,function(b,c){$[a]=L(c,a);a++})});Z();Q("onRead")};b._processSettings=function(){h=b.settings;Q=b.trigger;r=h.height;da=h.multiline;m=h.showScrollArrows;O="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+h.checkIcon;$=[];P={};b._isLiquid="liquid"===(h.layout||(/top|bottom/.test(h.display)&&1==h.wheels.length?"liquid":""));1<da&&(h.cssClass=(h.cssClass||"")+" dw-ml");m&&(h.rows=Math.max(3,h.rows))};b._tempSelected={};b._selected={};x||b.init(q)};s.Scroller.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_hasPreset:!0,_class:"scroller",_defaults:z({},s.Frame.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:300,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:0.0012,timeUnit:0.08,validate:function(){},formatValue:function(a){return a.join(" ")},parseValue:function(a,f){var i=[],j=[],l=0,s,z;null!==a&&a!==n&&(i=(a+"").split(" "));e.each(f.settings.wheels,function(a,f){e.each(f,function(a,f){z=f.data;s=d(z[0]);e.each(z,function(a,e){if(i[l]==d(e))return s=d(e),!1});j.push(s);l++})});return j}})};a.themes.scroller=a.themes.frame})(window,document);(function(){function q(f,j,d,a,e,n,l){f=new Date(f,j,d,a||0,e||0,n||0,l||0);23==f.getHours()&&0===(a||0)&&f.setHours(f.getHours()+2);return f}var l=x,n=l.$;l.util.datetime={defaults:{shortYearCutoff:"+10",monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),dayNamesMin:"S,M,T,W,T,F,S".split(","),amText:"am",pmText:"pm",getYear:function(f){return f.getFullYear()},getMonth:function(f){return f.getMonth()},getDay:function(f){return f.getDate()},getDate:q,getMaxDayOfMonth:function(f,j){return 32-(new Date(f,j,32,12)).getDate()},getWeekNumber:function(f){f=new Date(f);f.setHours(0,0,0);f.setDate(f.getDate()+4-(f.getDay()||7));var j=new Date(f.getFullYear(),0,1);return Math.ceil(((f-j)/864E5+1)/7)}},adjustedDate:q,formatDate:function(f,j,d){if(!j)return null;var d=n.extend({},l.util.datetime.defaults,d),a=function(a){for(var d=0;s+1<f.length&&f.charAt(s+1)==a;)d++,s++;return d},e=function(d,e,f){e=""+e;if(a(d))for(;e.length<f;)e="0"+e;return e},z=function(d,e,f,i){return a(d)?i[e]:f[e]},s,q,i="",C=!1;for(s=0;s<f.length;s++)if(C)"'"==f.charAt(s)&&!a("'")?C=!1:i+=f.charAt(s);else switch(f.charAt(s)){case"d":i+=e("d",d.getDay(j),2);break;case"D":i+=z("D",j.getDay(),d.dayNamesShort,d.dayNames);break;case"o":i+=e("o",(j.getTime()-(new Date(j.getFullYear(),0,0)).getTime())/864E5,3);break;case"m":i+=e("m",d.getMonth(j)+1,2);break;case"M":i+=z("M",d.getMonth(j),d.monthNamesShort,d.monthNames);break;case"y":q=d.getYear(j);i+=a("y")?q:(10>q%100?"0":"")+q%100;break;case"h":q=j.getHours();i+=e("h",12<q?q-12:0===q?12:q,2);break;case"H":i+=e("H",j.getHours(),2);break;case"i":i+=e("i",j.getMinutes(),2);break;case"s":i+=e("s",j.getSeconds(),2);break;case"a":i+=11<j.getHours()?d.pmText:d.amText;break;case"A":i+=11<j.getHours()?d.pmText.toUpperCase():d.amText.toUpperCase();break;case"'":a("'")?i+="'":C=!0;break;default:i+=f.charAt(s)}return i},parseDate:function(f,j,d){var d=n.extend({},l.util.datetime.defaults,d),a=d.defaultValue||new Date;if(!f||!j)return a;if(j.getTime)return j;var j="object"==typeof j?j.toString():j+"",e=d.shortYearCutoff,z=d.getYear(a),s=d.getMonth(a)+1,q=d.getDay(a),i=-1,C=a.getHours(),u=a.getMinutes(),x=0,ia=-1,ja=!1,ba=function(a){(a=W+1<f.length&&f.charAt(W+1)==a)&&W++;return a},aa=function(a){ba(a);a=j.substr(K).match(RegExp("^\\d{1,"+("@"==a?14:"!"==a?20:"y"==a?4:"o"==a?3:2)+"}"));if(!a)return 0;K+=a[0].length;return parseInt(a[0],10)},ea=function(a,d,e){a=ba(a)?e:d;for(d=0;d<a.length;d++)if(j.substr(K,a[d].length).toLowerCase()==a[d].toLowerCase())return K+=a[d].length,d+1;return 0},K=0,W;for(W=0;W<f.length;W++)if(ja)"'"==f.charAt(W)&&!ba("'")?ja=!1:K++;else switch(f.charAt(W)){case"d":q=aa("d");break;case"D":ea("D",d.dayNamesShort,d.dayNames);break;case"o":i=aa("o");break;case"m":s=aa("m");break;case"M":s=ea("M",d.monthNamesShort,d.monthNames);break;case"y":z=aa("y");break;case"H":C=aa("H");break;case"h":C=aa("h");break;case"i":u=aa("i");break;case"s":x=aa("s");break;case"a":ia=ea("a",[d.amText,d.pmText],[d.amText,d.pmText])-1;break;case"A":ia=ea("A",[d.amText,d.pmText],[d.amText,d.pmText])-1;break;case"'":ba("'")?K++:ja=!0;break;default:K++}100>z&&(z+=(new Date).getFullYear()-(new Date).getFullYear()%100+(z<=("string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10))?0:-100));if(-1<i){s=1;q=i;do{e=32-(new Date(z,s-1,32,12)).getDate();if(q<=e)break;s++;q-=e}while(1)}C=d.getDate(z,s-1,q,-1==ia?C:ia&&12>C?C+12:!ia&&12==C?0:C,u,x);return d.getYear(C)!=z||d.getMonth(C)+1!=s||d.getDay(C)!=q?a:C}}})();(function(q){var l=x,n=l.$,f=l.util.datetime,j=f.adjustedDate,d=new Date,a={startYear:d.getFullYear()-100,endYear:d.getFullYear()+1,separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"hh:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now"},e=function(d){function e(a,b,c){return m[b]!==q&&(a=+a[m[b]],!isNaN(a))?a:M[b]!==q?M[b]:c!==q?c:E[b]($)}function x(a){return{value:a,display:(A.match(/yy/i)?a:(a+"").substr(2,2))+(k.yearSuffix||"")}}function i(a){return a}function C(a,b,c,d,e,f,g){b.push({data:d,label:c,min:f,max:g,getIndex:e,cssClass:a})}function u(a,b,c,d){return Math.min(d,Math.floor(a/b)*b+c)}function V(a){if(null===a)return a;var b=e(a,"y"),c=e(a,"m"),d=Math.min(e(a,"d"),k.getMaxDayOfMonth(b,c)),f=e(a,"h",0);return k.getDate(b,c,d,e(a,"a",0)?f+12:f,e(a,"i",0),e(a,"s",0),e(a,"u",0))}function ia(a,b){var d,e,f=!1,g=!1,h=0,k=0;c=V(K(c));w=V(K(w));if(ja(a))return a;a<c&&(a=c);a>w&&(a=w);e=d=a;if(2!==b)for(f=ja(d);!f&&d<w;)d=new Date(d.getTime()+864E5),f=ja(d),h++;if(1!==b)for(g=ja(e);!g&&e>c;)e=new Date(e.getTime()-864E5),g=ja(e),k++;return 1===b&&f?d:2===b&&g?e:k<=h&&g?e:d}function ja(a){return a<c||a>w?!1:ba(a,T)?!0:ba(a,F)?!1:!0}function ba(a,b){var c,d,e;if(b)for(d=0;d<b.length;d++)if(c=b[d],e=c+"",!c.start)if(c.getTime){if(a.getFullYear()==c.getFullYear()&&a.getMonth()==c.getMonth()&&a.getDate()==c.getDate())return!0}else if(e.match(/w/i)){if(e=+e.replace("w",""),e==a.getDay())return!0}else if(e=e.split("/"),e[1]){if(e[0]-1==a.getMonth()&&e[1]==a.getDate())return!0}else if(e[0]==a.getDate())return!0;return!1}function aa(a,b,c,d,e,f,g){var h,i,j;if(a)for(h=0;h<a.length;h++)if(i=a[h],j=i+"",!i.start)if(i.getTime)k.getYear(i)==b&&k.getMonth(i)==c&&(f[k.getDay(i)]=g);else if(j.match(/w/i)){j=+j.replace("w","");for(J=j-d;J<e;J+=7)0<=J&&(f[J+1]=g)}else j=j.split("/"),j[1]?j[0]-1==c&&(f[j[1]]=g):f[j[0]]=g}function ea(a,c,d,e,f,g,h,i,j){var m,l,p,o,s,w,r,v,z,B,A,x,D,E,C,F,H,J,M={},K={h:P,i:b,s:N,a:1},O=k.getDate(f,g,h),L=["a","h","i","s"];a&&(n.each(a,function(a,b){if(b.start&&(b.apply=!1,m=b.d,l=m+"",p=l.split("/"),m&&(m.getTime&&f==k.getYear(m)&&g==k.getMonth(m)&&h==k.getDay(m)||!l.match(/w/i)&&(p[1]&&h==p[1]&&g==p[0]-1||!p[1]&&h==p[0])||l.match(/w/i)&&O.getDay()==+l.replace("w",""))))b.apply=!0,M[O]=!0}),n.each(a,function(a,b){E=D=0;A=t[d];x=I[d];r=w=!0;C=!1;if(b.start&&(b.apply||!b.d&&!M[O])){o=b.start.split(":");s=b.end.split(":");for(B=0;3>B;B++)o[B]===q&&(o[B]=0),s[B]===q&&(s[B]=59),o[B]=+o[B],s[B]=+s[B];o.unshift(11<o[0]?1:0);s.unshift(11<s[0]?1:0);Q&&(12<=o[1]&&(o[1]-=12),12<=s[1]&&(s[1]-=12));for(B=0;B<c;B++)if(S[B]!==q){v=u(o[B],K[L[B]],t[L[B]],I[L[B]]);z=u(s[B],K[L[B]],t[L[B]],I[L[B]]);J=H=F=0;Q&&1==B&&(F=o[0]?12:0,H=s[0]?12:0,J=S[0]?12:0);w||(v=0);r||(z=I[L[B]]);if((w||r)&&v+F<S[B]+J&&S[B]+J<z+H)C=!0;S[B]!=v&&(w=!1);S[B]!=z&&(r=!1)}if(!j)for(B=c+1;4>B;B++)0<o[B]&&(D=K[d]),s[B]<I[L[B]]&&(E=K[d]);C||(v=u(o[c],K[d],t[d],I[d])+D,z=u(s[c],K[d],t[d],I[d])-E,w&&(A=v),r&&(x=z+1));if(w||r||C)for(B=A;B<x;B++)i[B]=!j}}))}function K(a,b){var c=[];if(null===a||a===q)return a;n.each("y,m,d,a,h,i,s,u".split(","),function(d,e){m[e]!==q&&(c[m[e]]=E[e](a));b&&(M[e]=E[e](a))});return c}function W(a){var b,c,d,e=[];if(a){for(b=0;b<a.length;b++)if(c=a[b],c.start&&c.start.getTime)for(d=new Date(c.start);d<=c.end;)e.push(j(d.getFullYear(),d.getMonth(),d.getDate())),d.setDate(d.getDate()+1);else e.push(c);return e}return a}var o=n(this),Y={},X;if(o.is("input")){switch(o.attr("type")){case"date":X="yy-mm-dd";break;case"datetime":X="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":X="yy-mm-ddTHH:ii:ss";break;case"month":X="yy-mm";Y.dateOrder="mmyy";break;case"time":X="HH:ii:ss"}var L=o.attr("min"),o=o.attr("max");L&&(Y.minDate=f.parseDate(X,L));o&&(Y.maxDate=f.parseDate(X,o))}var g,J,D,ka,t,I,Z,L=n.extend({},d.settings),k=n.extend(d.settings,l.util.datetime.defaults,a,Y,L),H=0,S=[],Y=[],O=[],m={},M={},E={y:function(a){return k.getYear(a)},m:function(a){return k.getMonth(a)},d:function(a){return k.getDay(a)},h:function(a){a=a.getHours();a=Q&&12<=a?a-12:a;return u(a,P,oa,v)},i:function(a){return u(a.getMinutes(),b,la,ha)},s:function(a){return u(a.getSeconds(),N,ma,p)},u:function(a){return a.getMilliseconds()},a:function(a){return h&&11<a.getHours()?1:0}},F=k.invalid,T=k.valid,L=k.preset,ca=k.dateWheels||k.dateFormat,A=k.dateWheels||k.dateDisplay,r=k.timeWheels||k.timeFormat,fa=A.match(/D/),h=r.match(/a/i),Q=r.match(/h/),da="datetime"==L?k.dateFormat+k.separator+k.timeFormat:"time"==L?k.timeFormat:k.dateFormat,$=new Date,o=k.steps||{},P=o.hour||k.stepHour||1,b=o.minute||k.stepMinute||1,N=o.second||k.stepSecond||1,o=o.zeroBased,c=k.min||j(k.startYear,0,1),w=k.max||j(k.endYear,11,31,23,59,59),oa=o?0:c.getHours()%P,la=o?0:c.getMinutes()%b,ma=o?0:c.getSeconds()%N,v=Math.floor(((Q?11:23)-oa)/P)*P+oa,ha=Math.floor((59-la)/b)*b+la,p=Math.floor((59-la)/b)*b+la;X=X||da;if(L.match(/date/i)){n.each(["y","m","d"],function(a,b){g=ca.search(RegExp(b,"i"));-1<g&&O.push({o:g,v:b})});O.sort(function(a,b){return a.o>b.o?1:-1});n.each(O,function(a,b){m[b.v]=a});o=[];for(J=0;3>J;J++)if(J==m.y)H++,C("mbsc-dt-whl-y",o,k.yearText,x,i,k.getYear(c),k.getYear(w));else if(J==m.m){H++;D=[];for(g=0;12>g;g++)Z=A.replace(/[dy]/gi,"").replace(/mm/,(9>g?"0"+(g+1):g+
1)+(k.monthSuffix||"")).replace(/m/,g+1+(k.monthSuffix||"")),D.push({value:g,display:Z.match(/MM/)?Z.replace(/MM/,'<span class="mbsc-dt-month">'+k.monthNames[g]+"</span>"):Z.replace(/M/,'<span class="mbsc-dt-month">'+k.monthNamesShort[g]+"</span>")});C("mbsc-dt-whl-m",o,k.monthText,D)}else if(J==m.d){H++;D=[];for(g=1;32>g;g++)D.push({value:g,display:(A.match(/dd/i)&&10>g?"0"+g:g)+(k.daySuffix||"")});C("mbsc-dt-whl-d",o,k.dayText,D)}Y.push(o)}if(L.match(/time/i)){ka=!0;O=[];n.each(["h","i","s","a"],function(a,b){a=r.search(RegExp(b,"i"));-1<a&&O.push({o:a,v:b})});O.sort(function(a,b){return a.o>b.o?1:-1});n.each(O,function(a,b){m[b.v]=H+a});o=[];for(J=H;J<H+4;J++)if(J==m.h){H++;D=[];for(g=oa;g<(Q?12:24);g+=P)D.push({value:g,display:Q&&0===g?12:r.match(/hh/i)&&10>g?"0"+g:g});C("mbsc-dt-whl-h",o,k.hourText,D)}else if(J==m.i){H++;D=[];for(g=la;60>g;g+=b)D.push({value:g,display:r.match(/ii/)&&10>g?"0"+g:g});C("mbsc-dt-whl-i",o,k.minuteText,D)}else if(J==m.s){H++;D=[];for(g=ma;60>g;g+=N)D.push({value:g,display:r.match(/ss/)&&10>g?"0"+g:g});C("mbsc-dt-whl-s",o,k.secText,D)}else J==m.a&&(H++,L=r.match(/A/),C("mbsc-dt-whl-a",o,k.ampmText,L?[{value:0,display:k.amText.toUpperCase()},{value:1,display:k.pmText.toUpperCase()}]:[{value:0,display:k.amText},{value:1,display:k.pmText}]));Y.push(o)}d.getVal=function(a){return d._hasValue||a?V(d.getArrayVal(a)):null};d.setDate=function(a,b,c,e,f){d.setArrayVal(K(a),b,f,e,c)};d.getDate=d.getVal;d.format=da;d.order=m;d.handlers.now=function(){d.setDate(new Date,d.live,200,!0,!0)};d.buttons.now={text:k.nowText,handler:"now"};F=W(F);T=W(T);t={y:c.getFullYear(),m:0,d:1,h:oa,i:la,s:ma,a:0};I={y:w.getFullYear(),m:11,d:31,h:v,i:ha,s:p,a:1};return{compClass:"mbsc-dt",wheels:Y,headerText:k.headerText?function(){return f.formatDate(da,V(d.getArrayVal(!0)),k)}:!1,formatValue:function(a){return f.formatDate(X,V(a),k)},parseValue:function(a){a||(M={});return K(a?f.parseDate(X,a,k):k.defaultValue&&k.defaultValue.getTime?k.defaultValue:new Date,!!a&&!!a.getTime)},validate:function(a){var b,f,g,h;b=a.index;var i=a.direction,j=d.settings.wheels[0][m.d],a=ia(V(a.values),i),l=K(a),o=[],a={},p=e(l,"y"),r=e(l,"m"),u=k.getMaxDayOfMonth(p,r),v=!0,x=!0;n.each("y,m,d,a,h,i,s".split(","),function(a,b){if(m[b]!==q){var d=t[b],g=I[b],h=e(l,b);o[m[b]]=[];v&&c&&(d=E[b](c));x&&w&&(g=E[b](w));if(b!="y")for(f=t[b];f<=I[b];f++)(f<d||f>g)&&o[m[b]].push(f);h<d&&(h=d);h>g&&(h=g);v&&(v=h==d);x&&(x=h==g);if(b=="d"){d=k.getDate(p,r,1).getDay();g={};aa(F,p,r,d,u,g,1);aa(T,p,r,d,u,g,0);n.each(g,function(a,c){c&&o[m[b]].push(a)})}}});ka&&n.each(["a","h","i","s"],function(a,b){var c=e(l,b),f=e(l,"d"),g={};m[b]!==q&&(o[m[b]]=[],ea(F,a,b,l,p,r,f,g,0),ea(T,a,b,l,p,r,f,g,1),n.each(g,function(a,c){c&&o[m[b]].push(a)}),S[a]=d.getValidValue(m[b],c,i,g))});if(j&&(j._length!==u||fa&&(b===q||b===m.y||b===m.m))){a[m.d]=j;j.data=[];for(b=1;b<=u;b++)h=k.getDate(p,r,b).getDay(),g=A.replace(/[my]/gi,"").replace(/dd/,(10>b?"0"+b:b)+(k.daySuffix||"")).replace(/d/,b+(k.daySuffix||"")),j.data.push({value:b,display:g.match(/DD/)?g.replace(/DD/,'<span class="mbsc-dt-day">'+k.dayNames[h]+"</span>"):g.replace(/D/,'<span class="mbsc-dt-day">'+k.dayNamesShort[h]+"</span>")});d._tempWheelArray[m.d]=l[m.d];d.changeWheel(a)}return{disabled:o,valid:l}}}};n.each(["date","time","datetime"],function(a,d){l.presets.scroller[d]=e})})();(function(q){var l=x,n=l.$,f=l.classes,j=l.util,d=j.constrain,a=j.jsPrefix,e=j.prefix,z=j.getCoord,s=j.getPosition,U=j.testTouch,i=j.isNumeric,C=j.isString,u=/(iphone|ipod|ipad)/i.test(navigator.userAgent),V=window.requestAnimationFrame||function(a){a()},ia=window.cancelAnimationFrame||function(){};f.ScrollView=function(j,l,x){function ea(a){ha("onStart");G.stopProp&&a.stopPropagation();(G.prevDef||"mousedown"==a.type)&&a.preventDefault();if(!(G.readonly||G.lock&&A)&&U(a,this)&&!ca)if(g&&g.removeClass("mbsc-btn-a"),M=!1,A||(g=n(a.target).closest(".mbsc-btn-e",this),g.length&&!g.hasClass("mbsc-btn-d")&&(M=!0,J=setTimeout(function(){g.addClass("mbsc-btn-a")},100))),ca=!0,r=Q=!1,y.scrolled=A,w=z(a,"X"),oa=z(a,"Y"),S=w,I=t=ka=0,c=new Date,N=+s(ma,p)||0,L(N,u?0:1),"mousedown"===a.type)n(document).on("mousemove",K).on("mouseup",o)}function K(a){if(ca){G.stopProp&&a.stopPropagation();S=z(a,"X");O=z(a,"Y");ka=S-w;t=O-oa;I=p?t:ka;if(M&&(5<Math.abs(t)||5<Math.abs(ka)))clearTimeout(J),g.removeClass("mbsc-btn-a"),M=!1;if(y.scrolled||!r&&5<Math.abs(I))Q||ha("onGestureStart",m),y.scrolled=Q=!0,h||(h=!0,fa=V(W));p||G.scrollLock?a.preventDefault():y.scrolled?a.preventDefault():7<Math.abs(t)&&(r=!0,y.scrolled=!0,pa.trigger("touchend"))}}function W(){F&&(I=d(I,-P*F,P*F));L(d(N+I,T-H,E+H));h=!1}function o(a){if(ca){var b;b=new Date-c;G.stopProp&&a.stopPropagation();ia(fa);h=!1;!r&&y.scrolled&&(G.momentum&&300>b&&(b=I/b,I=Math.max(Math.abs(I),b*b/G.speedUnit)*(0>I?-1:1)),X(I));M&&(clearTimeout(J),g.addClass("mbsc-btn-a"),setTimeout(function(){g.removeClass("mbsc-btn-a")},100),!r&&!y.scrolled&&ha("onBtnTap",{target:g[0]}));"mouseup"==a.type&&n(document).off("mousemove",K).off("mouseup",o);ca=!1}}function Y(a){a=a.originalEvent||a;I=p?a.deltaY||a.wheelDelta||a.detail:a.deltaX;ha("onStart");G.stopProp&&a.stopPropagation();if(I&&(a.preventDefault(),!G.readonly))I=0>I?20:-20,N=R,Q||(m={posX:p?0:R,posY:p?R:0,originX:p?0:N,originY:p?N:0,direction:0<I?p?270:360:p?90:180},ha("onGestureStart",m)),h||(h=!0,fa=V(W)),Q=!0,clearTimeout(da),da=setTimeout(function(){ia(fa);Q=h=false;X(I)},200)}function X(a){var c;F&&(a=d(a,-P*F,P*F));ga=Math.round((N+a)/P);c=d(ga*P,T,E);if(b){if(0>a)for(a=b.length-1;0<=a;a--){if(Math.abs(c)+
D>=b[a].breakpoint){ga=a;na=2;c=b[a].snap2;break}}else if(0<=a)for(a=0;a<b.length;a++)if(Math.abs(c)<=b[a].breakpoint){ga=a;na=1;c=b[a].snap1;break}c=d(c,T,E)}a=G.time||(R<T||R>E?200:Math.max(200,Math.abs(c-R)*G.timeUnit));m.destinationX=p?0:c;m.destinationY=p?c:0;m.duration=a;m.transitionTiming=k;ha("onGestureEnd",m);L(c,a)}function L(b,c,d){var f=b!=R,g=1<c,h=function(){clearInterval($);A=!1;R=b;m.posX=p?0:b;m.posY=p?b:0;f&&ha("onMove",m);g&&ha("onAnimationEnd",m);d&&d()};m={posX:p?0:R,posY:p?R:0,originX:p?0:N,originY:p?N:0,direction:0<b-R?p?270:360:p?90:180};R=b;g&&(m.destinationX=p?0:b,m.destinationY=p?b:0,m.duration=c,m.transitionTiming=k,ha("onAnimationStart",m));la[a+"Transition"]=c?e+"transform "+Math.round(c)+"ms "+k:"";la[a+"Transform"]="translate3d("+(p?"0,"+b+"px,":b+"px,0,")+"0)";!f&&!A||!c||1>=c?h():c&&(A=!0,clearInterval($),$=setInterval(function(){var a=+s(ma,p)||0;m.posX=p?0:a;m.posY=p?a:0;ha("onMove",m)},100),clearTimeout(v),v=setTimeout(function(){h();la[a+"Transition"]=""},c))}var g,J,D,ka,t,I,Z,k,H,S,O,m,M,E,F,T,ca,A,r,fa,h,Q,da,$,P,b,N,c,w,oa,la,ma,v,ha,p,y=this,R,ga=0,na=1,G=l,pa=n(j);f.Base.call(this,j,l,!0);y.scrolled=!1;y.scroll=function(a,b,c){a=i(a)?Math.round(a/P)*P:Math.ceil((n(a,j).length?Math.round(ma.offset()[Z]-n(a,j).offset()[Z]):R)/P)*P;ga=Math.round(a/P);N=R;L(d(a,T,E),b,c)};y.refresh=function(a){var c;D=G.contSize===q?p?pa.height():pa.width():G.contSize;T=G.minScroll===q?p?D-ma.height():D-ma.width():G.minScroll;E=G.maxScroll===q?0:G.maxScroll;!p&&G.rtl&&(c=E,E=-T,T=-c);C(G.snap)&&(b=[],ma.find(G.snap).each(function(){var a=p?this.offsetTop:this.offsetLeft,c=p?this.offsetHeight:this.offsetWidth;b.push({breakpoint:a+c/2,snap1:-a,snap2:D-a-c})}));P=i(G.snap)?G.snap:1;F=G.snap?G.maxSnapScroll:0;k=G.easing;H=G.elastic?i(G.snap)?P:i(G.elastic)?G.elastic:0:0;R===q&&(R=G.initialPos,ga=Math.round(R/P));a||y.scroll(G.snap?b?b[ga]["snap"+na]:ga*P:R)};y.init=function(a){y._init(a);Z=(p="Y"==G.axis)?"top":"left";ma=G.moveElement||pa.children().eq(0);la=ma[0].style;y.refresh();pa.on("touchstart mousedown",ea).on("touchmove",K).on("touchend touchcancel",o);if(G.mousewheel)pa.on("wheel mousewheel",Y);j.addEventListener&&j.addEventListener("click",function(a){y.scrolled&&(y.scrolled=!1,a.stopPropagation(),a.preventDefault())},!0)};y.destroy=function(){clearInterval($);pa.off("touchstart mousedown",ea).off("touchmove",K).off("touchend touchcancel",o).off("wheel mousewheel",Y);y._destroy()};G=y.settings;ha=y.trigger;x||y.init(l)};f.ScrollView.prototype={_class:"scrollview",_defaults:{speedUnit:0.0022,timeUnit:0.8,initialPos:0,axis:"Y",easing:"ease-out",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}};l.presetShort("scrollview","ScrollView",!1)})();(function(){x.$.each(["date","time","datetime"],function(q,l){x.presetShort(l)})})();x.themes.frame["mobiscroll-dark"]={baseTheme:"mobiscroll",rows:5,showLabel:!1,headerText:!1,btnWidth:!1,selectedLineHeight:!0,selectedLineBorder:1,dateOrder:"MMddyy",weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"};x.themes.listview["mobiscroll-dark"]={baseTheme:"mobiscroll"};x.themes.menustrip["mobiscroll-dark"]={baseTheme:"mobiscroll"};x.themes.form["mobiscroll-dark"]={baseTheme:"mobiscroll"};x.themes.progress["mobiscroll-dark"]={baseTheme:"mobiscroll"};(function(){var q,l,n,f=x,j=f.themes,d=f.$;l=navigator.userAgent.match(/Android|iPhone|iPad|iPod|Windows|Windows Phone|MSIE/i);if(/Android/i.test(l)){if(q="android-holo",l=navigator.userAgent.match(/Android\s+([\d\.]+)/i))l=l[0].replace("Android ",""),q=5<=l.split(".")[0]?"material":4<=l.split(".")[0]?"android-holo":"android"}else if(/iPhone/i.test(l)||/iPad/i.test(l)||/iPod/i.test(l)){if(q="ios",l=navigator.userAgent.match(/OS\s+([\d\_]+)/i))l=l[0].replace(/_/g,".").replace("OS ",""),q="7"<=l?"ios":"ios-classic"}else if(/Windows/i.test(l)||/MSIE/i.test(l)||/Windows Phone/i.test(l))q="wp";d.each(j,function(a,e){d.each(e,function(a,d){if(d.baseTheme==q)return f.autoTheme=a,n=!0,!1;a==q&&(f.autoTheme=a)});if(n)return!1})})();return x});(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports!=='undefined'){module.exports=factory(require('jquery'));}else{factory(jQuery);}}(function($){'use strict';var Slick=window.Slick||{};Slick=(function(){var instanceUid=0;function Slick(element,settings){var _=this,dataSettings;_.defaults={accessibility:true,adaptiveHeight:false,appendArrows:$(element),appendDots:$(element),arrows:true,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:false,autoplaySpeed:3000,centerMode:false,centerPadding:'50px',cssEase:'ease',customPaging:function(slider,i){return $('<button type="button" data-role="none" role="button" tabindex="0" />').text(i+1);},dots:false,dotsClass:'slick-dots',draggable:true,easing:'linear',edgeFriction:0.35,fade:false,focusOnSelect:false,infinite:true,initialSlide:0,lazyLoad:'ondemand',mobileFirst:false,pauseOnHover:true,pauseOnFocus:true,pauseOnDotsHover:false,respondTo:'window',responsive:null,rows:1,rtl:false,slide:'',slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:true,swipeToSlide:false,touchMove:true,touchThreshold:5,useCSS:true,useTransform:true,variableWidth:false,vertical:false,verticalSwiping:false,waitForAnimate:true,zIndex:1000};_.initials={animating:false,dragging:false,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:false,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:false,unslicked:false};$.extend(_,_.initials);_.activeBreakpoint=null;_.animType=null;_.animProp=null;_.breakpoints=[];_.breakpointSettings=[];_.cssTransitions=false;_.focussed=false;_.interrupted=false;_.hidden='hidden';_.paused=true;_.positionProp=null;_.respondTo=null;_.rowCount=1;_.shouldClick=true;_.$slider=$(element);_.$slidesCache=null;_.transformType=null;_.transitionType=null;_.visibilityChange='visibilitychange';_.windowWidth=0;_.windowTimer=null;dataSettings=$(element).data('slick')||{};_.options=$.extend({},_.defaults,settings,dataSettings);_.currentSlide=_.options.initialSlide;_.originalSettings=_.options;if(typeof document.mozHidden!=='undefined'){_.hidden='mozHidden';_.visibilityChange='mozvisibilitychange';}else if(typeof document.webkitHidden!=='undefined'){_.hidden='webkitHidden';_.visibilityChange='webkitvisibilitychange';}
_.autoPlay=$.proxy(_.autoPlay,_);_.autoPlayClear=$.proxy(_.autoPlayClear,_);_.autoPlayIterator=$.proxy(_.autoPlayIterator,_);_.changeSlide=$.proxy(_.changeSlide,_);_.clickHandler=$.proxy(_.clickHandler,_);_.selectHandler=$.proxy(_.selectHandler,_);_.setPosition=$.proxy(_.setPosition,_);_.swipeHandler=$.proxy(_.swipeHandler,_);_.dragHandler=$.proxy(_.dragHandler,_);_.keyHandler=$.proxy(_.keyHandler,_);_.instanceUid=instanceUid++;_.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/;_.registerBreakpoints();_.init(true);}
return Slick;}());Slick.prototype.activateADA=function(){var _=this;_.$slideTrack.find('.slick-active').attr({'aria-hidden':'false'}).find('a, input, button, select').attr({'tabindex':'0'});};Slick.prototype.addSlide=Slick.prototype.slickAdd=function(markup,index,addBefore){var _=this;if(typeof(index)==='boolean'){addBefore=index;index=null;}else if(index<0||(index>=_.slideCount)){return false;}
_.unload();if(typeof(index)==='number'){if(index===0&&_.$slides.length===0){$(markup).appendTo(_.$slideTrack);}else if(addBefore){$(markup).insertBefore(_.$slides.eq(index));}else{$(markup).insertAfter(_.$slides.eq(index));}}else{if(addBefore===true){$(markup).prependTo(_.$slideTrack);}else{$(markup).appendTo(_.$slideTrack);}}
_.$slides=_.$slideTrack.children(this.options.slide);_.$slideTrack.children(this.options.slide).detach();_.$slideTrack.append(_.$slides);_.$slides.each(function(index,element){$(element).attr('data-slick-index',index);});_.$slidesCache=_.$slides;_.reinit();};Slick.prototype.animateHeight=function(){var _=this;if(_.options.slidesToShow===1&&_.options.adaptiveHeight===true&&_.options.vertical===false){var targetHeight=_.$slides.eq(_.currentSlide).outerHeight(true);_.$list.animate({height:targetHeight},_.options.speed);}};Slick.prototype.animateSlide=function(targetLeft,callback){var animProps={},_=this;_.animateHeight();if(_.options.rtl===true&&_.options.vertical===false){targetLeft=-targetLeft;}
if(_.transformsEnabled===false){if(_.options.vertical===false){_.$slideTrack.animate({left:targetLeft},_.options.speed,_.options.easing,callback);}else{_.$slideTrack.animate({top:targetLeft},_.options.speed,_.options.easing,callback);}}else{if(_.cssTransitions===false){if(_.options.rtl===true){_.currentLeft=-(_.currentLeft);}
$({animStart:_.currentLeft}).animate({animStart:targetLeft},{duration:_.options.speed,easing:_.options.easing,step:function(now){now=Math.ceil(now);if(_.options.vertical===false){animProps[_.animType]='translate('+
now+'px, 0px)';_.$slideTrack.css(animProps);}else{animProps[_.animType]='translate(0px,'+
now+'px)';_.$slideTrack.css(animProps);}},complete:function(){if(callback){callback.call();}}});}else{_.applyTransition();targetLeft=Math.ceil(targetLeft);if(_.options.vertical===false){animProps[_.animType]='translate3d('+targetLeft+'px, 0px, 0px)';}else{animProps[_.animType]='translate3d(0px,'+targetLeft+'px, 0px)';}
_.$slideTrack.css(animProps);if(callback){setTimeout(function(){_.disableTransition();callback.call();},_.options.speed);}}}};Slick.prototype.getNavTarget=function(){var _=this,asNavFor=_.options.asNavFor;if(asNavFor&&asNavFor!==null){asNavFor=$(asNavFor).not(_.$slider);}
return asNavFor;};Slick.prototype.asNavFor=function(index){var _=this,asNavFor=_.getNavTarget();if(asNavFor!==null&&typeof asNavFor==='object'){asNavFor.each(function(){var target=$(this).slick('getSlick');if(!target.unslicked){target.slideHandler(index,true);}});}};Slick.prototype.applyTransition=function(slide){var _=this,transition={};if(_.options.fade===false){transition[_.transitionType]=_.transformType+' '+_.options.speed+'ms '+_.options.cssEase;}else{transition[_.transitionType]='opacity '+_.options.speed+'ms '+_.options.cssEase;}
if(_.options.fade===false){_.$slideTrack.css(transition);}else{_.$slides.eq(slide).css(transition);}};Slick.prototype.autoPlay=function(){var _=this;_.autoPlayClear();if(_.slideCount>_.options.slidesToShow){_.autoPlayTimer=setInterval(_.autoPlayIterator,_.options.autoplaySpeed);}};Slick.prototype.autoPlayClear=function(){var _=this;if(_.autoPlayTimer){clearInterval(_.autoPlayTimer);}};Slick.prototype.autoPlayIterator=function(){var _=this,slideTo=_.currentSlide+_.options.slidesToScroll;if(!_.paused&&!_.interrupted&&!_.focussed){if(_.options.infinite===false){if(_.direction===1&&(_.currentSlide+1)===(_.slideCount-1)){_.direction=0;}
else if(_.direction===0){slideTo=_.currentSlide-_.options.slidesToScroll;if(_.currentSlide-1===0){_.direction=1;}}}
_.slideHandler(slideTo);}};Slick.prototype.buildArrows=function(){var _=this;if(_.options.arrows===true){_.$prevArrow=$(_.options.prevArrow).addClass('slick-arrow');_.$nextArrow=$(_.options.nextArrow).addClass('slick-arrow');if(_.slideCount>_.options.slidesToShow){_.$prevArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');_.$nextArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');if(_.htmlExpr.test(_.options.prevArrow)){_.$prevArrow.prependTo(_.options.appendArrows);}
if(_.htmlExpr.test(_.options.nextArrow)){_.$nextArrow.appendTo(_.options.appendArrows);}
if(_.options.infinite!==true){_.$prevArrow.addClass('slick-disabled').attr('aria-disabled','true');}}else{_.$prevArrow.add(_.$nextArrow).addClass('slick-hidden').attr({'aria-disabled':'true','tabindex':'-1'});}}};Slick.prototype.buildDots=function(){var _=this,i,dot;if(_.options.dots===true&&_.slideCount>_.options.slidesToShow){_.$slider.addClass('slick-dotted');dot=$('<ul />').addClass(_.options.dotsClass);for(i=0;i<=_.getDotCount();i+=1){dot.append($('<li />').append(_.options.customPaging.call(this,_,i)));}
_.$dots=dot.appendTo(_.options.appendDots);_.$dots.find('li').first().addClass('slick-active').attr('aria-hidden','false');}};Slick.prototype.buildOut=function(){var _=this;_.$slides=_.$slider.children(_.options.slide+':not(.slick-cloned)').addClass('slick-slide');_.slideCount=_.$slides.length;_.$slides.each(function(index,element){$(element).attr('data-slick-index',index).data('originalStyling',$(element).attr('style')||'');});_.$slider.addClass('slick-slider');_.$slideTrack=(_.slideCount===0)?$('<div class="slick-track"/>').appendTo(_.$slider):_.$slides.wrapAll('<div class="slick-track"/>').parent();_.$list=_.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent();_.$slideTrack.css('opacity',0);if(_.options.centerMode===true||_.options.swipeToSlide===true){_.options.slidesToScroll=1;}
$('img[data-lazy]',_.$slider).not('[src]').addClass('slick-loading');_.setupInfinite();_.buildArrows();_.buildDots();_.updateDots();_.setSlideClasses(typeof _.currentSlide==='number'?_.currentSlide:0);if(_.options.draggable===true){_.$list.addClass('draggable');}};Slick.prototype.buildRows=function(){var _=this,a,b,c,newSlides,numOfSlides,originalSlides,slidesPerSection;newSlides=document.createDocumentFragment();originalSlides=_.$slider.children();if(_.options.rows>1){slidesPerSection=_.options.slidesPerRow*_.options.rows;numOfSlides=Math.ceil(originalSlides.length / slidesPerSection);for(a=0;a<numOfSlides;a++){var slide=document.createElement('div');for(b=0;b<_.options.rows;b++){var row=document.createElement('div');for(c=0;c<_.options.slidesPerRow;c++){var target=(a*slidesPerSection+((b*_.options.slidesPerRow)+c));if(originalSlides.get(target)){row.appendChild(originalSlides.get(target));}}
slide.appendChild(row);}
newSlides.appendChild(slide);}
_.$slider.empty().append(newSlides);_.$slider.children().children().children().css({'width':(100 / _.options.slidesPerRow)+'%','display':'inline-block'});}};Slick.prototype.checkResponsive=function(initial,forceUpdate){var _=this,breakpoint,targetBreakpoint,respondToWidth,triggerBreakpoint=false;var sliderWidth=_.$slider.width();var windowWidth=window.innerWidth||$(window).width();if(_.respondTo==='window'){respondToWidth=windowWidth;}else if(_.respondTo==='slider'){respondToWidth=sliderWidth;}else if(_.respondTo==='min'){respondToWidth=Math.min(windowWidth,sliderWidth);}
if(_.options.responsive&&_.options.responsive.length&&_.options.responsive!==null){targetBreakpoint=null;for(breakpoint in _.breakpoints){if(_.breakpoints.hasOwnProperty(breakpoint)){if(_.originalSettings.mobileFirst===false){if(respondToWidth<_.breakpoints[breakpoint]){targetBreakpoint=_.breakpoints[breakpoint];}}else{if(respondToWidth>_.breakpoints[breakpoint]){targetBreakpoint=_.breakpoints[breakpoint];}}}}
if(targetBreakpoint!==null){if(_.activeBreakpoint!==null){if(targetBreakpoint!==_.activeBreakpoint||forceUpdate){_.activeBreakpoint=targetBreakpoint;if(_.breakpointSettings[targetBreakpoint]==='unslick'){_.unslick(targetBreakpoint);}else{_.options=$.extend({},_.originalSettings,_.breakpointSettings[targetBreakpoint]);if(initial===true){_.currentSlide=_.options.initialSlide;}
_.refresh(initial);}
triggerBreakpoint=targetBreakpoint;}}else{_.activeBreakpoint=targetBreakpoint;if(_.breakpointSettings[targetBreakpoint]==='unslick'){_.unslick(targetBreakpoint);}else{_.options=$.extend({},_.originalSettings,_.breakpointSettings[targetBreakpoint]);if(initial===true){_.currentSlide=_.options.initialSlide;}
_.refresh(initial);}
triggerBreakpoint=targetBreakpoint;}}else{if(_.activeBreakpoint!==null){_.activeBreakpoint=null;_.options=_.originalSettings;if(initial===true){_.currentSlide=_.options.initialSlide;}
_.refresh(initial);triggerBreakpoint=targetBreakpoint;}}
if(!initial&&triggerBreakpoint!==false){_.$slider.trigger('breakpoint',[_,triggerBreakpoint]);}}};Slick.prototype.changeSlide=function(event,dontAnimate){var _=this,$target=$(event.currentTarget),indexOffset,slideOffset,unevenOffset;if($target.is('a')){event.preventDefault();}
if(!$target.is('li')){$target=$target.closest('li');}
unevenOffset=(_.slideCount%_.options.slidesToScroll!==0);indexOffset=unevenOffset?0:(_.slideCount-_.currentSlide)%_.options.slidesToScroll;switch(event.data.message){case'previous':slideOffset=indexOffset===0?_.options.slidesToScroll:_.options.slidesToShow-indexOffset;if(_.slideCount>_.options.slidesToShow){_.slideHandler(_.currentSlide-slideOffset,false,dontAnimate);}
break;case'next':slideOffset=indexOffset===0?_.options.slidesToScroll:indexOffset;if(_.slideCount>_.options.slidesToShow){_.slideHandler(_.currentSlide+slideOffset,false,dontAnimate);}
break;case'index':var index=event.data.index===0?0:event.data.index||$target.index()*_.options.slidesToScroll;_.slideHandler(_.checkNavigable(index),false,dontAnimate);$target.children().trigger('focus');break;default:return;}};Slick.prototype.checkNavigable=function(index){var _=this,navigables,prevNavigable;navigables=_.getNavigableIndexes();prevNavigable=0;if(index>navigables[navigables.length-1]){index=navigables[navigables.length-1];}else{for(var n in navigables){if(index<navigables[n]){index=prevNavigable;break;}
prevNavigable=navigables[n];}}
return index;};Slick.prototype.cleanUpEvents=function(){var _=this;if(_.options.dots&&_.$dots!==null){$('li',_.$dots).off('click.slick',_.changeSlide).off('mouseenter.slick',$.proxy(_.interrupt,_,true)).off('mouseleave.slick',$.proxy(_.interrupt,_,false));}
_.$slider.off('focus.slick blur.slick');if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow){_.$prevArrow&&_.$prevArrow.off('click.slick',_.changeSlide);_.$nextArrow&&_.$nextArrow.off('click.slick',_.changeSlide);}
_.$list.off('touchstart.slick mousedown.slick',_.swipeHandler);_.$list.off('touchmove.slick mousemove.slick',_.swipeHandler);_.$list.off('touchend.slick mouseup.slick',_.swipeHandler);_.$list.off('touchcancel.slick mouseleave.slick',_.swipeHandler);_.$list.off('click.slick',_.clickHandler);$(document).off(_.visibilityChange,_.visibility);_.cleanUpSlideEvents();if(_.options.accessibility===true){_.$list.off('keydown.slick',_.keyHandler);}
if(_.options.focusOnSelect===true){$(_.$slideTrack).children().off('click.slick',_.selectHandler);}
$(window).off('orientationchange.slick.slick-'+_.instanceUid,_.orientationChange);$(window).off('resize.slick.slick-'+_.instanceUid,_.resize);$('[draggable!=true]',_.$slideTrack).off('dragstart',_.preventDefault);$(window).off('load.slick.slick-'+_.instanceUid,_.setPosition);$(document).off('ready.slick.slick-'+_.instanceUid,_.setPosition);};Slick.prototype.cleanUpSlideEvents=function(){var _=this;_.$list.off('mouseenter.slick',$.proxy(_.interrupt,_,true));_.$list.off('mouseleave.slick',$.proxy(_.interrupt,_,false));};Slick.prototype.cleanUpRows=function(){var _=this,originalSlides;if(_.options.rows>1){originalSlides=_.$slides.children().children();originalSlides.removeAttr('style');_.$slider.empty().append(originalSlides);}};Slick.prototype.clickHandler=function(event){var _=this;if(_.shouldClick===false){event.stopImmediatePropagation();event.stopPropagation();event.preventDefault();}};Slick.prototype.destroy=function(refresh){var _=this;_.autoPlayClear();_.touchObject={};_.cleanUpEvents();$('.slick-cloned',_.$slider).detach();if(_.$dots){_.$dots.remove();}
if(_.$prevArrow&&_.$prevArrow.length){_.$prevArrow.removeClass('slick-disabled slick-arrow slick-hidden').removeAttr('aria-hidden aria-disabled tabindex').css('display','');if(_.htmlExpr.test(_.options.prevArrow)){_.$prevArrow.remove();}}
if(_.$nextArrow&&_.$nextArrow.length){_.$nextArrow.removeClass('slick-disabled slick-arrow slick-hidden').removeAttr('aria-hidden aria-disabled tabindex').css('display','');if(_.htmlExpr.test(_.options.nextArrow)){_.$nextArrow.remove();}}
if(_.$slides){_.$slides.removeClass('slick-slide slick-active slick-center slick-visible slick-current').removeAttr('aria-hidden').removeAttr('data-slick-index').each(function(){$(this).attr('style',$(this).data('originalStyling'));});_.$slideTrack.children(this.options.slide).detach();_.$slideTrack.detach();_.$list.detach();_.$slider.append(_.$slides);}
_.cleanUpRows();_.$slider.removeClass('slick-slider');_.$slider.removeClass('slick-initialized');_.$slider.removeClass('slick-dotted');_.unslicked=true;if(!refresh){_.$slider.trigger('destroy',[_]);}};Slick.prototype.disableTransition=function(slide){var _=this,transition={};transition[_.transitionType]='';if(_.options.fade===false){_.$slideTrack.css(transition);}else{_.$slides.eq(slide).css(transition);}};Slick.prototype.fadeSlide=function(slideIndex,callback){var _=this;if(_.cssTransitions===false){_.$slides.eq(slideIndex).css({zIndex:_.options.zIndex});_.$slides.eq(slideIndex).animate({opacity:1},_.options.speed,_.options.easing,callback);}else{_.applyTransition(slideIndex);_.$slides.eq(slideIndex).css({opacity:1,zIndex:_.options.zIndex});if(callback){setTimeout(function(){_.disableTransition(slideIndex);callback.call();},_.options.speed);}}};Slick.prototype.fadeSlideOut=function(slideIndex){var _=this;if(_.cssTransitions===false){_.$slides.eq(slideIndex).animate({opacity:0,zIndex:_.options.zIndex-2},_.options.speed,_.options.easing);}else{_.applyTransition(slideIndex);_.$slides.eq(slideIndex).css({opacity:0,zIndex:_.options.zIndex-2});}};Slick.prototype.filterSlides=Slick.prototype.slickFilter=function(filter){var _=this;if(filter!==null){_.$slidesCache=_.$slides;_.unload();_.$slideTrack.children(this.options.slide).detach();_.$slidesCache.filter(filter).appendTo(_.$slideTrack);_.reinit();}};Slick.prototype.focusHandler=function(){var _=this;_.$slider.off('focus.slick blur.slick').on('focus.slick blur.slick','*:not(.slick-arrow)',function(event){event.stopImmediatePropagation();var $sf=$(this);setTimeout(function(){if(_.options.pauseOnFocus){_.focussed=$sf.is(':focus');_.autoPlay();}},0);});};Slick.prototype.getCurrent=Slick.prototype.slickCurrentSlide=function(){var _=this;return _.currentSlide;};Slick.prototype.getDotCount=function(){var _=this;var breakPoint=0;var counter=0;var pagerQty=0;if(_.options.infinite===true){while(breakPoint<_.slideCount){++pagerQty;breakPoint=counter+_.options.slidesToScroll;counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;}}else if(_.options.centerMode===true){pagerQty=_.slideCount;}else if(!_.options.asNavFor){pagerQty=1+Math.ceil((_.slideCount-_.options.slidesToShow)/ _.options.slidesToScroll);}else{while(breakPoint<_.slideCount){++pagerQty;breakPoint=counter+_.options.slidesToScroll;counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;}}
return pagerQty-1;};Slick.prototype.getLeft=function(slideIndex){var _=this,targetLeft,verticalHeight,verticalOffset=0,targetSlide;_.slideOffset=0;verticalHeight=_.$slides.first().outerHeight(true);if(_.options.infinite===true){if(_.slideCount>_.options.slidesToShow){_.slideOffset=(_.slideWidth*_.options.slidesToShow)*-1;verticalOffset=(verticalHeight*_.options.slidesToShow)*-1;}
if(_.slideCount%_.options.slidesToScroll!==0){if(slideIndex+_.options.slidesToScroll>_.slideCount&&_.slideCount>_.options.slidesToShow){if(slideIndex>_.slideCount){_.slideOffset=((_.options.slidesToShow-(slideIndex-_.slideCount))*_.slideWidth)*-1;verticalOffset=((_.options.slidesToShow-(slideIndex-_.slideCount))*verticalHeight)*-1;}else{_.slideOffset=((_.slideCount%_.options.slidesToScroll)*_.slideWidth)*-1;verticalOffset=((_.slideCount%_.options.slidesToScroll)*verticalHeight)*-1;}}}}else{if(slideIndex+_.options.slidesToShow>_.slideCount){_.slideOffset=((slideIndex+_.options.slidesToShow)-_.slideCount)*_.slideWidth;verticalOffset=((slideIndex+_.options.slidesToShow)-_.slideCount)*verticalHeight;}}
if(_.slideCount<=_.options.slidesToShow){_.slideOffset=0;verticalOffset=0;}
if(_.options.centerMode===true&&_.options.infinite===true){_.slideOffset+=_.slideWidth*Math.floor(_.options.slidesToShow / 2)-_.slideWidth;}else if(_.options.centerMode===true){_.slideOffset=0;_.slideOffset+=_.slideWidth*Math.floor(_.options.slidesToShow / 2);}
if(_.options.vertical===false){targetLeft=((slideIndex*_.slideWidth)*-1)+_.slideOffset;}else{targetLeft=((slideIndex*verticalHeight)*-1)+verticalOffset;}
if(_.options.variableWidth===true){if(_.slideCount<=_.options.slidesToShow||_.options.infinite===false){targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex);}else{targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex+_.options.slidesToShow);}
if(_.options.rtl===true){if(targetSlide[0]){targetLeft=(_.$slideTrack.width()-targetSlide[0].offsetLeft-targetSlide.width())*-1;}else{targetLeft=0;}}else{targetLeft=targetSlide[0]?targetSlide[0].offsetLeft*-1:0;}
if(_.options.centerMode===true){if(_.slideCount<=_.options.slidesToShow||_.options.infinite===false){targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex);}else{targetSlide=_.$slideTrack.children('.slick-slide').eq(slideIndex+_.options.slidesToShow+1);}
if(_.options.rtl===true){if(targetSlide[0]){targetLeft=(_.$slideTrack.width()-targetSlide[0].offsetLeft-targetSlide.width())*-1;}else{targetLeft=0;}}else{targetLeft=targetSlide[0]?targetSlide[0].offsetLeft*-1:0;}
targetLeft+=(_.$list.width()-targetSlide.outerWidth())/ 2;}}
return targetLeft;};Slick.prototype.getOption=Slick.prototype.slickGetOption=function(option){var _=this;return _.options[option];};Slick.prototype.getNavigableIndexes=function(){var _=this,breakPoint=0,counter=0,indexes=[],max;if(_.options.infinite===false){max=_.slideCount;}else{breakPoint=_.options.slidesToScroll*-1;counter=_.options.slidesToScroll*-1;max=_.slideCount*2;}
while(breakPoint<max){indexes.push(breakPoint);breakPoint=counter+_.options.slidesToScroll;counter+=_.options.slidesToScroll<=_.options.slidesToShow?_.options.slidesToScroll:_.options.slidesToShow;}
return indexes;};Slick.prototype.getSlick=function(){return this;};Slick.prototype.getSlideCount=function(){var _=this,slidesTraversed,swipedSlide,centerOffset;centerOffset=_.options.centerMode===true?_.slideWidth*Math.floor(_.options.slidesToShow / 2):0;if(_.options.swipeToSlide===true){_.$slideTrack.find('.slick-slide').each(function(index,slide){if(slide.offsetLeft-centerOffset+($(slide).outerWidth()/ 2)>(_.swipeLeft*-1)){swipedSlide=slide;return false;}});slidesTraversed=Math.abs($(swipedSlide).attr('data-slick-index')-_.currentSlide)||1;return slidesTraversed;}else{return _.options.slidesToScroll;}};Slick.prototype.goTo=Slick.prototype.slickGoTo=function(slide,dontAnimate){var _=this;_.changeSlide({data:{message:'index',index:parseInt(slide)}},dontAnimate);};Slick.prototype.init=function(creation){var _=this;if(!$(_.$slider).hasClass('slick-initialized')){$(_.$slider).addClass('slick-initialized');_.buildRows();_.buildOut();_.setProps();_.startLoad();_.loadSlider();_.initializeEvents();_.updateArrows();_.updateDots();_.checkResponsive(true);_.focusHandler();}
if(creation){_.$slider.trigger('init',[_]);}
if(_.options.accessibility===true){_.initADA();}
if(_.options.autoplay){_.paused=false;_.autoPlay();}};Slick.prototype.initADA=function(){var _=this;_.$slides.add(_.$slideTrack.find('.slick-cloned')).attr({'aria-hidden':'true','tabindex':'-1'}).find('a, input, button, select').attr({'tabindex':'-1'});_.$slideTrack.attr('role','listbox');_.$slides.not(_.$slideTrack.find('.slick-cloned')).each(function(i){$(this).attr({'role':'option','aria-describedby':'slick-slide'+_.instanceUid+i+''});});if(_.$dots!==null){_.$dots.attr('role','tablist').find('li').each(function(i){$(this).attr({'role':'presentation','aria-selected':'false','aria-controls':'navigation'+_.instanceUid+i+'','id':'slick-slide'+_.instanceUid+i+''});}).first().attr('aria-selected','true').end().find('button').attr('role','button').end().closest('div').attr('role','toolbar');}
_.activateADA();};Slick.prototype.initArrowEvents=function(){var _=this;if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow){_.$prevArrow.off('click.slick').on('click.slick',{message:'previous'},_.changeSlide);_.$nextArrow.off('click.slick').on('click.slick',{message:'next'},_.changeSlide);}};Slick.prototype.initDotEvents=function(){var _=this;if(_.options.dots===true&&_.slideCount>_.options.slidesToShow){$('li',_.$dots).on('click.slick',{message:'index'},_.changeSlide);}
if(_.options.dots===true&&_.options.pauseOnDotsHover===true){$('li',_.$dots).on('mouseenter.slick',$.proxy(_.interrupt,_,true)).on('mouseleave.slick',$.proxy(_.interrupt,_,false));}};Slick.prototype.initSlideEvents=function(){var _=this;if(_.options.pauseOnHover){_.$list.on('mouseenter.slick',$.proxy(_.interrupt,_,true));_.$list.on('mouseleave.slick',$.proxy(_.interrupt,_,false));}};Slick.prototype.initializeEvents=function(){var _=this;_.initArrowEvents();_.initDotEvents();_.initSlideEvents();_.$list.on('touchstart.slick mousedown.slick',{action:'start'},_.swipeHandler);_.$list.on('touchmove.slick mousemove.slick',{action:'move'},_.swipeHandler);_.$list.on('touchend.slick mouseup.slick',{action:'end'},_.swipeHandler);_.$list.on('touchcancel.slick mouseleave.slick',{action:'end'},_.swipeHandler);_.$list.on('click.slick',_.clickHandler);$(document).on(_.visibilityChange,$.proxy(_.visibility,_));if(_.options.accessibility===true){_.$list.on('keydown.slick',_.keyHandler);}
if(_.options.focusOnSelect===true){$(_.$slideTrack).children().on('click.slick',_.selectHandler);}
$(window).on('orientationchange.slick.slick-'+_.instanceUid,$.proxy(_.orientationChange,_));$(window).on('resize.slick.slick-'+_.instanceUid,$.proxy(_.resize,_));$('[draggable!=true]',_.$slideTrack).on('dragstart',_.preventDefault);$(window).on('load.slick.slick-'+_.instanceUid,_.setPosition);$(document).on('ready.slick.slick-'+_.instanceUid,_.setPosition);};Slick.prototype.initUI=function(){var _=this;if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow){_.$prevArrow.show();_.$nextArrow.show();}
if(_.options.dots===true&&_.slideCount>_.options.slidesToShow){_.$dots.show();}};Slick.prototype.keyHandler=function(event){var _=this;if(!event.target.tagName.match('TEXTAREA|INPUT|SELECT')){if(event.keyCode===37&&_.options.accessibility===true){_.changeSlide({data:{message:_.options.rtl===true?'next':'previous'}});}else if(event.keyCode===39&&_.options.accessibility===true){_.changeSlide({data:{message:_.options.rtl===true?'previous':'next'}});}}};Slick.prototype.lazyLoad=function(){var _=this,loadRange,cloneRange,rangeStart,rangeEnd;function loadImages(imagesScope){$('img[data-lazy]',imagesScope).each(function(){var image=$(this),imageSource=$(this).attr('data-lazy'),imageToLoad=document.createElement('img');imageToLoad.onload=function(){image.animate({opacity:0},100,function(){image.attr('src',imageSource).animate({opacity:1},200,function(){image.removeAttr('data-lazy').removeClass('slick-loading');});_.$slider.trigger('lazyLoaded',[_,image,imageSource]);});};imageToLoad.onerror=function(){image.removeAttr('data-lazy').removeClass('slick-loading').addClass('slick-lazyload-error');_.$slider.trigger('lazyLoadError',[_,image,imageSource]);};imageToLoad.src=imageSource;});}
if(_.options.centerMode===true){if(_.options.infinite===true){rangeStart=_.currentSlide+(_.options.slidesToShow / 2+1);rangeEnd=rangeStart+_.options.slidesToShow+2;}else{rangeStart=Math.max(0,_.currentSlide-(_.options.slidesToShow / 2+1));rangeEnd=2+(_.options.slidesToShow / 2+1)+_.currentSlide;}}else{rangeStart=_.options.infinite?_.options.slidesToShow+_.currentSlide:_.currentSlide;rangeEnd=Math.ceil(rangeStart+_.options.slidesToShow);if(_.options.fade===true){if(rangeStart>0)rangeStart--;if(rangeEnd<=_.slideCount)rangeEnd++;}}
loadRange=_.$slider.find('.slick-slide').slice(rangeStart,rangeEnd);loadImages(loadRange);if(_.slideCount<=_.options.slidesToShow){cloneRange=_.$slider.find('.slick-slide');loadImages(cloneRange);}else
if(_.currentSlide>=_.slideCount-_.options.slidesToShow){cloneRange=_.$slider.find('.slick-cloned').slice(0,_.options.slidesToShow);loadImages(cloneRange);}else if(_.currentSlide===0){cloneRange=_.$slider.find('.slick-cloned').slice(_.options.slidesToShow*-1);loadImages(cloneRange);}};Slick.prototype.loadSlider=function(){var _=this;_.setPosition();_.$slideTrack.css({opacity:1});_.$slider.removeClass('slick-loading');_.initUI();if(_.options.lazyLoad==='progressive'){_.progressiveLazyLoad();}};Slick.prototype.next=Slick.prototype.slickNext=function(){var _=this;_.changeSlide({data:{message:'next'}});};Slick.prototype.orientationChange=function(){var _=this;_.checkResponsive();_.setPosition();};Slick.prototype.pause=Slick.prototype.slickPause=function(){var _=this;_.autoPlayClear();_.paused=true;};Slick.prototype.play=Slick.prototype.slickPlay=function(){var _=this;_.autoPlay();_.options.autoplay=true;_.paused=false;_.focussed=false;_.interrupted=false;};Slick.prototype.postSlide=function(index){var _=this;if(!_.unslicked){_.$slider.trigger('afterChange',[_,index]);_.animating=false;_.setPosition();_.swipeLeft=null;if(_.options.autoplay){_.autoPlay();}
if(_.options.accessibility===true){_.initADA();}}};Slick.prototype.prev=Slick.prototype.slickPrev=function(){var _=this;_.changeSlide({data:{message:'previous'}});};Slick.prototype.preventDefault=function(event){event.preventDefault();};Slick.prototype.progressiveLazyLoad=function(tryCount){tryCount=tryCount||1;var _=this,$imgsToLoad=$('img[data-lazy]',_.$slider),image,imageSource,imageToLoad;if($imgsToLoad.length){image=$imgsToLoad.first();imageSource=image.attr('data-lazy');imageToLoad=document.createElement('img');imageToLoad.onload=function(){image.attr('src',imageSource).removeAttr('data-lazy').removeClass('slick-loading');if(_.options.adaptiveHeight===true){_.setPosition();}
_.$slider.trigger('lazyLoaded',[_,image,imageSource]);_.progressiveLazyLoad();};imageToLoad.onerror=function(){if(tryCount<3){setTimeout(function(){_.progressiveLazyLoad(tryCount+1);},500);}else{image.removeAttr('data-lazy').removeClass('slick-loading').addClass('slick-lazyload-error');_.$slider.trigger('lazyLoadError',[_,image,imageSource]);_.progressiveLazyLoad();}};imageToLoad.src=imageSource;}else{_.$slider.trigger('allImagesLoaded',[_]);}};Slick.prototype.refresh=function(initializing){var _=this,currentSlide,lastVisibleIndex;lastVisibleIndex=_.slideCount-_.options.slidesToShow;if(!_.options.infinite&&(_.currentSlide>lastVisibleIndex)){_.currentSlide=lastVisibleIndex;}
if(_.slideCount<=_.options.slidesToShow){_.currentSlide=0;}
currentSlide=_.currentSlide;_.destroy(true);$.extend(_,_.initials,{currentSlide:currentSlide});_.init();if(!initializing){_.changeSlide({data:{message:'index',index:currentSlide}},false);}};Slick.prototype.registerBreakpoints=function(){var _=this,breakpoint,currentBreakpoint,l,responsiveSettings=_.options.responsive||null;if($.type(responsiveSettings)==='array'&&responsiveSettings.length){_.respondTo=_.options.respondTo||'window';for(breakpoint in responsiveSettings){l=_.breakpoints.length-1;currentBreakpoint=responsiveSettings[breakpoint].breakpoint;if(responsiveSettings.hasOwnProperty(breakpoint)){while(l>=0){if(_.breakpoints[l]&&_.breakpoints[l]===currentBreakpoint){_.breakpoints.splice(l,1);}
l--;}
_.breakpoints.push(currentBreakpoint);_.breakpointSettings[currentBreakpoint]=responsiveSettings[breakpoint].settings;}}
_.breakpoints.sort(function(a,b){return(_.options.mobileFirst)?a-b:b-a;});}};Slick.prototype.reinit=function(){var _=this;_.$slides=_.$slideTrack.children(_.options.slide).addClass('slick-slide');_.slideCount=_.$slides.length;if(_.currentSlide>=_.slideCount&&_.currentSlide!==0){_.currentSlide=_.currentSlide-_.options.slidesToScroll;}
if(_.slideCount<=_.options.slidesToShow){_.currentSlide=0;}
_.registerBreakpoints();_.setProps();_.setupInfinite();_.buildArrows();_.updateArrows();_.initArrowEvents();_.buildDots();_.updateDots();_.initDotEvents();_.cleanUpSlideEvents();_.initSlideEvents();_.checkResponsive(false,true);if(_.options.focusOnSelect===true){$(_.$slideTrack).children().on('click.slick',_.selectHandler);}
_.setSlideClasses(typeof _.currentSlide==='number'?_.currentSlide:0);_.setPosition();_.focusHandler();_.paused=!_.options.autoplay;_.autoPlay();_.$slider.trigger('reInit',[_]);};Slick.prototype.resize=function(){var _=this;if($(window).width()!==_.windowWidth){clearTimeout(_.windowDelay);_.windowDelay=window.setTimeout(function(){_.windowWidth=$(window).width();_.checkResponsive();if(!_.unslicked){_.setPosition();}},50);}};Slick.prototype.removeSlide=Slick.prototype.slickRemove=function(index,removeBefore,removeAll){var _=this;if(typeof(index)==='boolean'){removeBefore=index;index=removeBefore===true?0:_.slideCount-1;}else{index=removeBefore===true?--index:index;}
if(_.slideCount<1||index<0||index>_.slideCount-1){return false;}
_.unload();if(removeAll===true){_.$slideTrack.children().remove();}else{_.$slideTrack.children(this.options.slide).eq(index).remove();}
_.$slides=_.$slideTrack.children(this.options.slide);_.$slideTrack.children(this.options.slide).detach();_.$slideTrack.append(_.$slides);_.$slidesCache=_.$slides;_.reinit();};Slick.prototype.setCSS=function(position){var _=this,positionProps={},x,y;if(_.options.rtl===true){position=-position;}
x=_.positionProp=='left'?Math.ceil(position)+'px':'0px';y=_.positionProp=='top'?Math.ceil(position)+'px':'0px';positionProps[_.positionProp]=position;if(_.transformsEnabled===false){_.$slideTrack.css(positionProps);}else{positionProps={};if(_.cssTransitions===false){positionProps[_.animType]='translate('+x+', '+y+')';_.$slideTrack.css(positionProps);}else{positionProps[_.animType]='translate3d('+x+', '+y+', 0px)';_.$slideTrack.css(positionProps);}}};Slick.prototype.setDimensions=function(){var _=this;if(_.options.vertical===false){if(_.options.centerMode===true){_.$list.css({padding:('0px '+_.options.centerPadding)});}}else{_.$list.height(_.$slides.first().outerHeight(true)*_.options.slidesToShow);if(_.options.centerMode===true){_.$list.css({padding:(_.options.centerPadding+' 0px')});}}
_.listWidth=_.$list.width();_.listHeight=_.$list.height();if(_.options.vertical===false&&_.options.variableWidth===false){_.slideWidth=Math.ceil(_.listWidth / _.options.slidesToShow);_.$slideTrack.width(Math.ceil((_.slideWidth*_.$slideTrack.children('.slick-slide').length)));}else if(_.options.variableWidth===true){_.$slideTrack.width(5000*_.slideCount);}else{_.slideWidth=Math.ceil(_.listWidth);_.$slideTrack.height(Math.ceil((_.$slides.first().outerHeight(true)*_.$slideTrack.children('.slick-slide').length)));}
var offset=_.$slides.first().outerWidth(true)-_.$slides.first().width();if(_.options.variableWidth===false)_.$slideTrack.children('.slick-slide').width(_.slideWidth-offset);};Slick.prototype.setFade=function(){var _=this,targetLeft;_.$slides.each(function(index,element){targetLeft=(_.slideWidth*index)*-1;if(_.options.rtl===true){$(element).css({position:'relative',right:targetLeft,top:0,zIndex:_.options.zIndex-2,opacity:0});}else{$(element).css({position:'relative',left:targetLeft,top:0,zIndex:_.options.zIndex-2,opacity:0});}});_.$slides.eq(_.currentSlide).css({zIndex:_.options.zIndex-1,opacity:1});};Slick.prototype.setHeight=function(){var _=this;if(_.options.slidesToShow===1&&_.options.adaptiveHeight===true&&_.options.vertical===false){var targetHeight=_.$slides.eq(_.currentSlide).outerHeight(true);_.$list.css('height',targetHeight);}};Slick.prototype.setOption=Slick.prototype.slickSetOption=function(){var _=this,l,item,option,value,refresh=false,type;if($.type(arguments[0])==='object'){option=arguments[0];refresh=arguments[1];type='multiple';}else if($.type(arguments[0])==='string'){option=arguments[0];value=arguments[1];refresh=arguments[2];if(arguments[0]==='responsive'&&$.type(arguments[1])==='array'){type='responsive';}else if(typeof arguments[1]!=='undefined'){type='single';}}
if(type==='single'){_.options[option]=value;}else if(type==='multiple'){$.each(option,function(opt,val){_.options[opt]=val;});}else if(type==='responsive'){for(item in value){if($.type(_.options.responsive)!=='array'){_.options.responsive=[value[item]];}else{l=_.options.responsive.length-1;while(l>=0){if(_.options.responsive[l].breakpoint===value[item].breakpoint){_.options.responsive.splice(l,1);}
l--;}
_.options.responsive.push(value[item]);}}}
if(refresh){_.unload();_.reinit();}};Slick.prototype.setPosition=function(){var _=this;_.setDimensions();_.setHeight();if(_.options.fade===false){_.setCSS(_.getLeft(_.currentSlide));}else{_.setFade();}
_.$slider.trigger('setPosition',[_]);};Slick.prototype.setProps=function(){var _=this,bodyStyle=document.body.style;_.positionProp=_.options.vertical===true?'top':'left';if(_.positionProp==='top'){_.$slider.addClass('slick-vertical');}else{_.$slider.removeClass('slick-vertical');}
if(bodyStyle.WebkitTransition!==undefined||bodyStyle.MozTransition!==undefined||bodyStyle.msTransition!==undefined){if(_.options.useCSS===true){_.cssTransitions=true;}}
if(_.options.fade){if(typeof _.options.zIndex==='number'){if(_.options.zIndex<3){_.options.zIndex=3;}}else{_.options.zIndex=_.defaults.zIndex;}}
if(bodyStyle.OTransform!==undefined){_.animType='OTransform';_.transformType='-o-transform';_.transitionType='OTransition';if(bodyStyle.perspectiveProperty===undefined&&bodyStyle.webkitPerspective===undefined)_.animType=false;}
if(bodyStyle.MozTransform!==undefined){_.animType='MozTransform';_.transformType='-moz-transform';_.transitionType='MozTransition';if(bodyStyle.perspectiveProperty===undefined&&bodyStyle.MozPerspective===undefined)_.animType=false;}
if(bodyStyle.webkitTransform!==undefined){_.animType='webkitTransform';_.transformType='-webkit-transform';_.transitionType='webkitTransition';if(bodyStyle.perspectiveProperty===undefined&&bodyStyle.webkitPerspective===undefined)_.animType=false;}
if(bodyStyle.msTransform!==undefined){_.animType='msTransform';_.transformType='-ms-transform';_.transitionType='msTransition';if(bodyStyle.msTransform===undefined)_.animType=false;}
if(bodyStyle.transform!==undefined&&_.animType!==false){_.animType='transform';_.transformType='transform';_.transitionType='transition';}
_.transformsEnabled=_.options.useTransform&&(_.animType!==null&&_.animType!==false);};Slick.prototype.setSlideClasses=function(index){var _=this,centerOffset,allSlides,indexOffset,remainder;allSlides=_.$slider.find('.slick-slide').removeClass('slick-active slick-center slick-current').attr('aria-hidden','true');_.$slides.eq(index).addClass('slick-current');if(_.options.centerMode===true){centerOffset=Math.floor(_.options.slidesToShow / 2);if(_.options.infinite===true){if(index>=centerOffset&&index<=(_.slideCount-1)-centerOffset){_.$slides.slice(index-centerOffset,index+centerOffset+1).addClass('slick-active').attr('aria-hidden','false');}else{indexOffset=_.options.slidesToShow+index;allSlides.slice(indexOffset-centerOffset+1,indexOffset+centerOffset+2).addClass('slick-active').attr('aria-hidden','false');}
if(index===0){allSlides.eq(allSlides.length-1-_.options.slidesToShow).addClass('slick-center');}else if(index===_.slideCount-1){allSlides.eq(_.options.slidesToShow).addClass('slick-center');}}
_.$slides.eq(index).addClass('slick-center');}else{if(index>=0&&index<=(_.slideCount-_.options.slidesToShow)){_.$slides.slice(index,index+_.options.slidesToShow).addClass('slick-active').attr('aria-hidden','false');}else if(allSlides.length<=_.options.slidesToShow){allSlides.addClass('slick-active').attr('aria-hidden','false');}else{remainder=_.slideCount%_.options.slidesToShow;indexOffset=_.options.infinite===true?_.options.slidesToShow+index:index;if(_.options.slidesToShow==_.options.slidesToScroll&&(_.slideCount-index)<_.options.slidesToShow){allSlides.slice(indexOffset-(_.options.slidesToShow-remainder),indexOffset+remainder).addClass('slick-active').attr('aria-hidden','false');}else{allSlides.slice(indexOffset,indexOffset+_.options.slidesToShow).addClass('slick-active').attr('aria-hidden','false');}}}
if(_.options.lazyLoad==='ondemand'){_.lazyLoad();}};Slick.prototype.setupInfinite=function(){var _=this,i,slideIndex,infiniteCount;if(_.options.fade===true){_.options.centerMode=false;}
if(_.options.infinite===true&&_.options.fade===false){slideIndex=null;if(_.slideCount>_.options.slidesToShow){if(_.options.centerMode===true){infiniteCount=_.options.slidesToShow+1;}else{infiniteCount=_.options.slidesToShow;}
for(i=_.slideCount;i>(_.slideCount-
infiniteCount);i-=1){slideIndex=i-1;$(_.$slides[slideIndex]).clone(true).attr('id','').attr('data-slick-index',slideIndex-_.slideCount).prependTo(_.$slideTrack).addClass('slick-cloned');}
for(i=0;i<infiniteCount;i+=1){slideIndex=i;$(_.$slides[slideIndex]).clone(true).attr('id','').attr('data-slick-index',slideIndex+_.slideCount).appendTo(_.$slideTrack).addClass('slick-cloned');}
_.$slideTrack.find('.slick-cloned').find('[id]').each(function(){$(this).attr('id','');});}}};Slick.prototype.interrupt=function(toggle){var _=this;if(!toggle){_.autoPlay();}
_.interrupted=toggle;};Slick.prototype.selectHandler=function(event){var _=this;var targetElement=$(event.target).is('.slick-slide')?$(event.target):$(event.target).parents('.slick-slide');var index=parseInt(targetElement.attr('data-slick-index'));if(!index)index=0;if(_.slideCount<=_.options.slidesToShow){_.setSlideClasses(index);_.asNavFor(index);return;}
_.slideHandler(index);};Slick.prototype.slideHandler=function(index,sync,dontAnimate){var targetSlide,animSlide,oldSlide,slideLeft,targetLeft=null,_=this,navTarget;sync=sync||false;if(_.animating===true&&_.options.waitForAnimate===true){return;}
if(_.options.fade===true&&_.currentSlide===index){return;}
if(_.slideCount<=_.options.slidesToShow){return;}
if(sync===false){_.asNavFor(index);}
targetSlide=index;targetLeft=_.getLeft(targetSlide);slideLeft=_.getLeft(_.currentSlide);_.currentLeft=_.swipeLeft===null?slideLeft:_.swipeLeft;if(_.options.infinite===false&&_.options.centerMode===false&&(index<0||index>_.getDotCount()*_.options.slidesToScroll)){if(_.options.fade===false){targetSlide=_.currentSlide;if(dontAnimate!==true){_.animateSlide(slideLeft,function(){_.postSlide(targetSlide);});}else{_.postSlide(targetSlide);}}
return;}else if(_.options.infinite===false&&_.options.centerMode===true&&(index<0||index>(_.slideCount-_.options.slidesToScroll))){if(_.options.fade===false){targetSlide=_.currentSlide;if(dontAnimate!==true){_.animateSlide(slideLeft,function(){_.postSlide(targetSlide);});}else{_.postSlide(targetSlide);}}
return;}
if(_.options.autoplay){clearInterval(_.autoPlayTimer);}
if(targetSlide<0){if(_.slideCount%_.options.slidesToScroll!==0){animSlide=_.slideCount-(_.slideCount%_.options.slidesToScroll);}else{animSlide=_.slideCount+targetSlide;}}else if(targetSlide>=_.slideCount){if(_.slideCount%_.options.slidesToScroll!==0){animSlide=0;}else{animSlide=targetSlide-_.slideCount;}}else{animSlide=targetSlide;}
_.animating=true;_.$slider.trigger('beforeChange',[_,_.currentSlide,animSlide]);oldSlide=_.currentSlide;_.currentSlide=animSlide;_.setSlideClasses(_.currentSlide);if(_.options.asNavFor){navTarget=_.getNavTarget();navTarget=navTarget.slick('getSlick');if(navTarget.slideCount<=navTarget.options.slidesToShow){navTarget.setSlideClasses(_.currentSlide);}}
_.updateDots();_.updateArrows();if(_.options.fade===true){if(dontAnimate!==true){_.fadeSlideOut(oldSlide);_.fadeSlide(animSlide,function(){_.postSlide(animSlide);});}else{_.postSlide(animSlide);}
_.animateHeight();return;}
if(dontAnimate!==true){_.animateSlide(targetLeft,function(){_.postSlide(animSlide);});}else{_.postSlide(animSlide);}};Slick.prototype.startLoad=function(){var _=this;if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow){_.$prevArrow.hide();_.$nextArrow.hide();}
if(_.options.dots===true&&_.slideCount>_.options.slidesToShow){_.$dots.hide();}
_.$slider.addClass('slick-loading');};Slick.prototype.swipeDirection=function(){var xDist,yDist,r,swipeAngle,_=this;xDist=_.touchObject.startX-_.touchObject.curX;yDist=_.touchObject.startY-_.touchObject.curY;r=Math.atan2(yDist,xDist);swipeAngle=Math.round(r*180 / Math.PI);if(swipeAngle<0){swipeAngle=360-Math.abs(swipeAngle);}
if((swipeAngle<=45)&&(swipeAngle>=0)){return(_.options.rtl===false?'left':'right');}
if((swipeAngle<=360)&&(swipeAngle>=315)){return(_.options.rtl===false?'left':'right');}
if((swipeAngle>=135)&&(swipeAngle<=225)){return(_.options.rtl===false?'right':'left');}
if(_.options.verticalSwiping===true){if((swipeAngle>=35)&&(swipeAngle<=135)){return'down';}else{return'up';}}
return'vertical';};Slick.prototype.swipeEnd=function(event){var _=this,slideCount,direction;_.dragging=false;_.interrupted=false;_.shouldClick=(_.touchObject.swipeLength>10)?false:true;if(_.touchObject.curX===undefined){return false;}
if(_.touchObject.edgeHit===true){_.$slider.trigger('edge',[_,_.swipeDirection()]);}
if(_.touchObject.swipeLength>=_.touchObject.minSwipe){direction=_.swipeDirection();switch(direction){case'left':case'down':slideCount=_.options.swipeToSlide?_.checkNavigable(_.currentSlide+_.getSlideCount()):_.currentSlide+_.getSlideCount();_.currentDirection=0;break;case'right':case'up':slideCount=_.options.swipeToSlide?_.checkNavigable(_.currentSlide-_.getSlideCount()):_.currentSlide-_.getSlideCount();_.currentDirection=1;break;default:}
if(direction!='vertical'){_.slideHandler(slideCount);_.touchObject={};_.$slider.trigger('swipe',[_,direction]);}}else{if(_.touchObject.startX!==_.touchObject.curX){_.slideHandler(_.currentSlide);_.touchObject={};}}};Slick.prototype.swipeHandler=function(event){var _=this;if((_.options.swipe===false)||('ontouchend'in document&&_.options.swipe===false)){return;}else if(_.options.draggable===false&&event.type.indexOf('mouse')!==-1){return;}
_.touchObject.fingerCount=event.originalEvent&&event.originalEvent.touches!==undefined?event.originalEvent.touches.length:1;_.touchObject.minSwipe=_.listWidth / _.options.touchThreshold;if(_.options.verticalSwiping===true){_.touchObject.minSwipe=_.listHeight / _.options.touchThreshold;}
switch(event.data.action){case'start':_.swipeStart(event);break;case'move':_.swipeMove(event);break;case'end':_.swipeEnd(event);break;}};Slick.prototype.swipeMove=function(event){var _=this,edgeWasHit=false,curLeft,swipeDirection,swipeLength,positionOffset,touches;touches=event.originalEvent!==undefined?event.originalEvent.touches:null;if(!_.dragging||touches&&touches.length!==1){return false;}
curLeft=_.getLeft(_.currentSlide);_.touchObject.curX=touches!==undefined?touches[0].pageX:event.clientX;_.touchObject.curY=touches!==undefined?touches[0].pageY:event.clientY;_.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(_.touchObject.curX-_.touchObject.startX,2)));if(_.options.verticalSwiping===true){_.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(_.touchObject.curY-_.touchObject.startY,2)));}
swipeDirection=_.swipeDirection();if(swipeDirection==='vertical'){return;}
if(event.originalEvent!==undefined&&_.touchObject.swipeLength>4){event.preventDefault();}
positionOffset=(_.options.rtl===false?1:-1)*(_.touchObject.curX>_.touchObject.startX?1:-1);if(_.options.verticalSwiping===true){positionOffset=_.touchObject.curY>_.touchObject.startY?1:-1;}
swipeLength=_.touchObject.swipeLength;_.touchObject.edgeHit=false;if(_.options.infinite===false){if((_.currentSlide===0&&swipeDirection==='right')||(_.currentSlide>=_.getDotCount()&&swipeDirection==='left')){swipeLength=_.touchObject.swipeLength*_.options.edgeFriction;_.touchObject.edgeHit=true;}}
if(_.options.vertical===false){_.swipeLeft=curLeft+swipeLength*positionOffset;}else{_.swipeLeft=curLeft+(swipeLength*(_.$list.height()/ _.listWidth))*positionOffset;}
if(_.options.verticalSwiping===true){_.swipeLeft=curLeft+swipeLength*positionOffset;}
if(_.options.fade===true||_.options.touchMove===false){return false;}
if(_.animating===true){_.swipeLeft=null;return false;}
_.setCSS(_.swipeLeft);};Slick.prototype.swipeStart=function(event){var _=this,touches;_.interrupted=true;if(_.touchObject.fingerCount!==1||_.slideCount<=_.options.slidesToShow){_.touchObject={};return false;}
if(event.originalEvent!==undefined&&event.originalEvent.touches!==undefined){touches=event.originalEvent.touches[0];}
_.touchObject.startX=_.touchObject.curX=touches!==undefined?touches.pageX:event.clientX;_.touchObject.startY=_.touchObject.curY=touches!==undefined?touches.pageY:event.clientY;_.dragging=true;};Slick.prototype.unfilterSlides=Slick.prototype.slickUnfilter=function(){var _=this;if(_.$slidesCache!==null){_.unload();_.$slideTrack.children(this.options.slide).detach();_.$slidesCache.appendTo(_.$slideTrack);_.reinit();}};Slick.prototype.unload=function(){var _=this;$('.slick-cloned',_.$slider).remove();if(_.$dots){_.$dots.remove();}
if(_.$prevArrow&&_.htmlExpr.test(_.options.prevArrow)){_.$prevArrow.remove();}
if(_.$nextArrow&&_.htmlExpr.test(_.options.nextArrow)){_.$nextArrow.remove();}
_.$slides.removeClass('slick-slide slick-active slick-visible slick-current').attr('aria-hidden','true').css('width','');};Slick.prototype.unslick=function(fromBreakpoint){var _=this;_.$slider.trigger('unslick',[_,fromBreakpoint]);_.destroy();};Slick.prototype.updateArrows=function(){var _=this,centerOffset;centerOffset=Math.floor(_.options.slidesToShow / 2);if(_.options.arrows===true&&_.slideCount>_.options.slidesToShow&&!_.options.infinite){_.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false');_.$nextArrow.removeClass('slick-disabled').attr('aria-disabled','false');if(_.currentSlide===0){_.$prevArrow.addClass('slick-disabled').attr('aria-disabled','true');_.$nextArrow.removeClass('slick-disabled').attr('aria-disabled','false');}else if(_.currentSlide>=_.slideCount-_.options.slidesToShow&&_.options.centerMode===false){_.$nextArrow.addClass('slick-disabled').attr('aria-disabled','true');_.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false');}else if(_.currentSlide>=_.slideCount-1&&_.options.centerMode===true){_.$nextArrow.addClass('slick-disabled').attr('aria-disabled','true');_.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false');}}};Slick.prototype.updateDots=function(){var _=this;if(_.$dots!==null){_.$dots.find('li').removeClass('slick-active').attr('aria-hidden','true');_.$dots.find('li').eq(Math.floor(_.currentSlide / _.options.slidesToScroll)).addClass('slick-active').attr('aria-hidden','false');}};Slick.prototype.visibility=function(){var _=this;if(_.options.autoplay){if(document[_.hidden]){_.interrupted=true;}else{_.interrupted=false;}}};$.fn.slick=function(){var _=this,opt=arguments[0],args=Array.prototype.slice.call(arguments,1),l=_.length,i,ret;for(i=0;i<l;i++){if(typeof opt=='object'||typeof opt=='undefined')
_[i].slick=new Slick(_[i],opt);else
ret=_[i].slick[opt].apply(_[i].slick,args);if(typeof ret!='undefined')return ret;}
return _;};}));(function(factory){if(typeof define==="function"&&define.amd){define(["inputmask.dependencyLib"],factory);}else if(typeof exports==="object"){module.exports=factory(require("./inputmask.dependencyLib.jquery"));}else{factory(window.dependencyLib||jQuery);}}
(function($){function Inputmask(alias,options){if(!(this instanceof Inputmask)){return new Inputmask(alias,options);}
if(typeof alias==="object"){options=alias;}else{options=options||{};options.alias=alias;}
this.el=undefined;this.opts=$.extend(true,{},this.defaults,options);this.noMasksCache=options&&options.definitions!==undefined;this.userOptions=options||{};resolveAlias(this.opts.alias,options,this.opts);}
Inputmask.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:$.noop,onincomplete:$.noop,oncleared:$.noop,repeat:0,greedy:true,autoUnmask:false,removeMaskOnSubmit:false,clearMaskOnLostFocus:true,insertMode:true,clearIncomplete:false,aliases:{},alias:null,onKeyDown:$.noop,onBeforeMask:null,onBeforePaste:function(pastedValue,opts){return $.isFunction(opts.onBeforeMask)?opts.onBeforeMask(pastedValue,opts):pastedValue;},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:true,showMaskOnHover:true,onKeyValidation:$.noop,skipOptionalPartCharacter:" ",showTooltip:false,numericInput:false,rightAlign:false,undoOnEscape:true,radixPoint:"",groupSeparator:"",radixFocus:false,nojumps:false,nojumpsThreshold:0,keepStatic:null,positionCaretOnTab:false,tabThrough:false,supportsInputType:[],definitions:{"9":{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},"a":{validator:"[A-Za-z\u0410-\u044F\u0401\u0451\u00C0-\u00FF\u00B5]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-z\u0410-\u044F\u0401\u0451\u00C0-\u00FF\u00B5]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:$.noop,postValidation:null},masksCache:{},mask:function(el){var scopedOpts=$.extend(true,{},this.opts);importAttributeOptions(el,scopedOpts,$.extend(true,{},this.userOptions));var maskset=generateMaskSet(scopedOpts,this.noMasksCache);if(maskset!==undefined){if(el.inputmask!==undefined){el.inputmask.remove();}
el.inputmask=new Inputmask();el.inputmask.opts=scopedOpts;el.inputmask.noMasksCache=this.noMasksCache;el.inputmask.userOptions=$.extend(true,{},this.userOptions);el.inputmask.el=el;el.inputmask.maskset=maskset;el.inputmask.isRTL=false;$.data(el,"_inputmask_opts",scopedOpts);maskScope({"action":"mask","el":el});}
return el.inputmask||this;},option:function(options){if(typeof options==="string"){return this.opts[options];}else if(typeof options==="object"){$.extend(this.opts,options);$.extend(this.userOptions,options);if(this.el){if(options.mask!==undefined||options.alias!==undefined){this.mask(this.el);}else{$.data(this.el,"_inputmask_opts",this.opts);maskScope({"action":"mask","el":this.el});}}
return this;}},unmaskedvalue:function(value){return maskScope({"action":"unmaskedvalue","el":this.el,"value":value},this.el&&this.el.inputmask?this.el.inputmask.maskset:generateMaskSet(this.opts,this.noMasksCache),this.opts);},remove:function(){if(this.el){maskScope({"action":"remove","el":this.el});this.el.inputmask=undefined;return this.el;}},getemptymask:function(){return maskScope({"action":"getemptymask"},this.maskset||generateMaskSet(this.opts,this.noMasksCache),this.opts);},hasMaskedValue:function(){return!this.opts.autoUnmask;},isComplete:function(){return maskScope({"action":"isComplete","el":this.el},this.maskset||generateMaskSet(this.opts,this.noMasksCache),this.opts);},getmetadata:function(){return maskScope({"action":"getmetadata"},this.maskset||generateMaskSet(this.opts,this.noMasksCache),this.opts);},isValid:function(value){return maskScope({"action":"isValid","value":value},this.maskset||generateMaskSet(this.opts,this.noMasksCache),this.opts);},format:function(value,metadata){return maskScope({"action":"format","value":value,"metadata":metadata},this.maskset||generateMaskSet(this.opts,this.noMasksCache),this.opts);}};Inputmask.extendDefaults=function(options){$.extend(Inputmask.prototype.defaults,options);};Inputmask.extendDefinitions=function(definition){$.extend(Inputmask.prototype.defaults.definitions,definition);};Inputmask.extendAliases=function(alias){$.extend(Inputmask.prototype.defaults.aliases,alias);};Inputmask.format=function(value,options,metadata){return Inputmask(options).format(value,metadata);};Inputmask.unmask=function(value,options){return Inputmask(options).unmaskedvalue(value);};Inputmask.isValid=function(value,options){return Inputmask(options).isValid(value);};Inputmask.escapeRegex=function(str){var specials=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return str.replace(new RegExp("(\\"+specials.join("|\\")+")","gim"),"\\$1");};Inputmask.keyCode={ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91};function isInputEventSupported(eventName){var el=document.createElement("input"),evName="on"+eventName,isSupported=(evName in el);if(!isSupported){el.setAttribute(evName,"return;");isSupported=typeof el[evName]=="function";}
el=null;return isSupported;}
function isInputTypeSupported(inputType){var isSupported=inputType==="text"||inputType==="tel"||inputType==="password";if(!isSupported){var el=document.createElement("input");el.setAttribute("type",inputType);isSupported=el.type==="text";el=null;}
return isSupported;}
function resolveAlias(aliasStr,options,opts){var aliasDefinition=opts.aliases[aliasStr];if(aliasDefinition){if(aliasDefinition.alias)resolveAlias(aliasDefinition.alias,undefined,opts);$.extend(true,opts,aliasDefinition);$.extend(true,opts,options);return true;}else
if(opts.mask===null){opts.mask=aliasStr;}
return false;}
function importAttributeOptions(npt,opts,userOptions){var attrOptions=npt.getAttribute("data-inputmask");function importOption(option){var optionData=npt.getAttribute("data-inputmask-"+option.toLowerCase());if(optionData!==null){optionData=typeof optionData=="boolean"?optionData:optionData.toString();if(typeof optionData==="string"&&option.indexOf("on")===0){optionData=eval("("+optionData+")");}
if(option==="mask"&&optionData.indexOf("[")===0){userOptions[option]=optionData.replace(/[\s[\]]/g,"").split(",");userOptions[option][0]=userOptions[option][0].replace("'","");userOptions[option][userOptions[option].length-1]=userOptions[option][userOptions[option].length-1].replace("'","");}else userOptions[option]=optionData;}}
if(attrOptions&&attrOptions!==""){try{attrOptions=attrOptions.replace(new RegExp("'","g"),'"');var dataoptions=$.parseJSON("{"+attrOptions+"}");$.extend(true,userOptions,dataoptions);}catch(ex){}}
for(var option in opts){importOption(option);}
if(userOptions.alias){resolveAlias(userOptions.alias,userOptions,opts);for(option in opts){importOption(option);}}
$.extend(true,opts,userOptions);return opts;}
function generateMaskSet(opts,nocache){var ms;function analyseMask(mask){var tokenizer=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,escaped=false,currentToken=new MaskToken(),match,m,openenings=[],maskTokens=[],openingToken,currentOpeningToken,alternator,lastMatch,groupToken;function MaskToken(isGroup,isOptional,isQuantifier,isAlternator){this.matches=[];this.isGroup=isGroup||false;this.isOptional=isOptional||false;this.isQuantifier=isQuantifier||false;this.isAlternator=isAlternator||false;this.quantifier={min:1,max:1};}
function insertTestDefinition(mtoken,element,position){var maskdef=opts.definitions[element];position=position!==undefined?position:mtoken.matches.length;var prevMatch=mtoken.matches[position-1];if(maskdef&&!escaped){maskdef.placeholder=$.isFunction(maskdef.placeholder)?maskdef.placeholder(opts):maskdef.placeholder;var prevalidators=maskdef.prevalidator,prevalidatorsL=prevalidators?prevalidators.length:0;for(var i=1;i<maskdef.cardinality;i++){var prevalidator=prevalidatorsL>=i?prevalidators[i-1]:[],validator=prevalidator.validator,cardinality=prevalidator.cardinality;mtoken.matches.splice(position++,0,{fn:validator?typeof validator==="string"?new RegExp(validator):new function(){this.test=validator;}:new RegExp("."),cardinality:cardinality?cardinality:1,optionality:mtoken.isOptional,newBlockMarker:prevMatch===undefined||prevMatch.def!==(maskdef.definitionSymbol||element),casing:maskdef.casing,def:maskdef.definitionSymbol||element,placeholder:maskdef.placeholder,mask:element});prevMatch=mtoken.matches[position-1];}
mtoken.matches.splice(position++,0,{fn:maskdef.validator?typeof maskdef.validator=="string"?new RegExp(maskdef.validator):new function(){this.test=maskdef.validator;}:new RegExp("."),cardinality:maskdef.cardinality,optionality:mtoken.isOptional,newBlockMarker:prevMatch===undefined||prevMatch.def!==(maskdef.definitionSymbol||element),casing:maskdef.casing,def:maskdef.definitionSymbol||element,placeholder:maskdef.placeholder,mask:element});}else{mtoken.matches.splice(position++,0,{fn:null,cardinality:0,optionality:mtoken.isOptional,newBlockMarker:prevMatch===undefined||prevMatch.def!==element,casing:null,def:element,placeholder:undefined,mask:element});escaped=false;}}
function verifyGroupMarker(lastMatch,isOpenGroup){if(lastMatch.isGroup){lastMatch.isGroup=false;insertTestDefinition(lastMatch,opts.groupmarker.start,0);if(isOpenGroup!==true){insertTestDefinition(lastMatch,opts.groupmarker.end);}}}
function maskCurrentToken(m,currentToken,lastMatch,extraCondition){if(currentToken.matches.length>0&&(extraCondition===undefined||extraCondition)){lastMatch=currentToken.matches[currentToken.matches.length-1];verifyGroupMarker(lastMatch);}
insertTestDefinition(currentToken,m);}
function defaultCase(){if(openenings.length>0){currentOpeningToken=openenings[openenings.length-1];maskCurrentToken(m,currentOpeningToken,lastMatch,!currentOpeningToken.isAlternator);if(currentOpeningToken.isAlternator){alternator=openenings.pop();for(var mndx=0;mndx<alternator.matches.length;mndx++){alternator.matches[mndx].isGroup=false;}
if(openenings.length>0){currentOpeningToken=openenings[openenings.length-1];currentOpeningToken.matches.push(alternator);}else{currentToken.matches.push(alternator);}}}else{maskCurrentToken(m,currentToken,lastMatch);}}
function reverseTokens(maskToken){function reverseStatic(st){if(st===opts.optionalmarker.start)st=opts.optionalmarker.end;else if(st===opts.optionalmarker.end)st=opts.optionalmarker.start;else if(st===opts.groupmarker.start)st=opts.groupmarker.end;else if(st===opts.groupmarker.end)st=opts.groupmarker.start;return st;}
maskToken.matches=maskToken.matches.reverse();for(var match in maskToken.matches){var intMatch=parseInt(match);if(maskToken.matches[match].isQuantifier&&maskToken.matches[intMatch+1]&&maskToken.matches[intMatch+1].isGroup){var qt=maskToken.matches[match];maskToken.matches.splice(match,1);maskToken.matches.splice(intMatch+1,0,qt);}
if(maskToken.matches[match].matches!==undefined){maskToken.matches[match]=reverseTokens(maskToken.matches[match]);}else{maskToken.matches[match]=reverseStatic(maskToken.matches[match]);}}
return maskToken;}
while(match=tokenizer.exec(mask)){m=match[0];if(escaped){defaultCase();continue;}
switch(m.charAt(0)){case opts.escapeChar:escaped=true;break;case opts.optionalmarker.end:case opts.groupmarker.end:openingToken=openenings.pop();if(openingToken!==undefined){if(openenings.length>0){currentOpeningToken=openenings[openenings.length-1];currentOpeningToken.matches.push(openingToken);if(currentOpeningToken.isAlternator){alternator=openenings.pop();for(var mndx=0;mndx<alternator.matches.length;mndx++){alternator.matches[mndx].isGroup=false;}
if(openenings.length>0){currentOpeningToken=openenings[openenings.length-1];currentOpeningToken.matches.push(alternator);}else{currentToken.matches.push(alternator);}}}else{currentToken.matches.push(openingToken);}}else defaultCase();break;case opts.optionalmarker.start:openenings.push(new MaskToken(false,true));break;case opts.groupmarker.start:openenings.push(new MaskToken(true));break;case opts.quantifiermarker.start:var quantifier=new MaskToken(false,false,true);m=m.replace(/[{}]/g,"");var mq=m.split(","),mq0=isNaN(mq[0])?mq[0]:parseInt(mq[0]),mq1=mq.length===1?mq0:(isNaN(mq[1])?mq[1]:parseInt(mq[1]));if(mq1==="*"||mq1==="+"){mq0=mq1==="*"?0:1;}
quantifier.quantifier={min:mq0,max:mq1};if(openenings.length>0){var matches=openenings[openenings.length-1].matches;match=matches.pop();if(!match.isGroup){groupToken=new MaskToken(true);groupToken.matches.push(match);match=groupToken;}
matches.push(match);matches.push(quantifier);}else{match=currentToken.matches.pop();if(!match.isGroup){groupToken=new MaskToken(true);groupToken.matches.push(match);match=groupToken;}
currentToken.matches.push(match);currentToken.matches.push(quantifier);}
break;case opts.alternatormarker:if(openenings.length>0){currentOpeningToken=openenings[openenings.length-1];lastMatch=currentOpeningToken.matches.pop();}else{lastMatch=currentToken.matches.pop();}
if(lastMatch.isAlternator){openenings.push(lastMatch);}else{alternator=new MaskToken(false,false,false,true);alternator.matches.push(lastMatch);openenings.push(alternator);}
break;default:defaultCase();}}
while(openenings.length>0){openingToken=openenings.pop();verifyGroupMarker(openingToken,true);currentToken.matches.push(openingToken);}
if(currentToken.matches.length>0){lastMatch=currentToken.matches[currentToken.matches.length-1];verifyGroupMarker(lastMatch);maskTokens.push(currentToken);}
if(opts.numericInput){reverseTokens(maskTokens[0]);}
return maskTokens;}
function generateMask(mask,metadata){if(mask===null||mask===""){return undefined;}else{if(mask.length===1&&opts.greedy===false&&opts.repeat!==0){opts.placeholder="";}
if(opts.repeat>0||opts.repeat==="*"||opts.repeat==="+"){var repeatStart=opts.repeat==="*"?0:(opts.repeat==="+"?1:opts.repeat);mask=opts.groupmarker.start+mask+opts.groupmarker.end+opts.quantifiermarker.start+repeatStart+","+opts.repeat+opts.quantifiermarker.end;}
var masksetDefinition;if(Inputmask.prototype.masksCache[mask]===undefined||nocache===true){masksetDefinition={"mask":mask,"maskToken":analyseMask(mask),"validPositions":{},"_buffer":undefined,"buffer":undefined,"tests":{},"metadata":metadata};if(nocache!==true){Inputmask.prototype.masksCache[opts.numericInput?mask.split("").reverse().join(""):mask]=masksetDefinition;}}else masksetDefinition=$.extend(true,{},Inputmask.prototype.masksCache[mask]);return masksetDefinition;}}
function preProcessMask(mask){mask=mask.toString();return mask;}
if($.isFunction(opts.mask)){opts.mask=opts.mask(opts);}
if($.isArray(opts.mask)){if(opts.mask.length>1){opts.keepStatic=opts.keepStatic===null?true:opts.keepStatic;var altMask="(";$.each(opts.numericInput?opts.mask.reverse():opts.mask,function(ndx,msk){if(altMask.length>1){altMask+=")|(";}
if(msk.mask!==undefined&&!$.isFunction(msk.mask)){altMask+=preProcessMask(msk.mask);}else{altMask+=preProcessMask(msk);}});altMask+=")";return generateMask(altMask,opts.mask);}else opts.mask=opts.mask.pop();}
if(opts.mask){if(opts.mask.mask!==undefined&&!$.isFunction(opts.mask.mask)){ms=generateMask(preProcessMask(opts.mask.mask),opts.mask);}else{ms=generateMask(preProcessMask(opts.mask),opts.mask);}}
return ms;}
var ua=navigator.userAgent,iphone=ua.match(new RegExp("iphone","i"))!==null,androidchrome=ua.match(new RegExp("android.*chrome.*","i"))!==null,androidfirefox=ua.match(new RegExp("android.*firefox.*","i"))!==null,PasteEventType=isInputEventSupported("paste")?"paste":isInputEventSupported("input")?"input":"propertychange";function maskScope(actionObj,maskset,opts){var isRTL=false,undoValue,compositionCaretPos,compositionData,el,$el,skipKeyPressEvent=false,skipInputEvent=false,ignorable=false,maxLength,mouseEnter=true;function getMaskTemplate(baseOnInput,minimalPos,includeInput){minimalPos=minimalPos||0;var maskTemplate=[],ndxIntlzr,pos=0,test,testPos;do{if(baseOnInput===true&&getMaskSet().validPositions[pos]){var validPos=getMaskSet().validPositions[pos];test=validPos.match;ndxIntlzr=validPos.locator.slice();maskTemplate.push(includeInput===true?validPos.input:getPlaceholder(pos,test));}else{testPos=getTestTemplate(pos,ndxIntlzr,pos-1);test=testPos.match;ndxIntlzr=testPos.locator.slice();maskTemplate.push(getPlaceholder(pos,test));}
pos++;}while((maxLength===undefined||pos-1<maxLength)&&test.fn!==null||(test.fn===null&&test.def!=="")||minimalPos>=pos);maskTemplate.pop();return maskTemplate;}
function getMaskSet(){return maskset;}
function resetMaskSet(soft){var maskset=getMaskSet();maskset.buffer=undefined;maskset.tests={};if(soft!==true){maskset._buffer=undefined;maskset.validPositions={};maskset.p=0;}}
function getLastValidPosition(closestTo,strict){var maskset=getMaskSet(),lastValidPosition=-1,valids=maskset.validPositions;if(closestTo===undefined)closestTo=-1;var before=lastValidPosition,after=lastValidPosition;for(var posNdx in valids){var psNdx=parseInt(posNdx);if(valids[psNdx]&&(strict||valids[psNdx].match.fn!==null)){if(psNdx<=closestTo)before=psNdx;if(psNdx>=closestTo)after=psNdx;}}
lastValidPosition=(before!==-1&&(closestTo-before)>1)||after<closestTo?before:after;return lastValidPosition;}
function setValidPosition(pos,validTest,fromSetValid){if(opts.insertMode&&getMaskSet().validPositions[pos]!==undefined&&fromSetValid===undefined){var positionsClone=$.extend(true,{},getMaskSet().validPositions),lvp=getLastValidPosition(),i;for(i=pos;i<=lvp;i++){delete getMaskSet().validPositions[i];}
getMaskSet().validPositions[pos]=validTest;var valid=true,j,vps=getMaskSet().validPositions;for(i=(j=pos);i<=lvp;i++){var t=positionsClone[i];if(t!==undefined){var posMatch=j,prevPosMatch=-1;while(posMatch<getMaskLength()&&((t.match.fn==null&&vps[i]&&(vps[i].match.optionalQuantifier===true||vps[i].match.optionality===true))||t.match.fn!=null)){if(t.match.fn===null||(!opts.keepStatic&&vps[i]&&(vps[i+1]!==undefined&&getTests(i+1,vps[i].locator.slice(),i).length>1||vps[i].alternation!==undefined))){posMatch++;}else posMatch=seekNext(j);if(positionCanMatchDefinition(posMatch,t.match.def)){valid=isValid(posMatch,t.input,true,true)!==false;j=posMatch;break;}else{valid=t.match.fn==null;if(prevPosMatch===posMatch)break;prevPosMatch=posMatch;}}}
if(!valid)break;}
if(!valid){getMaskSet().validPositions=$.extend(true,{},positionsClone);return false;}}else getMaskSet().validPositions[pos]=validTest;return true;}
function stripValidPositions(start,end,nocheck,strict){var i,startPos=start;getMaskSet().p=start;for(i=startPos;i<end;i++){if(getMaskSet().validPositions[i]!==undefined){if(nocheck===true||opts.canClearPosition(getMaskSet(),i,getLastValidPosition(),strict,opts)!==false){delete getMaskSet().validPositions[i];}}}
resetMaskSet(true);for(i=startPos+1;i<=getLastValidPosition();){while(getMaskSet().validPositions[startPos]!==undefined)startPos++;var s=getMaskSet().validPositions[startPos];if(i<startPos)i=startPos+1;var t=getMaskSet().validPositions[i];if(t!==undefined&&isMask(i)&&s===undefined){if(positionCanMatchDefinition(startPos,t.match.def)&&isValid(startPos,t.input,true)!==false){delete getMaskSet().validPositions[i];i++;}
startPos++;}else i++;}
var lvp=getLastValidPosition(),ml=getMaskLength();if(strict!==true&&nocheck!==true&&getMaskSet().validPositions[lvp]!==undefined&&getMaskSet().validPositions[lvp].input===opts.radixPoint){delete getMaskSet().validPositions[lvp];}
for(i=lvp+1;i<=ml;i++){if(getMaskSet().validPositions[i]){delete getMaskSet().validPositions[i];}}
resetMaskSet(true);}
function getTestTemplate(pos,ndxIntlzr,tstPs){var testPos=getMaskSet().validPositions[pos];if(testPos===undefined){var testPositions=getTests(pos,ndxIntlzr,tstPs),lvp=getLastValidPosition(),lvTest=getMaskSet().validPositions[lvp]||getTests(0)[0],lvTestAltArr=(lvTest.alternation!==undefined)?lvTest.locator[lvTest.alternation].toString().split(","):[];for(var ndx=0;ndx<testPositions.length;ndx++){testPos=testPositions[ndx];if(testPos.match&&(((opts.greedy&&testPos.match.optionalQuantifier!==true)||(testPos.match.optionality===false||testPos.match.newBlockMarker===false)&&testPos.match.optionalQuantifier!==true)&&((lvTest.alternation===undefined||lvTest.alternation!==testPos.alternation)||(testPos.locator[lvTest.alternation]!==undefined&&checkAlternationMatch(testPos.locator[lvTest.alternation].toString().split(","),lvTestAltArr))))){break;}}}
return testPos;}
function getTest(pos){if(getMaskSet().validPositions[pos]){return getMaskSet().validPositions[pos].match;}
return getTests(pos)[0].match;}
function positionCanMatchDefinition(pos,def){var valid=false,tests=getTests(pos);for(var tndx=0;tndx<tests.length;tndx++){if(tests[tndx].match&&tests[tndx].match.def===def){valid=true;break;}}
return valid;}
function getTests(pos,ndxIntlzr,tstPs,cacheable){var maskTokens=getMaskSet().maskToken,testPos=ndxIntlzr?tstPs:0,ndxInitializer=ndxIntlzr||[0],matches=[],insertStop=false,latestMatch,isFirstMatch;function resolveTestFromToken(maskToken,ndxInitializer,loopNdx,quantifierRecurse){function handleMatch(match,loopNdx,quantifierRecurse){if(testPos>10000){throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+getMaskSet().mask;}
if(testPos===pos&&match.matches===undefined){matches.push({"match":match,"locator":loopNdx.reverse()});return true;}else if(match.matches!==undefined){if(match.isGroup&&quantifierRecurse!==match){match=handleMatch(maskToken.matches[$.inArray(match,maskToken.matches)+1],loopNdx);if(match)return true;}else if(match.isOptional){var optionalToken=match;match=resolveTestFromToken(match,ndxInitializer,loopNdx,quantifierRecurse);if(match){latestMatch=matches[matches.length-1].match;isFirstMatch=$.inArray(latestMatch,optionalToken.matches)===0;if(isFirstMatch){insertStop=true;testPos=pos;}else return true;}}else if(match.isAlternator){var alternateToken=match,malternateMatches=[],maltMatches,currentMatches=matches.slice(),loopNdxCnt=loopNdx.length;var altIndex=ndxInitializer.length>0?ndxInitializer.shift():-1;if(altIndex===-1||typeof altIndex==="string"){var currentPos=testPos,ndxInitializerClone=ndxInitializer.slice(),altIndexArr=[];if(typeof altIndex=="string")altIndexArr=altIndex.split(",");for(var amndx=0;amndx<alternateToken.matches.length;amndx++){matches=[];match=handleMatch(alternateToken.matches[amndx],[amndx].concat(loopNdx),quantifierRecurse)||match;if(match!==true&&match!==undefined&&(altIndexArr[altIndexArr.length-1]<alternateToken.matches.length)){var ntndx=maskToken.matches.indexOf(match)+1;if(maskToken.matches.length>ntndx){match=handleMatch(maskToken.matches[ntndx],[ntndx].concat(loopNdx.slice(1,loopNdx.length)),quantifierRecurse);if(match){altIndexArr.push(ntndx.toString());$.each(matches,function(ndx,lmnt){lmnt.alternation=loopNdx.length-1;});}}}
maltMatches=matches.slice();testPos=currentPos;matches=[];for(var i=0;i<ndxInitializerClone.length;i++){ndxInitializer[i]=ndxInitializerClone[i];}
for(var ndx1=0;ndx1<maltMatches.length;ndx1++){var altMatch=maltMatches[ndx1];altMatch.alternation=altMatch.alternation||loopNdxCnt;for(var ndx2=0;ndx2<malternateMatches.length;ndx2++){var altMatch2=malternateMatches[ndx2];if(altMatch.match.mask===altMatch2.match.mask&&(typeof altIndex!=="string"||$.inArray(altMatch.locator[altMatch.alternation].toString(),altIndexArr)!==-1)){maltMatches.splice(ndx1,1);ndx1--;altMatch2.locator[altMatch.alternation]=altMatch2.locator[altMatch.alternation]+","+altMatch.locator[altMatch.alternation];altMatch2.alternation=altMatch.alternation;break;}}}
malternateMatches=malternateMatches.concat(maltMatches);}
if(typeof altIndex=="string"){malternateMatches=$.map(malternateMatches,function(lmnt,ndx){if(isFinite(ndx)){var mamatch,alternation=lmnt.alternation,altLocArr=lmnt.locator[alternation].toString().split(",");lmnt.locator[alternation]=undefined;lmnt.alternation=undefined;for(var alndx=0;alndx<altLocArr.length;alndx++){mamatch=$.inArray(altLocArr[alndx],altIndexArr)!==-1;if(mamatch){if(lmnt.locator[alternation]!==undefined){lmnt.locator[alternation]+=",";lmnt.locator[alternation]+=altLocArr[alndx];}else lmnt.locator[alternation]=parseInt(altLocArr[alndx]);lmnt.alternation=alternation;}}
if(lmnt.locator[alternation]!==undefined)return lmnt;}});}
matches=currentMatches.concat(malternateMatches);testPos=pos;insertStop=matches.length>0;}else{if(alternateToken.matches[altIndex]){match=handleMatch(alternateToken.matches[altIndex],[altIndex].concat(loopNdx),quantifierRecurse);}else match=false;}
if(match)return true;}else if(match.isQuantifier&&quantifierRecurse!==maskToken.matches[$.inArray(match,maskToken.matches)-1]){var qt=match;for(var qndx=(ndxInitializer.length>0)?ndxInitializer.shift():0;(qndx<(isNaN(qt.quantifier.max)?qndx+1:qt.quantifier.max))&&testPos<=pos;qndx++){var tokenGroup=maskToken.matches[$.inArray(qt,maskToken.matches)-1];match=handleMatch(tokenGroup,[qndx].concat(loopNdx),tokenGroup);if(match){latestMatch=matches[matches.length-1].match;latestMatch.optionalQuantifier=qndx>(qt.quantifier.min-1);isFirstMatch=$.inArray(latestMatch,tokenGroup.matches)===0;if(isFirstMatch){if(qndx>(qt.quantifier.min-1)){insertStop=true;testPos=pos;break;}else return true;}else{return true;}}}}else{match=resolveTestFromToken(match,ndxInitializer,loopNdx,quantifierRecurse);if(match)return true;}}else testPos++;}
for(var tndx=(ndxInitializer.length>0?ndxInitializer.shift():0);tndx<maskToken.matches.length;tndx++){if(maskToken.matches[tndx].isQuantifier!==true){var match=handleMatch(maskToken.matches[tndx],[tndx].concat(loopNdx),quantifierRecurse);if(match&&testPos===pos){return match;}else if(testPos>pos){break;}}}}
if(cacheable===true&&getMaskSet().tests[pos]){return getMaskSet().tests[pos];}
if(ndxIntlzr===undefined){var previousPos=pos-1,test;while((test=getMaskSet().validPositions[previousPos])===undefined&&previousPos>-1){if(getMaskSet().tests[previousPos]&&(test=getMaskSet().tests[previousPos][0])!==undefined){break;}
previousPos--;}
if(test!==undefined&&previousPos>-1){testPos=previousPos;ndxInitializer=test.locator.slice();}}
for(var mtndx=ndxInitializer.shift();mtndx<maskTokens.length;mtndx++){var match=resolveTestFromToken(maskTokens[mtndx],ndxInitializer,[mtndx]);if((match&&testPos===pos)||testPos>pos){break;}}
if(matches.length===0||insertStop){matches.push({"match":{fn:null,cardinality:0,optionality:true,casing:null,def:""},"locator":[]});}
getMaskSet().tests[pos]=$.extend(true,[],matches);return getMaskSet().tests[pos];}
function getBufferTemplate(){if(getMaskSet()._buffer===undefined){getMaskSet()._buffer=getMaskTemplate(false,1);}
return getMaskSet()._buffer;}
function getBuffer(){if(getMaskSet().buffer===undefined){getMaskSet().buffer=getMaskTemplate(true,getLastValidPosition(),true);}
return getMaskSet().buffer;}
function refreshFromBuffer(start,end,buffer){var i;buffer=buffer||getBuffer().slice();if(start===true){resetMaskSet();start=0;end=buffer.length;}else{for(i=start;i<end;i++){delete getMaskSet().validPositions[i];delete getMaskSet().tests[i];}}
for(i=start;i<end;i++){resetMaskSet(true);if(buffer[i]!==opts.skipOptionalPartCharacter){isValid(i,buffer[i],true,true);}}}
function casing(elem,test){switch(test.casing){case"upper":elem=elem.toUpperCase();break;case"lower":elem=elem.toLowerCase();break;}
return elem;}
function checkAlternationMatch(altArr1,altArr2){var altArrC=opts.greedy?altArr2:altArr2.slice(0,1),isMatch=false;for(var alndx=0;alndx<altArr1.length;alndx++){if($.inArray(altArr1[alndx],altArrC)!==-1){isMatch=true;break;}}
return isMatch;}
function isValid(pos,c,strict,fromSetValid){strict=strict===true;function _isValid(position,c,strict,fromSetValid){var rslt=false;$.each(getTests(position),function(ndx,tst){var test=tst.match;var loopend=c?1:0,chrs="";for(var i=test.cardinality;i>loopend;i--){chrs+=getBufferElement(position-(i-1));}
if(c){chrs+=c;}
rslt=test.fn!=null?test.fn.test(chrs,getMaskSet(),position,strict,opts):(c===test.def||c===opts.skipOptionalPartCharacter)&&test.def!==""?{c:test.def,pos:position}:false;if(rslt!==false){var elem=rslt.c!==undefined?rslt.c:c;elem=(elem===opts.skipOptionalPartCharacter&&test.fn===null)?test.def:elem;var validatedPos=position,possibleModifiedBuffer=getBuffer();if(rslt.remove!==undefined){if(!$.isArray(rslt.remove))rslt.remove=[rslt.remove];$.each(rslt.remove.sort(function(a,b){return b-a;}),function(ndx,lmnt){stripValidPositions(lmnt,lmnt+1,true);});}
if(rslt.insert!==undefined){if(!$.isArray(rslt.insert))rslt.insert=[rslt.insert];$.each(rslt.insert.sort(function(a,b){return a-b;}),function(ndx,lmnt){isValid(lmnt.pos,lmnt.c,true);});}
if(rslt.refreshFromBuffer){var refresh=rslt.refreshFromBuffer;strict=true;refreshFromBuffer(refresh===true?refresh:refresh.start,refresh.end,possibleModifiedBuffer);if(rslt.pos===undefined&&rslt.c===undefined){rslt.pos=getLastValidPosition();return false;}
validatedPos=rslt.pos!==undefined?rslt.pos:position;if(validatedPos!==position){rslt=$.extend(rslt,isValid(validatedPos,elem,true));return false;}}else if(rslt!==true&&rslt.pos!==undefined&&rslt.pos!==position){validatedPos=rslt.pos;refreshFromBuffer(position,validatedPos);if(validatedPos!==position){rslt=$.extend(rslt,isValid(validatedPos,elem,true));return false;}}
if(rslt!==true&&rslt.pos===undefined&&rslt.c===undefined){return false;}
if(ndx>0){resetMaskSet(true);}
if(!setValidPosition(validatedPos,$.extend({},tst,{"input":casing(elem,test)}),fromSetValid)){rslt=false;}
return false;}});return rslt;}
function alternate(pos,c,strict,fromSetValid){var validPsClone=$.extend(true,{},getMaskSet().validPositions),lastAlt,alternation,isValidRslt,altPos,i,validPos;for(var lAlt=getLastValidPosition();lAlt>=0;lAlt--){altPos=getMaskSet().validPositions[lAlt];if(altPos&&altPos.alternation!==undefined){lastAlt=lAlt;alternation=getMaskSet().validPositions[lastAlt].alternation;if(getTestTemplate(lastAlt).locator[altPos.alternation]!==altPos.locator[altPos.alternation]){break;}}}
if(alternation!==undefined){lastAlt=parseInt(lastAlt);for(var decisionPos in getMaskSet().validPositions){decisionPos=parseInt(decisionPos);altPos=getMaskSet().validPositions[decisionPos];if(decisionPos>=lastAlt&&altPos.alternation!==undefined){var altNdxs=getMaskSet().validPositions[lastAlt].locator[alternation].toString().split(","),decisionTaker=altPos.locator[alternation]||altNdxs[0];if(decisionTaker.length>0){decisionTaker=decisionTaker.split(",")[0];}
for(var mndx=0;mndx<altNdxs.length;mndx++){if(decisionTaker<altNdxs[mndx]){var possibilityPos,possibilities;for(var dp=decisionPos;dp>=0;dp--){possibilityPos=getMaskSet().validPositions[dp];if(possibilityPos!==undefined){possibilities=possibilityPos.locator[alternation];possibilityPos.locator[alternation]=parseInt(altNdxs[mndx]);break;}}
if(decisionTaker!==possibilityPos.locator[alternation]){var validInputs=[],staticInputsBeforePos=0;for(i=decisionPos+1;i<getLastValidPosition()+1;i++){validPos=getMaskSet().validPositions[i];if(validPos){if(validPos.match.fn!=null){validInputs.push(validPos.input);}else if(i<pos)staticInputsBeforePos++;}
delete getMaskSet().validPositions[i];delete getMaskSet().tests[i];}
resetMaskSet(true);opts.keepStatic=!opts.keepStatic;isValidRslt=true;while(validInputs.length>0){var input=validInputs.shift();if(input!==opts.skipOptionalPartCharacter){if(!(isValidRslt=isValid(getLastValidPosition()+1,input,false,true))){break;}}}
possibilityPos.alternation=alternation;possibilityPos.locator[alternation]=possibilities;if(isValidRslt){var targetLvp=getLastValidPosition(pos)+1;var staticInputsBeforePosAlternate=0;for(i=decisionPos+1;i<getLastValidPosition()+1;i++){validPos=getMaskSet().validPositions[i];if(validPos&&validPos.match.fn==null&&i<pos){staticInputsBeforePosAlternate++;}}
pos=pos+(staticInputsBeforePosAlternate-staticInputsBeforePos);isValidRslt=isValid(pos>targetLvp?targetLvp:pos,c,strict,fromSetValid);}
opts.keepStatic=!opts.keepStatic;if(!isValidRslt){resetMaskSet();getMaskSet().validPositions=$.extend(true,{},validPsClone);}else return isValidRslt;}}}
break;}}}
return false;}
function trackbackAlternations(originalPos,newPos){var vp=getMaskSet().validPositions[newPos],targetLocator=vp.locator,tll=targetLocator.length;for(var ps=originalPos;ps<newPos;ps++){if(!isMask(ps)){var tests=getTests(ps),bestMatch=tests[0],equality=-1;$.each(tests,function(ndx,tst){for(var i=0;i<tll;i++){if(tst.locator[i]&&checkAlternationMatch(tst.locator[i].toString().split(","),targetLocator[i].toString().split(","))&&equality<i){equality=i;bestMatch=tst;}}});setValidPosition(ps,$.extend({},bestMatch,{"input":bestMatch.match.def}),true);}}}
var buffer=getBuffer();for(var pndx=pos-1;pndx>-1;pndx--){if(getMaskSet().validPositions[pndx]){break;}}
pndx++;for(;pndx<pos;pndx++){if(getMaskSet().validPositions[pndx]===undefined&&(((!isMask(pndx)||buffer[pndx]!==getPlaceholder(pndx))&&getTests(pndx).length>1)||(buffer[pndx]===opts.radixPoint||buffer[pndx]==="0"&&$.inArray(opts.radixPoint,buffer)<pndx)))
{_isValid(pndx,buffer[pndx],true);}}
var maskPos=pos,result=false,positionsClone=$.extend(true,{},getMaskSet().validPositions);if(maskPos<getMaskLength()){getBuffer();result=_isValid(maskPos,c,strict,fromSetValid);if((!strict||fromSetValid)&&result===false){var currentPosValid=getMaskSet().validPositions[maskPos];if(currentPosValid&&currentPosValid.match.fn===null&&(currentPosValid.match.def===c||c===opts.skipOptionalPartCharacter)){result={"caret":seekNext(maskPos)};}else if((opts.insertMode||getMaskSet().validPositions[seekNext(maskPos)]===undefined)&&!isMask(maskPos)){for(var nPos=maskPos+1,snPos=seekNext(maskPos);nPos<=snPos;nPos++){result=_isValid(nPos,c,strict,fromSetValid);if(result!==false){trackbackAlternations(maskPos,nPos);maskPos=nPos;break;}}}}}
if(result===false&&opts.keepStatic&&isComplete(buffer)){result=alternate(pos,c,strict,fromSetValid);}
if(result===true){result={"pos":maskPos};}
if($.isFunction(opts.postValidation)&&result!==false&&!strict){resetMaskSet(true);var postValidResult=opts.postValidation(getBuffer(),opts);if(!postValidResult){resetMaskSet(true);getMaskSet().validPositions=$.extend(true,{},positionsClone);result=false;}else if(postValidResult.refreshFromBuffer){var refresh=postValidResult.refreshFromBuffer;refreshFromBuffer(refresh===true?refresh:refresh.start,refresh.end,postValidResult.buffer);resetMaskSet(true);result=postValidResult;}}
return result;}
function isMask(pos){var test=getTest(pos);if(test.fn!=null){return test.fn;}else if(pos>-1&&!opts.keepStatic&&getMaskSet().validPositions[pos]===undefined){var tests=getTests(pos),staticAlternations=true;for(var i=0;i<tests.length;i++){if(tests[i].match.def!==""&&((tests[i].alternation===undefined||tests[i].locator[tests[i].alternation].length>1))){staticAlternations=false;break;}}
return staticAlternations;}
return false;}
function getMaskLength(){var maskLength;maxLength=el!==undefined?el.maxLength:undefined;if(maxLength===-1)maxLength=undefined;var pos,lvp=getLastValidPosition(),testPos=getMaskSet().validPositions[lvp],ndxIntlzr=testPos!==undefined?testPos.locator.slice():undefined;for(pos=lvp+1;testPos===undefined||(testPos.match.fn!==null||(testPos.match.fn===null&&testPos.match.def!==""));pos++){testPos=getTestTemplate(pos,ndxIntlzr,pos-1);ndxIntlzr=testPos.locator.slice();}
var lastTest=getTest(pos-1);maskLength=(lastTest.def!=="")?pos:pos-1;return(maxLength===undefined||maskLength<maxLength)?maskLength:maxLength;}
function seekNext(pos,newBlock){var maskL=getMaskLength();if(pos>=maskL)return maskL;var position=pos;while(++position<maskL&&((newBlock===true&&(getTest(position).newBlockMarker!==true||!isMask(position)))||(newBlock!==true&&!isMask(position)&&(opts.nojumps!==true||opts.nojumpsThreshold>position)))){}
return position;}
function seekPrevious(pos,newBlock){var position=pos;if(position<=0)return 0;while(--position>0&&((newBlock===true&&getTest(position).newBlockMarker!==true)||(newBlock!==true&&!isMask(position)))){}
return position;}
function getBufferElement(position){return getMaskSet().validPositions[position]===undefined?getPlaceholder(position):getMaskSet().validPositions[position].input;}
function writeBuffer(input,buffer,caretPos,event,triggerInputEvent){if(event&&$.isFunction(opts.onBeforeWrite)){var result=opts.onBeforeWrite.call(input,event,buffer,caretPos,opts);if(result){if(result.refreshFromBuffer){var refresh=result.refreshFromBuffer;refreshFromBuffer(refresh===true?refresh:refresh.start,refresh.end,result.buffer||buffer);resetMaskSet(true);buffer=getBuffer();}
if(caretPos!==undefined)caretPos=result.caret!==undefined?result.caret:caretPos;}}
input.inputmask._valueSet(buffer.join(""));if(caretPos!==undefined&&(event===undefined||event.type!=="blur")){caret(input,caretPos);}
if(triggerInputEvent===true){skipInputEvent=true;$(input).trigger("input");}}
function getPlaceholder(pos,test){test=test||getTest(pos);if(test.placeholder!==undefined){return test.placeholder;}else if(test.fn===null){if(pos>-1&&!opts.keepStatic&&getMaskSet().validPositions[pos]===undefined){var tests=getTests(pos),hasAlternations=false,prevTest;for(var i=0;i<tests.length;i++){if(prevTest&&tests[i].match.def!==""&&(tests[i].match.def!==prevTest.match.def&&(tests[i].alternation===undefined||tests[i].alternation===prevTest.alternation))){hasAlternations=true;break;}
if(tests[i].match.optionality!==true&&tests[i].match.optionalQuantifier!==true){prevTest=tests[i];}}
if(hasAlternations){return opts.placeholder.charAt(pos%opts.placeholder.length);}}
return test.def;}else{return opts.placeholder.charAt(pos%opts.placeholder.length);}}
function checkVal(input,writeOut,strict,nptvl){var inputValue=nptvl.slice(),charCodes="",initialNdx=0;function isTemplateMatch(){var isMatch=false;var charCodeNdx=getBufferTemplate().slice(initialNdx,seekNext(initialNdx)).join("").indexOf(charCodes);if(charCodeNdx!==-1&&!isMask(initialNdx)){isMatch=true;var bufferTemplateArr=getBufferTemplate().slice(initialNdx,initialNdx+charCodeNdx);for(var i=0;i<bufferTemplateArr.length;i++){if(bufferTemplateArr[i]!==" "){isMatch=false;break;}}}
return isMatch;}
resetMaskSet();getMaskSet().p=seekNext(-1);if(!strict){if(opts.autoUnmask!==true){var staticInput=getBufferTemplate().slice(0,seekNext(-1)).join(""),matches=inputValue.join("").match(new RegExp("^"+Inputmask.escapeRegex(staticInput),"g"));if(matches&&matches.length>0){inputValue.splice(0,matches.length*staticInput.length);initialNdx=seekNext(initialNdx);}}else{initialNdx=seekNext(initialNdx);}}
$.each(inputValue,function(ndx,charCode){var keypress=$.Event("keypress");keypress.which=charCode.charCodeAt(0);charCodes+=charCode;var lvp=getLastValidPosition(undefined,true),lvTest=getMaskSet().validPositions[lvp],nextTest=getTestTemplate(lvp+1,lvTest?lvTest.locator.slice():undefined,lvp);if(!isTemplateMatch()||strict||opts.autoUnmask){var pos=strict?ndx:(nextTest.match.fn==null&&nextTest.match.optionality&&(lvp+1)<getMaskSet().p?lvp+1:getMaskSet().p);keypressEvent.call(input,keypress,true,false,strict,pos);initialNdx=pos+1;charCodes="";}else{keypressEvent.call(input,keypress,true,false,true,lvp+1);}});if(writeOut){writeBuffer(input,getBuffer(),document.activeElement===input?seekNext(getLastValidPosition(0)):undefined,$.Event("checkval"));}}
function unmaskedvalue(input){if(input&&input.inputmask===undefined){return input.value;}
var umValue=[],vps=getMaskSet().validPositions;for(var pndx in vps){if(vps[pndx].match&&vps[pndx].match.fn!=null){umValue.push(vps[pndx].input);}}
var unmaskedValue=umValue.length===0?null:(isRTL?umValue.reverse():umValue).join("");if(unmaskedValue!==null){var bufferValue=(isRTL?getBuffer().slice().reverse():getBuffer()).join("");if($.isFunction(opts.onUnMask)){unmaskedValue=(opts.onUnMask.call(input,bufferValue,unmaskedValue,opts)||unmaskedValue);}}
return unmaskedValue;}
function caret(input,begin,end){function translatePosition(pos){if(isRTL&&typeof pos==="number"&&(!opts.greedy||opts.placeholder!=="")){var bffrLght=getBuffer().join("").length;pos=bffrLght-pos;}
return pos;}
var range;if(typeof begin==="number"){begin=translatePosition(begin);end=translatePosition(end);end=(typeof end=="number")?end:begin;var scrollCalc=(input.ownerDocument.defaultView||window).getComputedStyle(input,null).fontSize.replace("px","")*end;input.scrollLeft=scrollCalc>input.scrollWidth?scrollCalc:0;if(!androidchrome&&opts.insertMode===false&&begin===end)end++;if(input.setSelectionRange){input.selectionStart=begin;input.selectionEnd=end;}else if(window.getSelection){range=document.createRange();if(input.firstChild===undefined){var textNode=document.createTextNode("");input.appendChild(textNode);}
range.setStart(input.firstChild,begin<input.inputmask._valueGet().length?begin:input.inputmask._valueGet().length);range.setEnd(input.firstChild,end<input.inputmask._valueGet().length?end:input.inputmask._valueGet().length);range.collapse(true);var sel=window.getSelection();sel.removeAllRanges();sel.addRange(range);}else if(input.createTextRange){range=input.createTextRange();range.collapse(true);range.moveEnd("character",end);range.moveStart("character",begin);range.select();}}else{if(input.setSelectionRange){begin=input.selectionStart;end=input.selectionEnd;}else if(window.getSelection){range=window.getSelection().getRangeAt(0);if(range.commonAncestorContainer.parentNode===input||range.commonAncestorContainer===input){begin=range.startOffset;end=range.endOffset;}}else if(document.selection&&document.selection.createRange){range=document.selection.createRange();begin=0-range.duplicate().moveStart("character",-100000);end=begin+range.text.length;}
return{"begin":translatePosition(begin),"end":translatePosition(end)};}}
function determineLastRequiredPosition(returnDefinition){var buffer=getBuffer(),bl=buffer.length,pos,lvp=getLastValidPosition(),positions={},lvTest=getMaskSet().validPositions[lvp],ndxIntlzr=lvTest!==undefined?lvTest.locator.slice():undefined,testPos;for(pos=lvp+1;pos<buffer.length;pos++){testPos=getTestTemplate(pos,ndxIntlzr,pos-1);ndxIntlzr=testPos.locator.slice();positions[pos]=$.extend(true,{},testPos);}
var lvTestAlt=lvTest&&lvTest.alternation!==undefined?lvTest.locator[lvTest.alternation]:undefined;for(pos=bl-1;pos>lvp;pos--){testPos=positions[pos];if((testPos.match.optionality||testPos.match.optionalQuantifier||(lvTestAlt&&((lvTestAlt!==positions[pos].locator[lvTest.alternation]&&testPos.match.fn!=null)||(testPos.match.fn===null&&testPos.locator[lvTest.alternation]&&checkAlternationMatch(testPos.locator[lvTest.alternation].toString().split(","),lvTestAlt.toString().split(","))&&getTests(pos)[0].def!==""))))&&buffer[pos]===getPlaceholder(pos,testPos.match)){bl--;}else break;}
return returnDefinition?{"l":bl,"def":positions[bl]?positions[bl].match:undefined}:bl;}
function clearOptionalTail(buffer){var rl=determineLastRequiredPosition(),lmib=buffer.length-1;for(;lmib>rl;lmib--){if(isMask(lmib))break;}
buffer.splice(rl,lmib+1-rl);return buffer;}
function isComplete(buffer){if($.isFunction(opts.isComplete))return opts.isComplete.call(el,buffer,opts);if(opts.repeat==="*")return undefined;var complete=false,lrp=determineLastRequiredPosition(true),aml=seekPrevious(lrp.l);if(lrp.def===undefined||lrp.def.newBlockMarker||lrp.def.optionality||lrp.def.optionalQuantifier){complete=true;for(var i=0;i<=aml;i++){var test=getTestTemplate(i).match;if((test.fn!==null&&getMaskSet().validPositions[i]===undefined&&test.optionality!==true&&test.optionalQuantifier!==true)||(test.fn===null&&buffer[i]!==getPlaceholder(i,test))){complete=false;break;}}}
return complete;}
function isSelection(begin,end){return isRTL?(begin-end)>1||((begin-end)===1&&opts.insertMode):(end-begin)>1||((end-begin)===1&&opts.insertMode);}
function wrapEvent(eventHandler){return function(e){var inComposition=false;if(this.inputmask===undefined){var imOpts=$.data(this,"_inputmask_opts");if(imOpts)(new Inputmask(imOpts)).mask(this);else $(this).off(".inputmask");}else if(e.type!=="setvalue"&&(this.disabled||(this.readOnly&&!(e.type==="keydown"&&(e.ctrlKey&&e.keyCode===67)||(opts.tabThrough===false&&e.keyCode===Inputmask.keyCode.TAB))))){e.preventDefault();}else{switch(e.type){case"input":if(skipInputEvent===true||inComposition===true){skipInputEvent=false;return e.preventDefault();}
break;case"keydown":skipKeyPressEvent=false;inComposition=false;break;case"keypress":if(skipKeyPressEvent===true){return e.preventDefault();}
skipKeyPressEvent=true;break;case"compositionstart":inComposition=true;break;case"compositionupdate":skipInputEvent=true;break;case"compositionend":inComposition=false;break;}
return eventHandler.apply(this,arguments);}};}
function patchValueProperty(npt){var valueGet;var valueSet;function patchValhook(type){if($.valHooks&&$.valHooks[type]===undefined||$.valHooks[type].inputmaskpatch!==true){var valhookGet=$.valHooks[type]&&$.valHooks[type].get?$.valHooks[type].get:function(elem){return elem.value;};var valhookSet=$.valHooks[type]&&$.valHooks[type].set?$.valHooks[type].set:function(elem,value){elem.value=value;return elem;};$.valHooks[type]={get:function(elem){if(elem.inputmask){if(elem.inputmask.opts.autoUnmask){return elem.inputmask.unmaskedvalue();}else{var result=valhookGet(elem),maskset=elem.inputmask.maskset,bufferTemplate=maskset._buffer;bufferTemplate=bufferTemplate?bufferTemplate.join(""):"";return result!==bufferTemplate?result:"";}}else return valhookGet(elem);},set:function(elem,value){var $elem=$(elem),result;result=valhookSet(elem,value);if(elem.inputmask){$elem.trigger("setvalue.inputmask");}
return result;},inputmaskpatch:true};}}
function getter(){if(this.inputmask){return this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():(valueGet.call(this)!==getBufferTemplate().join("")?valueGet.call(this):"");}else return valueGet.call(this);}
function setter(value){valueSet.call(this,value);if(this.inputmask){$(this).trigger("setvalue.inputmask");}}
function installNativeValueSetFallback(npt){$(npt).on("mouseenter.inputmask",wrapEvent(function(event){var $input=$(this),input=this,value=input.inputmask._valueGet();if(value!==""&&value!==getBuffer().join("")){$input.trigger("setvalue.inputmask");}}));}
if(!npt.inputmask.__valueGet){if(Object.getOwnPropertyDescriptor&&npt.value===undefined){valueGet=function(){return this.textContent;};valueSet=function(value){this.textContent=value;};Object.defineProperty(npt,"value",{get:getter,set:setter});}else if(document.__lookupGetter__&&npt.__lookupGetter__("value")){valueGet=npt.__lookupGetter__("value");valueSet=npt.__lookupSetter__("value");npt.__defineGetter__("value",getter);npt.__defineSetter__("value",setter);}else{valueGet=function(){return npt.value;};valueSet=function(value){npt.value=value;};patchValhook(npt.type);installNativeValueSetFallback(npt);}
npt.inputmask.__valueGet=valueGet;npt.inputmask._valueGet=function(overruleRTL){return isRTL&&overruleRTL!==true?valueGet.call(this.el).split("").reverse().join(""):valueGet.call(this.el);};npt.inputmask.__valueSet=valueSet;npt.inputmask._valueSet=function(value,overruleRTL){valueSet.call(this.el,(overruleRTL!==true&&isRTL&&value!==null&&value!==undefined)?value.split("").reverse().join(""):value);};}}
function handleRemove(input,k,pos,strict){function generalize(){if(opts.keepStatic){resetMaskSet(true);var validInputs=[],lastAlt,positionsClone=$.extend(true,{},getMaskSet().validPositions);for(lastAlt=getLastValidPosition();lastAlt>=0;lastAlt--){var validPos=getMaskSet().validPositions[lastAlt];if(validPos){if(validPos.match.fn!=null){validInputs.push(validPos.input);}
delete getMaskSet().validPositions[lastAlt];if(validPos.alternation!==undefined&&validPos.locator[validPos.alternation]===getTestTemplate(lastAlt).locator[validPos.alternation]){break;}}}
if(lastAlt>-1){while(validInputs.length>0){getMaskSet().p=seekNext(getLastValidPosition());var keypress=$.Event("keypress");keypress.which=validInputs.pop().charCodeAt(0);keypressEvent.call(input,keypress,true,false,false,getMaskSet().p);}}else getMaskSet().validPositions=$.extend(true,{},positionsClone);}}
if(opts.numericInput||isRTL){if(k===Inputmask.keyCode.BACKSPACE){k=Inputmask.keyCode.DELETE;}else if(k===Inputmask.keyCode.DELETE){k=Inputmask.keyCode.BACKSPACE;}
if(isRTL){var pend=pos.end;pos.end=pos.begin;pos.begin=pend;}}
if(k===Inputmask.keyCode.BACKSPACE&&(pos.end-pos.begin<1||opts.insertMode===false)){pos.begin=seekPrevious(pos.begin);if(getMaskSet().validPositions[pos.begin]!==undefined&&(getMaskSet().validPositions[pos.begin].input===opts.groupSeparator||getMaskSet().validPositions[pos.begin].input===opts.radixPoint)){pos.begin--;}}else if(k===Inputmask.keyCode.DELETE&&pos.begin===pos.end){pos.end=isMask(pos.end)?pos.end+1:seekNext(pos.end)+1;if(getMaskSet().validPositions[pos.begin]!==undefined&&(getMaskSet().validPositions[pos.begin].input===opts.groupSeparator||getMaskSet().validPositions[pos.begin].input===opts.radixPoint)){pos.end++;}}
stripValidPositions(pos.begin,pos.end,false,strict);if(strict!==true){generalize();}
var lvp=getLastValidPosition(pos.begin);if(lvp<pos.begin){if(lvp===-1)resetMaskSet();getMaskSet().p=seekNext(lvp);}else if(strict!==true){getMaskSet().p=pos.begin;}}
function keydownEvent(e){var input=this,$input=$(input),k=e.keyCode,pos=caret(input);if(k===Inputmask.keyCode.BACKSPACE||k===Inputmask.keyCode.DELETE||(iphone&&k===127)||(e.ctrlKey&&k===88&&!isInputEventSupported("cut"))){e.preventDefault();if(k===88)undoValue=getBuffer().join("");handleRemove(input,k,pos);writeBuffer(input,getBuffer(),getMaskSet().p,e,undoValue!==getBuffer().join(""));if(input.inputmask._valueGet()===getBufferTemplate().join("")){$input.trigger("cleared");}else if(isComplete(getBuffer())===true){$input.trigger("complete");}
if(opts.showTooltip){$input.prop("title",getMaskSet().mask);}}else if(k===Inputmask.keyCode.END||k===Inputmask.keyCode.PAGE_DOWN){setTimeout(function(){var caretPos=seekNext(getLastValidPosition());if(!opts.insertMode&&caretPos===getMaskLength()&&!e.shiftKey)caretPos--;caret(input,e.shiftKey?pos.begin:caretPos,caretPos);},0);}else if((k===Inputmask.keyCode.HOME&&!e.shiftKey)||k===Inputmask.keyCode.PAGE_UP){caret(input,0,e.shiftKey?pos.begin:0);}else if(((opts.undoOnEscape&&k===Inputmask.keyCode.ESCAPE)||(k===90&&e.ctrlKey))&&e.altKey!==true){checkVal(input,true,false,undoValue.split(""));$input.trigger("click");}else if(k===Inputmask.keyCode.INSERT&&!(e.shiftKey||e.ctrlKey)){opts.insertMode=!opts.insertMode;caret(input,!opts.insertMode&&pos.begin===getMaskLength()?pos.begin-1:pos.begin);}else if(opts.tabThrough===true&&k===Inputmask.keyCode.TAB){if(e.shiftKey===true){if(getTest(pos.begin).fn===null){pos.begin=seekNext(pos.begin);}
pos.end=seekPrevious(pos.begin,true);pos.begin=seekPrevious(pos.end,true);}else{pos.begin=seekNext(pos.begin,true);pos.end=seekNext(pos.begin,true);if(pos.end<getMaskLength())pos.end--;}
if(pos.begin<getMaskLength()){e.preventDefault();caret(input,pos.begin,pos.end);}}else if(opts.insertMode===false&&!e.shiftKey){if(k===Inputmask.keyCode.RIGHT){setTimeout(function(){var caretPos=caret(input);caret(input,caretPos.begin);},0);}else if(k===Inputmask.keyCode.LEFT){setTimeout(function(){var caretPos=caret(input);caret(input,isRTL?caretPos.begin+1:caretPos.begin-1);},0);}}
opts.onKeyDown(e,getBuffer(),caret(input).begin,opts);ignorable=$.inArray(k,opts.ignorables)!==-1;}
function keypressEvent(e,checkval,writeOut,strict,ndx){var input=this,$input=$(input),k=e.which||e.charCode||e.keyCode;if(checkval!==true&&(!(e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||ignorable))){if(k===Inputmask.keyCode.ENTER&&undoValue!==getBuffer().join("")){setTimeout(function(){$input.trigger("change");undoValue=getBuffer().join("");},0);}
return true;}else{if(k){if(k===46&&e.shiftKey===false&&opts.radixPoint===",")k=44;var pos=checkval?{begin:ndx,end:ndx}:caret(input),forwardPosition,c=String.fromCharCode(k);var isSlctn=isSelection(pos.begin,pos.end);if(isSlctn){getMaskSet().undoPositions=$.extend(true,{},getMaskSet().validPositions);handleRemove(input,Inputmask.keyCode.DELETE,pos,true);pos.begin=getMaskSet().p;if(!opts.insertMode){opts.insertMode=!opts.insertMode;setValidPosition(pos.begin,strict);opts.insertMode=!opts.insertMode;}
isSlctn=!opts.multi;}
getMaskSet().writeOutBuffer=true;var p=isRTL&&!isSlctn?pos.end:pos.begin;var valResult=isValid(p,c,strict);if(valResult!==false){if(valResult!==true){p=valResult.pos!==undefined?valResult.pos:p;c=valResult.c!==undefined?valResult.c:c;}
resetMaskSet(true);if(valResult.caret!==undefined){forwardPosition=valResult.caret;}else{var vps=getMaskSet().validPositions;if(!opts.keepStatic&&(vps[p+1]!==undefined&&getTests(p+1,vps[p].locator.slice(),p).length>1||vps[p].alternation!==undefined)){forwardPosition=p+1;}else forwardPosition=seekNext(p);}
getMaskSet().p=forwardPosition;}
if(writeOut!==false){var self=this;setTimeout(function(){opts.onKeyValidation.call(self,valResult,opts);},0);if(getMaskSet().writeOutBuffer&&valResult!==false){var buffer=getBuffer();writeBuffer(input,buffer,checkval?undefined:opts.numericInput?seekPrevious(forwardPosition):forwardPosition,e,checkval!==true);if(checkval!==true){setTimeout(function(){if(isComplete(buffer)===true)$input.trigger("complete");},0);}}else if(isSlctn){getMaskSet().buffer=undefined;getMaskSet().validPositions=getMaskSet().undoPositions;}}else if(isSlctn){getMaskSet().buffer=undefined;getMaskSet().validPositions=getMaskSet().undoPositions;}
if(opts.showTooltip){$input.prop("title",getMaskSet().mask);}
if(checkval&&$.isFunction(opts.onBeforeWrite)){var result=opts.onBeforeWrite(e,getBuffer(),forwardPosition,opts);if(result&&result.refreshFromBuffer){var refresh=result.refreshFromBuffer;refreshFromBuffer(refresh===true?refresh:refresh.start,refresh.end,result.buffer);resetMaskSet(true);if(result.caret){getMaskSet().p=result.caret;}}}
e.preventDefault();if(checkval){return valResult;}}}}
function pasteEvent(e){var input=this,$input=$(input),inputValue=input.inputmask._valueGet(true),caretPos=caret(input);if(e.type==="propertychange"&&input.inputmask._valueGet().length<=getMaskLength()){return true;}else if(e.type==="paste"){var valueBeforeCaret=inputValue.substr(0,caretPos.begin),valueAfterCaret=inputValue.substr(caretPos.end,inputValue.length);if(valueBeforeCaret===getBufferTemplate().slice(0,caretPos.begin).join(""))valueBeforeCaret="";if(valueAfterCaret===getBufferTemplate().slice(caretPos.end).join(""))valueAfterCaret="";if(window.clipboardData&&window.clipboardData.getData){inputValue=valueBeforeCaret+window.clipboardData.getData("Text")+valueAfterCaret;}else if(e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.getData){inputValue=valueBeforeCaret+e.originalEvent.clipboardData.getData("text/plain")+valueAfterCaret;}}
var pasteValue=inputValue;if($.isFunction(opts.onBeforePaste)){pasteValue=opts.onBeforePaste.call(input,inputValue,opts);if(pasteValue===false){e.preventDefault();return false;}
if(!pasteValue){pasteValue=inputValue;}}
checkVal(input,false,false,isRTL?pasteValue.split("").reverse():pasteValue.toString().split(""));writeBuffer(input,getBuffer(),undefined,e,true);$input.trigger("click");if(isComplete(getBuffer())===true){$input.trigger("complete");}
return false;}
function inputFallBackEvent(e){var input=this;checkVal(input,true,false,input.inputmask._valueGet().split(''));if(isComplete(getBuffer())===true){$(input).trigger("complete");}
e.preventDefault();}
function compositionStartEvent(e){var input=this;undoValue=getBuffer().join("");if(compositionData===""||e.originalEvent.data.indexOf(compositionData)!==0){compositionCaretPos=caret(input);}}
function compositionUpdateEvent(e){var input=this,caretPos=caret(input);if(e.originalEvent.data.indexOf(compositionData)===0){resetMaskSet();caretPos=compositionCaretPos;}
var newData=e.originalEvent.data;caret(input,caretPos.begin,caretPos.end);for(var i=0;i<newData.length;i++){var keypress=$.Event("keypress");keypress.which=newData.charCodeAt(i);skipKeyPressEvent=false;ignorable=false;keypressEvent.call(input,keypress);}
setTimeout(function(){var forwardPosition=getMaskSet().p;writeBuffer(input,getBuffer(),opts.numericInput?seekPrevious(forwardPosition):forwardPosition);},0);compositionData=e.originalEvent.data;}
function compositionEndEvent(e){}
function setValueEvent(e){var input=this,value=input.inputmask._valueGet();checkVal(input,true,false,($.isFunction(opts.onBeforeMask)?(opts.onBeforeMask.call(input,value,opts)||value):value).split(""));undoValue=getBuffer().join("");if((opts.clearMaskOnLostFocus||opts.clearIncomplete)&&input.inputmask._valueGet()===getBufferTemplate().join("")){input.inputmask._valueSet("");}}
function focusEvent(e){var input=this,nptValue=input.inputmask._valueGet();if(opts.showMaskOnFocus&&(!opts.showMaskOnHover||(opts.showMaskOnHover&&nptValue===""))){if(input.inputmask._valueGet()!==getBuffer().join("")){writeBuffer(input,getBuffer(),seekNext(getLastValidPosition()));}}else if(mouseEnter===false){caret(input,seekNext(getLastValidPosition()));}
if(opts.positionCaretOnTab===true){setTimeout(function(){caret(input,seekNext(getLastValidPosition()));},0);}
undoValue=getBuffer().join("");}
function mouseleaveEvent(e){var input=this;mouseEnter=false;if(opts.clearMaskOnLostFocus){var buffer=getBuffer().slice(),nptValue=input.inputmask._valueGet();if(document.activeElement!==input&&nptValue!==input.getAttribute("placeholder")&&nptValue!==""){if(getLastValidPosition()===-1&&nptValue===getBufferTemplate().join("")){buffer=[];}else{clearOptionalTail(buffer);}
writeBuffer(input,buffer);}}}
function clickEvent(e){function doRadixFocus(clickPos){if(opts.radixFocus&&opts.radixPoint!==""){var vps=getMaskSet().validPositions;if(vps[clickPos]===undefined||(vps[clickPos].input===getPlaceholder(clickPos))){if(clickPos<seekNext(-1))return true;var radixPos=$.inArray(opts.radixPoint,getBuffer());if(radixPos!==-1){for(var vp in vps){if(radixPos<vp&&vps[vp].input!==getPlaceholder(vp)){return false;}}
return true;}}}
return false;}
var input=this;if(document.activeElement===input){var selectedCaret=caret(input);if(selectedCaret.begin===selectedCaret.end){if(doRadixFocus(selectedCaret.begin)){caret(input,$.inArray(opts.radixPoint,getBuffer()));}else{var clickPosition=selectedCaret.begin,lvclickPosition=getLastValidPosition(clickPosition),lastPosition=seekNext(lvclickPosition);if(clickPosition<lastPosition){caret(input,!isMask(clickPosition)&&!isMask(clickPosition-1)?seekNext(clickPosition):clickPosition);}else{caret(input,opts.numericInput?0:lastPosition);}}}}}
function dblclickEvent(e){var input=this;setTimeout(function(){caret(input,0,seekNext(getLastValidPosition()));},0);}
function cutEvent(e){skipInputEvent=true;var input=this,$input=$(input),pos=caret(input);if(isRTL){var clipboardData=window.clipboardData||e.originalEvent.clipboardData,clipData=clipboardData.getData("text").split("").reverse().join("");clipboardData.setData("text",clipData);}
handleRemove(input,Inputmask.keyCode.DELETE,pos);writeBuffer(input,getBuffer(),getMaskSet().p,e,undoValue!==getBuffer().join(""));if(input.inputmask._valueGet()===getBufferTemplate().join("")){$input.trigger("cleared");}
if(opts.showTooltip){input.title=getMaskSet().mask;}}
function blurEvent(e){var $input=$(this),input=this;if(input.inputmask){var nptValue=input.inputmask._valueGet(),buffer=getBuffer().slice();if(undoValue!==buffer.join("")){setTimeout(function(){$input.trigger("change");undoValue=buffer.join("");},0);}
if(nptValue!==""){if(opts.clearMaskOnLostFocus){if(getLastValidPosition()===-1&&nptValue===getBufferTemplate().join("")){buffer=[];}else{clearOptionalTail(buffer);}}
if(isComplete(buffer)===false){setTimeout(function(){$input.trigger("incomplete");},0);if(opts.clearIncomplete){resetMaskSet();if(opts.clearMaskOnLostFocus){buffer=[];}else{buffer=getBufferTemplate().slice();}}}
writeBuffer(input,buffer,undefined,e);}}}
function mouseenterEvent(e){var input=this;mouseEnter=true;if(document.activeElement!==input&&opts.showMaskOnHover){if(input.inputmask._valueGet()!==getBuffer().join("")){writeBuffer(input,getBuffer());}}}
function mask(elem){el=elem;$el=$(el);if(opts.showTooltip){el.title=getMaskSet().mask;}
if(el.dir==="rtl"||opts.rightAlign){el.style.textAlign="right";}
if(el.dir==="rtl"||opts.numericInput){el.dir="ltr";el.removeAttribute("dir");el.inputmask.isRTL=true;isRTL=true;}
$el.off(".inputmask");patchValueProperty(el);if((el.tagName==="INPUT"&&isInputTypeSupported(el.getAttribute("type")))||el.isContentEditable){$(el.form).on("submit",function(){if(undoValue!==getBuffer().join("")){$el.trigger("change");}
if(opts.clearMaskOnLostFocus&&getLastValidPosition()===-1&&el.inputmask._valueGet&&el.inputmask._valueGet()===getBufferTemplate().join("")){el.inputmask._valueSet("");}
if(opts.removeMaskOnSubmit){el.inputmask._valueSet(el.inputmask.unmaskedvalue(),true);setTimeout(function(){writeBuffer(el,getBuffer());},0);}}).on("reset",function(){setTimeout(function(){$el.trigger("setvalue.inputmask");},0);});$el.on("mouseenter.inputmask",wrapEvent(mouseenterEvent)).on("blur.inputmask",wrapEvent(blurEvent)).on("focus.inputmask",wrapEvent(focusEvent)).on("mouseleave.inputmask",wrapEvent(mouseleaveEvent)).on("click.inputmask",wrapEvent(clickEvent)).on("dblclick.inputmask",wrapEvent(dblclickEvent)).on(PasteEventType+".inputmask dragdrop.inputmask drop.inputmask",wrapEvent(pasteEvent)).on("cut.inputmask",wrapEvent(cutEvent)).on("complete.inputmask",wrapEvent(opts.oncomplete)).on("incomplete.inputmask",wrapEvent(opts.onincomplete)).on("cleared.inputmask",wrapEvent(opts.oncleared)).on("keydown.inputmask",wrapEvent(keydownEvent)).on("keypress.inputmask",wrapEvent(keypressEvent));if(!androidfirefox){$el.on("compositionstart.inputmask",wrapEvent(compositionStartEvent)).on("compositionupdate.inputmask",wrapEvent(compositionUpdateEvent)).on("compositionend.inputmask",wrapEvent(compositionEndEvent));}
if(PasteEventType==="paste"){$el.on("input.inputmask",wrapEvent(inputFallBackEvent));}}
$el.on("setvalue.inputmask",wrapEvent(setValueEvent));var initialValue=$.isFunction(opts.onBeforeMask)?(opts.onBeforeMask.call(el,el.inputmask._valueGet(),opts)||el.inputmask._valueGet()):el.inputmask._valueGet();checkVal(el,true,false,initialValue.split(""));var buffer=getBuffer().slice();undoValue=buffer.join("");var activeElement;try{activeElement=document.activeElement;}catch(e){}
if(isComplete(buffer)===false){if(opts.clearIncomplete){resetMaskSet();}}
if(opts.clearMaskOnLostFocus){if(buffer.join("")===getBufferTemplate().join("")){buffer=[];}else{clearOptionalTail(buffer);}}
writeBuffer(el,buffer);if(activeElement===el){caret(el,seekNext(getLastValidPosition()));}}
var valueBuffer;if(actionObj!==undefined){switch(actionObj.action){case"isComplete":el=actionObj.el;return isComplete(getBuffer());case"unmaskedvalue":el=actionObj.el;if(el!==undefined&&el.inputmask!==undefined){maskset=el.inputmask.maskset;opts=el.inputmask.opts;isRTL=el.inputmask.isRTL;valueBuffer=isRTL?el.inputmask._valueGet().split("").reverse().join(""):el.inputmask._valueGet();}else valueBuffer=actionObj.value;if(opts.numericInput){isRTL=true;}
valueBuffer=($.isFunction(opts.onBeforeMask)?(opts.onBeforeMask(valueBuffer,opts)||valueBuffer):valueBuffer).split("");checkVal(undefined,false,false,isRTL?valueBuffer.reverse():valueBuffer);if($.isFunction(opts.onBeforeWrite))opts.onBeforeWrite(undefined,getBuffer(),0,opts);return unmaskedvalue(el);case"mask":el=actionObj.el;maskset=el.inputmask.maskset;opts=el.inputmask.opts;isRTL=el.inputmask.isRTL;undoValue=getBuffer().join("");mask(el);break;case"format":if(opts.numericInput){isRTL=true;}
valueBuffer=($.isFunction(opts.onBeforeMask)?(opts.onBeforeMask(actionObj.value,opts)||actionObj.value):actionObj.value).split("");checkVal(undefined,false,false,isRTL?valueBuffer.reverse():valueBuffer);if($.isFunction(opts.onBeforeWrite))opts.onBeforeWrite(undefined,getBuffer(),0,opts);if(actionObj.metadata){return{value:isRTL?getBuffer().slice().reverse().join(""):getBuffer().join(""),metadata:maskScope({"action":"getmetadata"},maskset,opts)};}
return isRTL?getBuffer().slice().reverse().join(""):getBuffer().join("");case"isValid":if(opts.numericInput){isRTL=true;}
valueBuffer=actionObj.value.split("");checkVal(undefined,false,true,isRTL?valueBuffer.reverse():valueBuffer);var buffer=getBuffer();var rl=determineLastRequiredPosition(),lmib=buffer.length-1;for(;lmib>rl;lmib--){if(isMask(lmib))break;}
buffer.splice(rl,lmib+1-rl);return isComplete(buffer)&&actionObj.value===buffer.join("");case"getemptymask":return getBufferTemplate();case"remove":el=actionObj.el;$el=$(el);maskset=el.inputmask.maskset;opts=el.inputmask.opts;el.inputmask._valueSet(unmaskedvalue(el));$el.off(".inputmask");var valueProperty;if(Object.getOwnPropertyDescriptor){valueProperty=Object.getOwnPropertyDescriptor(el,"value");}
if(valueProperty&&valueProperty.get){if(el.inputmask.__valueGet){Object.defineProperty(el,"value",{get:el.inputmask.__valueGet,set:el.inputmask.__valueSet});}}else if(document.__lookupGetter__&&el.__lookupGetter__("value")){if(el.inputmask.__valueGet){el.__defineGetter__("value",el.inputmask.__valueGet);el.__defineSetter__("value",el.inputmask.__valueSet);}}
el.inputmask=undefined;break;case"getmetadata":if($.isArray(maskset.metadata)){var alternation,lvp=getLastValidPosition();for(var firstAlt=lvp;firstAlt>=0;firstAlt--){if(getMaskSet().validPositions[firstAlt]&&getMaskSet().validPositions[firstAlt].alternation!==undefined){alternation=getMaskSet().validPositions[firstAlt].alternation;break;}}
if(alternation!==undefined){return maskset.metadata[getMaskSet().validPositions[lvp].locator[alternation]];}else return maskset.metadata[0];}
return maskset.metadata;}}}
window.Inputmask=Inputmask;return Inputmask;}));
/*!
 * @fileOverview TouchSwipe - jQuery Plugin
 * @version 1.6.18
 *
 * @author Matt Bryson http://www.github.com/mattbryson
 * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 * @see http://labs.rampinteractive.co.uk/touchSwipe/
 * @see http://plugins.jquery.com/project/touchSwipe
 * @license
 * Copyright (c) 2010-2015 Matt Bryson
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */
(function(factory){if(typeof define==='function'&&define.amd&&define.amd.jQuery){define(['jquery'],factory);}else if(typeof module!=='undefined'&&module.exports){factory(require("jquery"));}else{factory(jQuery);}}(function($){"use strict";var VERSION="1.6.18",LEFT="left",RIGHT="right",UP="up",DOWN="down",IN="in",OUT="out",NONE="none",AUTO="auto",SWIPE="swipe",PINCH="pinch",TAP="tap",DOUBLE_TAP="doubletap",LONG_TAP="longtap",HOLD="hold",HORIZONTAL="horizontal",VERTICAL="vertical",ALL_FINGERS="all",DOUBLE_TAP_THRESHOLD=10,PHASE_START="start",PHASE_MOVE="move",PHASE_END="end",PHASE_CANCEL="cancel",SUPPORTS_TOUCH='ontouchstart'in window,SUPPORTS_POINTER_IE10=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!SUPPORTS_TOUCH,SUPPORTS_POINTER=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!SUPPORTS_TOUCH,PLUGIN_NS='TouchSwipe';var defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:".noSwipe",preventDefaultEvents:true};$.fn.swipe=function(method){var $this=$(this),plugin=$this.data(PLUGIN_NS);if(plugin&&typeof method==='string'){if(plugin[method]){return plugin[method].apply(plugin,Array.prototype.slice.call(arguments,1));}else{$.error('Method '+method+' does not exist on jQuery.swipe');}}
else if(plugin&&typeof method==='object'){plugin['option'].apply(plugin,arguments);}
else if(!plugin&&(typeof method==='object'||!method)){return init.apply(this,arguments);}
return $this;};$.fn.swipe.version=VERSION;$.fn.swipe.defaults=defaults;$.fn.swipe.phases={PHASE_START:PHASE_START,PHASE_MOVE:PHASE_MOVE,PHASE_END:PHASE_END,PHASE_CANCEL:PHASE_CANCEL};$.fn.swipe.directions={LEFT:LEFT,RIGHT:RIGHT,UP:UP,DOWN:DOWN,IN:IN,OUT:OUT};$.fn.swipe.pageScroll={NONE:NONE,HORIZONTAL:HORIZONTAL,VERTICAL:VERTICAL,AUTO:AUTO};$.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:ALL_FINGERS};function init(options){if(options&&(options.allowPageScroll===undefined&&(options.swipe!==undefined||options.swipeStatus!==undefined))){options.allowPageScroll=NONE;}
if(options.click!==undefined&&options.tap===undefined){options.tap=options.click;}
if(!options){options={};}
options=$.extend({},$.fn.swipe.defaults,options);return this.each(function(){var $this=$(this);var plugin=$this.data(PLUGIN_NS);if(!plugin){plugin=new TouchSwipe(this,options);$this.data(PLUGIN_NS,plugin);}});}
function TouchSwipe(element,options){var options=$.extend({},options);var useTouchEvents=(SUPPORTS_TOUCH||SUPPORTS_POINTER||!options.fallbackToMouseEvents),START_EV=useTouchEvents?(SUPPORTS_POINTER?(SUPPORTS_POINTER_IE10?'MSPointerDown':'pointerdown'):'touchstart'):'mousedown',MOVE_EV=useTouchEvents?(SUPPORTS_POINTER?(SUPPORTS_POINTER_IE10?'MSPointerMove':'pointermove'):'touchmove'):'mousemove',END_EV=useTouchEvents?(SUPPORTS_POINTER?(SUPPORTS_POINTER_IE10?'MSPointerUp':'pointerup'):'touchend'):'mouseup',LEAVE_EV=useTouchEvents?(SUPPORTS_POINTER?'mouseleave':null):'mouseleave',CANCEL_EV=(SUPPORTS_POINTER?(SUPPORTS_POINTER_IE10?'MSPointerCancel':'pointercancel'):'touchcancel');var distance=0,direction=null,currentDirection=null,duration=0,startTouchesDistance=0,endTouchesDistance=0,pinchZoom=1,pinchDistance=0,pinchDirection=0,maximumsMap=null;var $element=$(element);var phase="start";var fingerCount=0;var fingerData={};var startTime=0,endTime=0,previousTouchEndTime=0,fingerCountAtRelease=0,doubleTapStartTime=0;var singleTapTimeout=null,holdTimeout=null;try{$element.bind(START_EV,touchStart);$element.bind(CANCEL_EV,touchCancel);}catch(e){$.error('events not supported '+START_EV+','+CANCEL_EV+' on jQuery.swipe');}
this.enable=function(){this.disable();$element.bind(START_EV,touchStart);$element.bind(CANCEL_EV,touchCancel);return $element;};this.disable=function(){removeListeners();return $element;};this.destroy=function(){removeListeners();$element.data(PLUGIN_NS,null);$element=null;};this.option=function(property,value){if(typeof property==='object'){options=$.extend(options,property);}else if(options[property]!==undefined){if(value===undefined){return options[property];}else{options[property]=value;}}else if(!property){return options;}else{$.error('Option '+property+' does not exist on jQuery.swipe.options');}
return null;}
function touchStart(jqEvent){if(getTouchInProgress()){return;}
if($(jqEvent.target).closest(options.excludedElements,$element).length>0){return;}
var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;if(event.pointerType&&event.pointerType=="mouse"&&options.fallbackToMouseEvents==false){return;};var ret,touches=event.touches,evt=touches?touches[0]:event;phase=PHASE_START;if(touches){fingerCount=touches.length;}
else if(options.preventDefaultEvents!==false){jqEvent.preventDefault();}
distance=0;direction=null;currentDirection=null;pinchDirection=null;duration=0;startTouchesDistance=0;endTouchesDistance=0;pinchZoom=1;pinchDistance=0;maximumsMap=createMaximumsData();cancelMultiFingerRelease();createFingerData(0,evt);if(!touches||(fingerCount===options.fingers||options.fingers===ALL_FINGERS)||hasPinches()){startTime=getTimeStamp();if(fingerCount==2){createFingerData(1,touches[1]);startTouchesDistance=endTouchesDistance=calculateTouchesDistance(fingerData[0].start,fingerData[1].start);}
if(options.swipeStatus||options.pinchStatus){ret=triggerHandler(event,phase);}}else{ret=false;}
if(ret===false){phase=PHASE_CANCEL;triggerHandler(event,phase);return ret;}else{if(options.hold){holdTimeout=setTimeout($.proxy(function(){$element.trigger('hold',[event.target]);if(options.hold){ret=options.hold.call($element,event,event.target);}},this),options.longTapThreshold);}
setTouchInProgress(true);}
return null;};function touchMove(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;if(phase===PHASE_END||phase===PHASE_CANCEL||inMultiFingerRelease())
return;var ret,touches=event.touches,evt=touches?touches[0]:event;var currentFinger=updateFingerData(evt);endTime=getTimeStamp();if(touches){fingerCount=touches.length;}
if(options.hold){clearTimeout(holdTimeout);}
phase=PHASE_MOVE;if(fingerCount==2){if(startTouchesDistance==0){createFingerData(1,touches[1]);startTouchesDistance=endTouchesDistance=calculateTouchesDistance(fingerData[0].start,fingerData[1].start);}else{updateFingerData(touches[1]);endTouchesDistance=calculateTouchesDistance(fingerData[0].end,fingerData[1].end);pinchDirection=calculatePinchDirection(fingerData[0].end,fingerData[1].end);}
pinchZoom=calculatePinchZoom(startTouchesDistance,endTouchesDistance);pinchDistance=Math.abs(startTouchesDistance-endTouchesDistance);}
if((fingerCount===options.fingers||options.fingers===ALL_FINGERS)||!touches||hasPinches()){direction=calculateDirection(currentFinger.start,currentFinger.end);currentDirection=calculateDirection(currentFinger.last,currentFinger.end);validateDefaultEvent(jqEvent,currentDirection);distance=calculateDistance(currentFinger.start,currentFinger.end);duration=calculateDuration();setMaxDistance(direction,distance);ret=triggerHandler(event,phase);if(!options.triggerOnTouchEnd||options.triggerOnTouchLeave){var inBounds=true;if(options.triggerOnTouchLeave){var bounds=getbounds(this);inBounds=isInBounds(currentFinger.end,bounds);}
if(!options.triggerOnTouchEnd&&inBounds){phase=getNextPhase(PHASE_MOVE);}
else if(options.triggerOnTouchLeave&&!inBounds){phase=getNextPhase(PHASE_END);}
if(phase==PHASE_CANCEL||phase==PHASE_END){triggerHandler(event,phase);}}}else{phase=PHASE_CANCEL;triggerHandler(event,phase);}
if(ret===false){phase=PHASE_CANCEL;triggerHandler(event,phase);}}
function touchEnd(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent,touches=event.touches;if(touches){if(touches.length&&!inMultiFingerRelease()){startMultiFingerRelease(event);return true;}else if(touches.length&&inMultiFingerRelease()){return true;}}
if(inMultiFingerRelease()){fingerCount=fingerCountAtRelease;}
endTime=getTimeStamp();duration=calculateDuration();if(didSwipeBackToCancel()||!validateSwipeDistance()){phase=PHASE_CANCEL;triggerHandler(event,phase);}else if(options.triggerOnTouchEnd||(options.triggerOnTouchEnd===false&&phase===PHASE_MOVE)){if(options.preventDefaultEvents!==false){jqEvent.preventDefault();}
phase=PHASE_END;triggerHandler(event,phase);}
else if(!options.triggerOnTouchEnd&&hasTap()){phase=PHASE_END;triggerHandlerForGesture(event,phase,TAP);}else if(phase===PHASE_MOVE){phase=PHASE_CANCEL;triggerHandler(event,phase);}
setTouchInProgress(false);return null;}
function touchCancel(){fingerCount=0;endTime=0;startTime=0;startTouchesDistance=0;endTouchesDistance=0;pinchZoom=1;cancelMultiFingerRelease();setTouchInProgress(false);}
function touchLeave(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;if(options.triggerOnTouchLeave){phase=getNextPhase(PHASE_END);triggerHandler(event,phase);}}
function removeListeners(){$element.unbind(START_EV,touchStart);$element.unbind(CANCEL_EV,touchCancel);$element.unbind(MOVE_EV,touchMove);$element.unbind(END_EV,touchEnd);if(LEAVE_EV){$element.unbind(LEAVE_EV,touchLeave);}
setTouchInProgress(false);}
function getNextPhase(currentPhase){var nextPhase=currentPhase;var validTime=validateSwipeTime();var validDistance=validateSwipeDistance();var didCancel=didSwipeBackToCancel();if(!validTime||didCancel){nextPhase=PHASE_CANCEL;}
else if(validDistance&&currentPhase==PHASE_MOVE&&(!options.triggerOnTouchEnd||options.triggerOnTouchLeave)){nextPhase=PHASE_END;}
else if(!validDistance&&currentPhase==PHASE_END&&options.triggerOnTouchLeave){nextPhase=PHASE_CANCEL;}
return nextPhase;}
function triggerHandler(event,phase){var ret,touches=event.touches;if(didSwipe()||hasSwipes()){ret=triggerHandlerForGesture(event,phase,SWIPE);}
if((didPinch()||hasPinches())&&ret!==false){ret=triggerHandlerForGesture(event,phase,PINCH);}
if(didDoubleTap()&&ret!==false){ret=triggerHandlerForGesture(event,phase,DOUBLE_TAP);}
else if(didLongTap()&&ret!==false){ret=triggerHandlerForGesture(event,phase,LONG_TAP);}
else if(didTap()&&ret!==false){ret=triggerHandlerForGesture(event,phase,TAP);}
if(phase===PHASE_CANCEL){touchCancel(event);}
if(phase===PHASE_END){if(touches){if(!touches.length){touchCancel(event);}}else{touchCancel(event);}}
return ret;}
function triggerHandlerForGesture(event,phase,gesture){var ret;if(gesture==SWIPE){$element.trigger('swipeStatus',[phase,direction||null,distance||0,duration||0,fingerCount,fingerData,currentDirection]);if(options.swipeStatus){ret=options.swipeStatus.call($element,event,phase,direction||null,distance||0,duration||0,fingerCount,fingerData,currentDirection);if(ret===false)return false;}
if(phase==PHASE_END&&validateSwipe()){clearTimeout(singleTapTimeout);clearTimeout(holdTimeout);$element.trigger('swipe',[direction,distance,duration,fingerCount,fingerData,currentDirection]);if(options.swipe){ret=options.swipe.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection);if(ret===false)return false;}
switch(direction){case LEFT:$element.trigger('swipeLeft',[direction,distance,duration,fingerCount,fingerData,currentDirection]);if(options.swipeLeft){ret=options.swipeLeft.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection);}
break;case RIGHT:$element.trigger('swipeRight',[direction,distance,duration,fingerCount,fingerData,currentDirection]);if(options.swipeRight){ret=options.swipeRight.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection);}
break;case UP:$element.trigger('swipeUp',[direction,distance,duration,fingerCount,fingerData,currentDirection]);if(options.swipeUp){ret=options.swipeUp.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection);}
break;case DOWN:$element.trigger('swipeDown',[direction,distance,duration,fingerCount,fingerData,currentDirection]);if(options.swipeDown){ret=options.swipeDown.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection);}
break;}}}
if(gesture==PINCH){$element.trigger('pinchStatus',[phase,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]);if(options.pinchStatus){ret=options.pinchStatus.call($element,event,phase,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData);if(ret===false)return false;}
if(phase==PHASE_END&&validatePinch()){switch(pinchDirection){case IN:$element.trigger('pinchIn',[pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]);if(options.pinchIn){ret=options.pinchIn.call($element,event,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData);}
break;case OUT:$element.trigger('pinchOut',[pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]);if(options.pinchOut){ret=options.pinchOut.call($element,event,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData);}
break;}}}
if(gesture==TAP){if(phase===PHASE_CANCEL||phase===PHASE_END){clearTimeout(singleTapTimeout);clearTimeout(holdTimeout);if(hasDoubleTap()&&!inDoubleTap()){doubleTapStartTime=getTimeStamp();singleTapTimeout=setTimeout($.proxy(function(){doubleTapStartTime=null;$element.trigger('tap',[event.target]);if(options.tap){ret=options.tap.call($element,event,event.target);}},this),options.doubleTapThreshold);}else{doubleTapStartTime=null;$element.trigger('tap',[event.target]);if(options.tap){ret=options.tap.call($element,event,event.target);}}}}else if(gesture==DOUBLE_TAP){if(phase===PHASE_CANCEL||phase===PHASE_END){clearTimeout(singleTapTimeout);clearTimeout(holdTimeout);doubleTapStartTime=null;$element.trigger('doubletap',[event.target]);if(options.doubleTap){ret=options.doubleTap.call($element,event,event.target);}}}else if(gesture==LONG_TAP){if(phase===PHASE_CANCEL||phase===PHASE_END){clearTimeout(singleTapTimeout);doubleTapStartTime=null;$element.trigger('longtap',[event.target]);if(options.longTap){ret=options.longTap.call($element,event,event.target);}}}
return ret;}
function validateSwipeDistance(){var valid=true;if(options.threshold!==null){valid=distance>=options.threshold;}
return valid;}
function didSwipeBackToCancel(){var cancelled=false;if(options.cancelThreshold!==null&&direction!==null){cancelled=(getMaxDistance(direction)-distance)>=options.cancelThreshold;}
return cancelled;}
function validatePinchDistance(){if(options.pinchThreshold!==null){return pinchDistance>=options.pinchThreshold;}
return true;}
function validateSwipeTime(){var result;if(options.maxTimeThreshold){if(duration>=options.maxTimeThreshold){result=false;}else{result=true;}}else{result=true;}
return result;}
function validateDefaultEvent(jqEvent,direction){if(options.preventDefaultEvents===false){return;}
if(options.allowPageScroll===NONE){jqEvent.preventDefault();}else{var auto=options.allowPageScroll===AUTO;switch(direction){case LEFT:if((options.swipeLeft&&auto)||(!auto&&options.allowPageScroll!=HORIZONTAL)){jqEvent.preventDefault();}
break;case RIGHT:if((options.swipeRight&&auto)||(!auto&&options.allowPageScroll!=HORIZONTAL)){jqEvent.preventDefault();}
break;case UP:if((options.swipeUp&&auto)||(!auto&&options.allowPageScroll!=VERTICAL)){jqEvent.preventDefault();}
break;case DOWN:if((options.swipeDown&&auto)||(!auto&&options.allowPageScroll!=VERTICAL)){jqEvent.preventDefault();}
break;case NONE:break;}}}
function validatePinch(){var hasCorrectFingerCount=validateFingers();var hasEndPoint=validateEndPoint();var hasCorrectDistance=validatePinchDistance();return hasCorrectFingerCount&&hasEndPoint&&hasCorrectDistance;}
function hasPinches(){return!!(options.pinchStatus||options.pinchIn||options.pinchOut);}
function didPinch(){return!!(validatePinch()&&hasPinches());}
function validateSwipe(){var hasValidTime=validateSwipeTime();var hasValidDistance=validateSwipeDistance();var hasCorrectFingerCount=validateFingers();var hasEndPoint=validateEndPoint();var didCancel=didSwipeBackToCancel();var valid=!didCancel&&hasEndPoint&&hasCorrectFingerCount&&hasValidDistance&&hasValidTime;return valid;}
function hasSwipes(){return!!(options.swipe||options.swipeStatus||options.swipeLeft||options.swipeRight||options.swipeUp||options.swipeDown);}
function didSwipe(){return!!(validateSwipe()&&hasSwipes());}
function validateFingers(){return((fingerCount===options.fingers||options.fingers===ALL_FINGERS)||!SUPPORTS_TOUCH);}
function validateEndPoint(){return fingerData[0].end.x!==0;}
function hasTap(){return!!(options.tap);}
function hasDoubleTap(){return!!(options.doubleTap);}
function hasLongTap(){return!!(options.longTap);}
function validateDoubleTap(){if(doubleTapStartTime==null){return false;}
var now=getTimeStamp();return(hasDoubleTap()&&((now-doubleTapStartTime)<=options.doubleTapThreshold));}
function inDoubleTap(){return validateDoubleTap();}
function validateTap(){return((fingerCount===1||!SUPPORTS_TOUCH)&&(isNaN(distance)||distance<options.threshold));}
function validateLongTap(){return((duration>options.longTapThreshold)&&(distance<DOUBLE_TAP_THRESHOLD));}
function didTap(){return!!(validateTap()&&hasTap());}
function didDoubleTap(){return!!(validateDoubleTap()&&hasDoubleTap());}
function didLongTap(){return!!(validateLongTap()&&hasLongTap());}
function startMultiFingerRelease(event){previousTouchEndTime=getTimeStamp();fingerCountAtRelease=event.touches.length+1;}
function cancelMultiFingerRelease(){previousTouchEndTime=0;fingerCountAtRelease=0;}
function inMultiFingerRelease(){var withinThreshold=false;if(previousTouchEndTime){var diff=getTimeStamp()-previousTouchEndTime
if(diff<=options.fingerReleaseThreshold){withinThreshold=true;}}
return withinThreshold;}
function getTouchInProgress(){return!!($element.data(PLUGIN_NS+'_intouch')===true);}
function setTouchInProgress(val){if(!$element){return;}
if(val===true){$element.bind(MOVE_EV,touchMove);$element.bind(END_EV,touchEnd);if(LEAVE_EV){$element.bind(LEAVE_EV,touchLeave);}}else{$element.unbind(MOVE_EV,touchMove,false);$element.unbind(END_EV,touchEnd,false);if(LEAVE_EV){$element.unbind(LEAVE_EV,touchLeave,false);}}
$element.data(PLUGIN_NS+'_intouch',val===true);}
function createFingerData(id,evt){var f={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};f.start.x=f.last.x=f.end.x=evt.pageX||evt.clientX;f.start.y=f.last.y=f.end.y=evt.pageY||evt.clientY;fingerData[id]=f;return f;}
function updateFingerData(evt){var id=evt.identifier!==undefined?evt.identifier:0;var f=getFingerData(id);if(f===null){f=createFingerData(id,evt);}
f.last.x=f.end.x;f.last.y=f.end.y;f.end.x=evt.pageX||evt.clientX;f.end.y=evt.pageY||evt.clientY;return f;}
function getFingerData(id){return fingerData[id]||null;}
function setMaxDistance(direction,distance){if(direction==NONE)return;distance=Math.max(distance,getMaxDistance(direction));maximumsMap[direction].distance=distance;}
function getMaxDistance(direction){if(maximumsMap[direction])return maximumsMap[direction].distance;return undefined;}
function createMaximumsData(){var maxData={};maxData[LEFT]=createMaximumVO(LEFT);maxData[RIGHT]=createMaximumVO(RIGHT);maxData[UP]=createMaximumVO(UP);maxData[DOWN]=createMaximumVO(DOWN);return maxData;}
function createMaximumVO(dir){return{direction:dir,distance:0}}
function calculateDuration(){return endTime-startTime;}
function calculateTouchesDistance(startPoint,endPoint){var diffX=Math.abs(startPoint.x-endPoint.x);var diffY=Math.abs(startPoint.y-endPoint.y);return Math.round(Math.sqrt(diffX*diffX+diffY*diffY));}
function calculatePinchZoom(startDistance,endDistance){var percent=(endDistance / startDistance)*1;return percent.toFixed(2);}
function calculatePinchDirection(){if(pinchZoom<1){return OUT;}else{return IN;}}
function calculateDistance(startPoint,endPoint){return Math.round(Math.sqrt(Math.pow(endPoint.x-startPoint.x,2)+Math.pow(endPoint.y-startPoint.y,2)));}
function calculateAngle(startPoint,endPoint){var x=startPoint.x-endPoint.x;var y=endPoint.y-startPoint.y;var r=Math.atan2(y,x);var angle=Math.round(r*180 / Math.PI);if(angle<0){angle=360-Math.abs(angle);}
return angle;}
function calculateDirection(startPoint,endPoint){if(comparePoints(startPoint,endPoint)){return NONE;}
var angle=calculateAngle(startPoint,endPoint);if((angle<=45)&&(angle>=0)){return LEFT;}else if((angle<=360)&&(angle>=315)){return LEFT;}else if((angle>=135)&&(angle<=225)){return RIGHT;}else if((angle>45)&&(angle<135)){return DOWN;}else{return UP;}}
function getTimeStamp(){var now=new Date();return now.getTime();}
function getbounds(el){el=$(el);var offset=el.offset();var bounds={left:offset.left,right:offset.left+el.outerWidth(),top:offset.top,bottom:offset.top+el.outerHeight()}
return bounds;}
function isInBounds(point,bounds){return(point.x>bounds.left&&point.x<bounds.right&&point.y>bounds.top&&point.y<bounds.bottom);};function comparePoints(pointA,pointB){return(pointA.x==pointB.x&&pointA.y==pointB.y);}}}));!function(t){"use strict";var s=function(s,e){this.el=t(s),this.options=t.extend({},t.fn.typed.defaults,e),this.isInput=this.el.is("input"),this.attr=this.options.attr,this.showCursor=this.isInput?!1:this.options.showCursor,this.elContent=this.attr?this.el.attr(this.attr):this.el.text(),this.contentType=this.options.contentType,this.typeSpeed=this.options.typeSpeed,this.startDelay=this.options.startDelay,this.backSpeed=this.options.backSpeed,this.backDelay=this.options.backDelay,this.stringsElement=this.options.stringsElement,this.strings=this.options.strings,this.strPos=0,this.arrayPos=0,this.stopNum=0,this.loop=this.options.loop,this.loopCount=this.options.loopCount,this.curLoop=0,this.stop=!1,this.cursorChar=this.options.cursorChar,this.shuffle=this.options.shuffle,this.sequence=[],this.build()};s.prototype={constructor:s,init:function(){var t=this;t.timeout=setTimeout(function(){for(var s=0;s<t.strings.length;++s)t.sequence[s]=s;t.shuffle&&(t.sequence=t.shuffleArray(t.sequence)),t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos)},t.startDelay)},build:function(){var s=this;if(this.showCursor===!0&&(this.cursor=t('<span class="typed-cursor">'+this.cursorChar+"</span>"),this.el.after(this.cursor)),this.stringsElement){this.strings=[],this.stringsElement.hide(),console.log(this.stringsElement.children());var e=this.stringsElement.children();t.each(e,function(e,i){s.strings.push(t(i).html())})}this.init()},typewrite:function(t,s){if(this.stop!==!0){var e=Math.round(70*Math.random())+this.typeSpeed,i=this;i.timeout=setTimeout(function(){var e=0,r=t.substr(s);if("^"===r.charAt(0)){var o=1;/^\^\d+/.test(r)&&(r=/\d+/.exec(r)[0],o+=r.length,e=parseInt(r)),t=t.substring(0,s)+t.substring(s+o)}if("html"===i.contentType){var n=t.substr(s).charAt(0);if("<"===n||"&"===n){var a="",h="";for(h="<"===n?">":";";t.substr(s+1).charAt(0)!==h&&(a+=t.substr(s).charAt(0),s++,!(s+1>t.length)););s++,a+=h}}i.timeout=setTimeout(function(){if(s===t.length){if(i.options.onStringTyped(i.arrayPos),i.arrayPos===i.strings.length-1&&(i.options.callback(),i.curLoop++,i.loop===!1||i.curLoop===i.loopCount))return;i.timeout=setTimeout(function(){i.backspace(t,s)},i.backDelay)}else{0===s&&i.options.preStringTyped(i.arrayPos);var e=t.substr(0,s+1);i.attr?i.el.attr(i.attr,e):i.isInput?i.el.val(e):"html"===i.contentType?i.el.html(e):i.el.text(e),s++,i.typewrite(t,s)}},e)},e)}},backspace:function(t,s){if(this.stop!==!0){var e=Math.round(70*Math.random())+this.backSpeed,i=this;i.timeout=setTimeout(function(){if("html"===i.contentType&&">"===t.substr(s).charAt(0)){for(var e="";"<"!==t.substr(s-1).charAt(0)&&(e-=t.substr(s).charAt(0),s--,!(0>s)););s--,e+="<"}var r=t.substr(0,s);i.attr?i.el.attr(i.attr,r):i.isInput?i.el.val(r):"html"===i.contentType?i.el.html(r):i.el.text(r),s>i.stopNum?(s--,i.backspace(t,s)):s<=i.stopNum&&(i.arrayPos++,i.arrayPos===i.strings.length?(i.arrayPos=0,i.shuffle&&(i.sequence=i.shuffleArray(i.sequence)),i.init()):i.typewrite(i.strings[i.sequence[i.arrayPos]],s))},e)}},shuffleArray:function(t){var s,e,i=t.length;if(i)for(;--i;)e=Math.floor(Math.random()*(i+1)),s=t[e],t[e]=t[i],t[i]=s;return t},reset:function(){var t=this;clearInterval(t.timeout);this.el.attr("id");this.el.empty(),"undefined"!=typeof this.cursor&&this.cursor.remove(),this.strPos=0,this.arrayPos=0,this.curLoop=0,this.options.resetCallback()}},t.fn.typed=function(e){return this.each(function(){var i=t(this),r=i.data("typed"),o="object"==typeof e&&e;r&&r.reset(),i.data("typed",r=new s(this,o)),"string"==typeof e&&r[e]()})},t.fn.typed.defaults={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,shuffle:!1,backDelay:500,loop:!1,loopCount:!1,showCursor:!0,cursorChar:"",attr:null,contentType:"html",callback:function(){},preStringTyped:function(){},onStringTyped:function(){},resetCallback:function(){}}}(window.jQuery);$(function(){var $typedJSContainer=$('.website_homepage_1st_screen_no_more_value_text');$typedJSContainer.typed({startDelay:1500,strings:["ON-DEMAND","EXPERIENCED","RELIABLE","FAIR PRICE","NO HIDDEN COSTS","SPECIALIST PHOTOGRAPHERS","EASY BOOKING","EXPERT RETOUCHING"],typeSpeed:30,backSpeed:0,backDelay:1500,loop:true});

var startDate=new Date($('#currentServerTime').val());if(startDate.getHours()<=8){startDate.setHours(11);startDate.setMinutes(0);}else if(startDate.getHours()>=21){startDate.setDate(startDate.getDate()+1);startDate.setHours(11);startDate.setMinutes(0);}else if(startDate.getHours()>=17){startDate.setDate(startDate.getDate()+1);startDate.setHours(8);startDate.setMinutes(0);}else{startDate.setHours(startDate.getHours()+4);startDate.setMinutes(startDate.getMinutes()+15);}
var $InstantlyBookingInput=$('.instantly_booking_form_date_input');$InstantlyBookingInput.on('change',function(){$(this).siblings('.instantly_booking_form_text').hide();});$InstantlyBookingInput.mobiscroll().datetime({theme:(mobilecheck()?'ios':'mobiscroll'),display:(mobilecheck()?'bottom':'center'),headerText:false,maxWidth:(mobilecheck()?[99,65,72,60,20,20]:[100,80,120,80,80,80]),dateOrder:'ddMyy',timeWheels:'HHii',defaultDate:startDate,min:startDate,circular:true,steps:{minute:15,zeroBased:true},dateFormat:'D, d M yy,',dateWheels:'D M d yy',timeFormat:'H:ii',invalid:[{start:'00:00',end:'07:59'},{start:'21:15',end:'23:59'},{start:'21:45',end:'21:45'},'1/1','12/24','12/25','12/26']});var $LocationInput=$('.instantly_booking_form_location_input');$LocationInput.on('click',function(){$(this).siblings('.instantly_booking_form_text').remove();$(this).focus();});$LocationInput.on('focusout',function(){if(!$(this).val()){$(this).parent().append('<span class="instantly_booking_form_text">Location</span>');}});var $EventInput=$('.instantly_booking_form_event_input');$EventInput.on('click',function(){$(this).siblings('.instantly_booking_form_text').remove();$(this).focus();});});function checkAndSendInstantBookingForm(e){e.preventDefault();if($('.website-welcome-page-location-hint').length>0)
return false;var curErrors=[];if($('.instantly_booking_form_event_input').parent().find('.instantly_booking_form_text').length>0)
curErrors.push('your event type');if($('.instantly_booking_form_date_input').parent().find('.instantly_booking_form_text:visible').length>0)
curErrors.push('when');if($('.instantly_booking_form_location_input').parent().find('.instantly_booking_form_text').length>0)
curErrors.push('where');if(curErrors.length>0){errorStr='';if(curErrors.length<2){errorStr+=curErrors[0];}else{for(var i=0;i<curErrors.length;i++){errorStr+=(i==0?'':(i==(curErrors.length-1)?' and ':', '))+curErrors[i];}}
showInstantBookingError('Please let us know '+errorStr+' you\'d like to book for');return false;}
var sendAr={preorder:JSON.stringify({rushDelivery:false,photosSizePay:false,commercialUse:false,allRawFiles:false,photographersNum:1,hourSelectorValue:2,total:147,startDate:$('.instantly_booking_form_date_input').val(),description:'',address:$('.instantly_booking_form_location_input').val(),eventType:$('.instantly_booking_form_event_input').val(),extraPhotographer:false,type:'Photosession',pricePlan:1,postCode:''}),total:147,type:'Photosession'};$.post($('#prepaymentRoute').val(),sendAr,function(data){if(data.code!=undefined){window.location.href='/payment/'+data.code;return false;}else
showInstantBookingError('Cannot create new order');return false;},'json').fail(function(){showInstantBookingError('Cannot create new order');return false;});return false;}
function showInstantBookingError(text){$('.headerOrderBlockErrorPlace').remove();$('body').prepend('<div class="headerOrderBlockErrorPlace">'+text+'</div>');$('.headerOrderBlockErrorPlace').animate({top:0},400);if(bookingErrorTimer)
clearTimeout(bookingErrorTimer);bookingErrorTimer=setTimeout(function(){$('.headerOrderBlockErrorPlace').remove();},7000);}